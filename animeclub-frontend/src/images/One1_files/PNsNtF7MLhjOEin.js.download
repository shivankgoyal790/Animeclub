!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){var d=a.document.getElementById(b);d&&(d.style.display=c)}function e(a,b){var c=a.id||a.parentElement.id;a.style.display=b;for(var e=0;e<j.length;e++)d(window,c+j[e],b)}function f(a){e(a,"none")}function g(a){e(a,"block")}function h(a,b){d(a,b,"none")}function i(a,b){d(a,b,"block")}c.__esModule=!0;var j=["_wrapper","_before","_after","_sponsored"];c.collapseAd=f,c.collapseElement=h,c.uncollapseAd=g,c.uncollapseElement=i},{}],2:[function(a,b,c){"use strict";!function(a,b,c,d){var e,f,g="top_ad injected_billboard injected_navstrip top_rhs middle_rhs btf_rhs2 rhs_cornerstone bottom_ad inline20 inline40 inline50 inline60 inline80 inlinebottom".split(" "),h="top_ad top_rhs injected_navstrip injected_billboard navboard".split(" "),i=window.top.ad_utils.slot_events,j=function(a){consoleLog(a,"ads-amazon-csm")},k={},l={},m={},n={},o=window.ue_t0;if("function"!=typeof a||"function"!=typeof b)return void j("uet() / uex() not available, will not record CSM metrics");for(f=0;f<g.length;f++)!function(e){i.listen(e,"iframe",function(){if(k[e]=(new Date).getTime(),a("bb",e,{wb:1}),c.count(e+":custom-start",1),d){var b=d("Content",{element:{slotId:e,type:"widget"}});b("mark","widget-begin",Date.now())}}),i.listen(e,"request",function(){l[e]=(new Date).getTime(),a("be",e,{wb:1})}),i.listen(e,"tagdeliver",function(){m[e]=(new Date).getTime(),a("af",e,{wb:1})}),i.listen(e,"reflow",function(b){var c=(new Date).getTime();0===b.data.duration&&o&&(c=o+10),n[e]=c,a("cf",e,{wb:1},c)}),i.listen(e,"load",function(){if(generic.monitoring){var f=generic.monitoring.get_remnant_partner(e),g=e+"."+f;if("none"!==f&&(a("bb",g,{wb:1},k[e]),a("be",g,{wb:1},l[e]),a("af",g,{wb:1},m[e]),a("cf",g,{wb:1},n[e]),b("ld",g,{wb:1})),b("ld",e,{wb:1}),c.count(e+":custom-load",1),d){var h=d("Content",{element:{slotId:e,type:"widget"}});h("mark","widget-end",Date.now()),h("mark","loaded",Date.now())}}})}(g[f]);window.top.ad_utils.ads_header.on_done(function(){var c=[],d=function(a){var b,c=0;for(b in a)c=Math.max(c,a[b]);return c};for(f=0;f<h.length;f++)e=h[f],e in window.top.ad_utils.slots_on_page&&c.push(e);j("determined core_slots: "+c.join(",")),i.listen_all(c,"iframe",function(){a("bb","core_ads",{wb:1},d(k))}),i.listen_all(c,"request",function(){a("be","core_ads",{wb:1},d(l))}),i.listen_all(c,"tagdeliver",function(){a("af","core_ads",{wb:1},d(m))}),i.listen_all(c,"reflow",function(){a("cf","core_ads",{wb:1},d(n))}),i.listen_all(c,"load",function(){b("ld","core_ads",{wb:1})})})}(window.uet,window.uex,window.ue,window.csa)},{}],3:[function(a,b,c){"use strict";!function(){var a=function(a){try{a()}catch(b){consoleError(b.message,"imdbads.cmd")}};window.imdbads=window.imdbads||{},imdbads.cmd=imdbads.cmd||[],window.top.ad_utils.ads_header.on_done(function(){var b=0,c=imdbads.cmd||[];for(b=0;b<c.length;b++)a(c[b]);imdbads.cmd={push:function(b){a(b)}}})}()},{}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"frameDoc",value:function(a){var b="string"==typeof a?document.getElementById(a):a;if(!b||"IFRAME"===b.tagName)return b.src.length>0&&-1===b.src.indexOf("www.imdb.com")&&-1===b.src.indexOf("javascript:")?void window.generic.monitoring.record_event("iframe_not_sourceless_fdoc",!1):b.contentWindow?b.contentWindow.document:b.contentDocument}},{key:"getSlotWrapper",value:function(a){return document.getElementById(a+"_wrapper")}},{key:"getContextualFragment",value:function(a,b){if(!a||!b)return null;var c=a.createRange();return c?c.createContextualFragment(b):null}},{key:"appendContentToIframeDoc",value:function(a,b){if(null!==a){var c=this.getContextualFragment(a,b);null!==c&&a.body.appendChild(c)}}}]),a}();c["default"]=new f,b.exports=c["default"]},{}],5:[function(a,b,c){"use strict";!function(a){a.install(a,{extended_split:function(a,b,c){for(var d,e=[],f=0;(!c||e.length<c-1)&&(d=a.indexOf(b,f),-1!==d);)e.push(a.substring(f,d)),f=d+b.length;return e.push(a.substring(f)),e},object_from_querystring:function(b){var c,d,e=b.split("&"),f={};if(""===b)return{};for(c=0;c<e.length;c++)d=a.extended_split(e[c],"=",2),f[d[0]]=1===d.length?null:decodeURIComponent(d[1]);return f},cookie:{set:function(a,b,c){var d,e,f,g;if(c){var h=new Date;h.setTime(h.getTime()+24*c*60*60*1e3),d="; expires="+h.toGMTString()}else d="";e=document.location.host.split("."),f=e.pop(),g=e.pop(),document.cookie=a+"="+escape(b)+d+"; path=/; domain="+g+"."+f},get:function(a){var b,c,d=document.cookie.split(";");for(b=0;b<d.length;b++)if("string"==typeof d[b]&&(c=d[b].split("="),c[0]&&c[1]&&c[0].replace(/\s/,"")===a))return unescape(c[1]);return null},erase:function(a){this.set(a,"",-1)}}})}(window.generic)},{}],6:[function(a,b,c){"use strict";window.IMDbTimer&&window.IMDbTimer.events&&!function(a,b,c){generic.send_csm_head_metrics=function(){a.record("csm_head_pre_title",c.csm_head_pre_title-b),a.record("csm_head_post_title",c.csm_head_post_title-b),a.record("csm_head_pre_css",c.csm_head_pre_css-b),a.record("csm_head_post_css",c.csm_head_post_css-b),a.record("csm_head_pre_icon",c.csm_head_pre_icon-b),a.record("csm_head_post_icon",c.csm_head_post_icon-b),a.record("csm_head_pre_ads",c.csm_head_pre_ads-b)}}(csm,IMDbTimer.starttime,IMDbTimer.events)},{}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(37),f=d(e),g=a(42);!function(a,b,c){var d=a.generic=a.generic||{},e={},h=a.IMDbTimer,i="IMDbTimer"in a?a.IMDbTimer.starttime:NaN,j=b.location.hash.match("debug=1"),k=j||!isNaN(i)&&Math.random()<.2,l=j||Math.random()<.25,m="none",n="1P",o={load:1,trueload:1,reflow:1,request:1,tagdeliver:1,iframe:1},p=function(){var b={},e={},f={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,navboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2,inline80:2},g={top_ad:1,top_rhs:1,bottom_ad:1},h={reflow:1,"ad-delivery":1,load:1},i={};return d.on_document_ready(function(e){e(a).on("beforeunload",function(){var a,e;for(a in b)e=b[a],e.request&&e.load===c&&d.monitoring.record_event("ad_load_failure."+a);d.monitoring.send_metrics()})}),{is_slot_monitored:function(a){return a in f||a in g},is_twilight_slot:function(a){return a in f},is_twilight_core_slot:function(a){return a in f&&1===f[a]},is_forester_slot:function(a){return a in g},is_forester_event:function(a,b){return this.is_forester_slot(a)&&b in h},set_metric_value:function(a,c,d){(b[a]=b[a]||{})[c]=d},get_metric_value:function(a,c){return a in b?b[a][c]:void 0},core_slots:function(){var a,b={};for(a in f)1===f[a]&&(b[a]=1);return b},record_slot_status:function(a){var b=a.match(/^(.*)\.(got_ad|null|blank|fail)$/);b&&(i[b[1]]=b[2])},core_slots_have_an_ad:function(){var a,b=!1;for(a in p.core_slots()){if(!(a in i))return null;"got_ad"===i[a]&&(b=!0)}return b},set_partner:function(a,b){return e[a]=b,this},get_partner:function(a){return e[a]},set_remnant_partner:function(a,b){return p.set_partner(a,b)},get_remnant_partner:function(a){return p.get_partner(a)}}}(),q="https://www.imdb.com/twilight/?",r=function(){var b,c=function(){var a="DART";return{prepare_and_send_metric:function(b,c,d,e){f({slot:c,ad_network_name:a,aid:b.aid,cid:b.cid,slot_event:d,time:e})}}}(),e=function(){var b="PDA",c=20,d=100;return{prepare_and_send_metric:function(e,g,h){var i,j,k=c;(j=function(){i=a.top.ad_utils.get_cornerstone_ad_object(e),i?f({slot:e,ad_network_name:b,aid:i.adId,cid:i.creativeId,slot_event:g,time:h}):--k&&setTimeout(j,d)})()}}}(),f=function(c){var e,f,g,h,i,k,m,n,o,q,r;l&&p.is_forester_slot(c.slot)&&(e="https://fls-na.amazon.com/1/display-ads-cx/1/OP/?",f="LMET",g="imdb",h=a.top.ad_utils.get_mapped_amazon_slot_name(c.slot),i=b,k=c.ad_network_name,m=c.aid,n=c.cid,q=c.time,o=c.slot_event,r='{"s":"'+g+'","l":"'+h+'","p":"'+i+'","n":"'+k+'","a":"'+m+'","c":"'+n+'","m":"'+o+'","v":"'+q+'"}',j&&consoleLog(r+" metrics sent","forester"),d.one_way_send(e+f+escape(r)))};return{send_forester_metric:function(a,b,d,f){c.prepare_and_send_metric(a,b,d,f),e.prepare_and_send_metric(b,d,f)},set_page_type:function(a){b=a}}}();a.csm=function(){var a={};return{measure:function(a,b){this.record(a,this.duration(),b)},record:function(b,c,e,f){var g,h=a[b];if(k&&!csm.metrics[b]&&d.monitoring.record_metric(b+(f?f:""),c,e),csm.metrics[b]=c,h){for(g=0;g<h.length;g++)try{h[g](c,b)}catch(i){consoleLog("error invoking callback for "+b,"csm")}delete a[b]}},duration:function(a){return(a?a:+new Date)-i},listen:function(b,c){b in csm.metrics?setTimeout(c,0):(a[b]=a[b]||[]).push(c)},metrics:{}}}(),d.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:!1,twilight_info:"",twilight_client:function(){var a,b=navigator.userAgent;return a=b.match(/MSIE (\d+)/),a&&a[1]>=6?"ie"+a[1]:(a=b.match(/Mac OS.*Firefox\/(\d+)/))?"3"===a[1]?"firefox3-mac":"firefox-mac":(a=b.match(/Firefox\/(\d+)/),a?"3"===a[1]?"firefox3":"firefox":-1!==b.indexOf("Chrome")?"chrome":-1!==b.indexOf("Safari")?"safari":-1!==b.indexOf("Opera")?"opera":"Other")}(),isTwilightActiveSample:k,page_type:"",start_timing:function(a){this.start_timing_at(a,(new Date).getTime())},start_timing_at:function(a,b){this.event_starts[a]=b,this.events_to_stop++},stop_timing:function(a,b,c){var d=(new Date).getTime(),e=a;this.event_starts[a]&&(this.event_stops[a]=d,b&&(e+="."+b),this.record_metric(e,d-this.event_starts[a]),delete this.event_starts[a],this.events_to_stop--,(c||this.all_events_started_flag&&0===this.events_to_stop)&&this.send_metrics())},record_event:function(a,b){var c;if(this.event_counters.push(a),a in e)for(weblab in e[a])c=a+"__weblab_"+weblab,this.event_counters.push(c),consoleLog(c,"twilight");consoleLog(a,"twilight"),b&&this.send_metrics()},record_metric:function(a,b,c){var d,f;if(p.record_slot_status(a),this.event_duration[a]=b,consoleLog(a+","+b,"twilight"),a in e)for(d in e[a])f=a+"__weblab_"+d,this.event_duration[f]=b,consoleLog(f+","+b,"twilight");c&&this.send_metrics()},send_metrics:function(){var b,c,e=q+this.twilight_info,f=[],g=0,h="",i=function(a,b){f.push(function(){return g++,"&Operation."+g+"="+a+"&OperationTiming."+g+"="+b})},j=function(a){f.push(function(){return g++,"&Counter."+g+"="+a})},k=function(){h.length&&(d.one_way_send(e+h+"&ord="+a.top.ad_utils.ord),consoleLog("metrics sent ("+g+")","twilight"),h="",g=0)},l=1700;for(b in this.event_duration)i(b,this.event_duration[b]);for(this.event_duration={},c=0;c<this.event_counters.length;c++)j(this.event_counters[c]);for(this.event_counters=[],c=0;c<f.length;c++)h+=f[c](),h.length+e.length>l&&k();k()},set_twilight_info:function(a,b,c,d,e,f){h&&"java"===h.pt&&(a+=".java"),this.twilight_info="PageType="+a+"&Geo="+b+"&tw_ord="+c+"&timestamp="+d+"&Client="+this.twilight_client+"&Site="+f,q=e},set_forester_info:function(a){r.set_page_type(a)},all_events_started:function(){this.all_events_started_flag=!0},set_partner:function(a,b){var c=g.getSlotName(a);p.set_partner(c,b)},set_partner_by_slot:function(a,b){p.set_partner(a,b)},get_partner:function(a){return p.get_partner(a)||m},set_remnant_partner:function(a,b){d.monitoring.set_partner(a,b)},get_remnant_partner:function(a){return d.monitoring.get_partner(a)},set_remnant_partner_fallback:function(a,b){var c=p.get_partner(a);"undefined"==typeof c?p.set_partner(a,b):p.set_partner(a,c+"_"+b)},update_slot_metrics:function(b,e,g){var h,i=a.top.ad_utils.get_slot_iframe(b),j=null,k="."+d.monitoring.get_partner(b);if(f["default"].isSafeframeSlot(b,i)){if(!(e in o))return;j=f["default"].getSfAdObject(b)}else j=i&&i.contentWindow&&i.contentWindow.document?i.contentWindow.document.ad:null;b&&p.is_slot_monitored(b)&&p.get_metric_value(b,e)===c&&(p.set_metric_value(b,e,c!==g?g:csm.duration()),h=p.get_metric_value(b,e),j&&p.is_forester_event(b,e)&&(r.send_forester_metric(j,b,e,h),"load"===e&&r.send_forester_metric(j,b,"ad-delivery",p.get_metric_value(b,"load")-p.get_metric_value(b,"request"))),p.is_twilight_slot(b)&&(csm.record("csm_"+b+"_"+e,h,0,k),"load"===e&&"."+m!==k&&"."+n!==k&&csm.record("csm_"+b+"_deliver",h-p.get_metric_value(b,"tagdeliver"),0,k),p.is_twilight_core_slot(b)&&s.send(e)))},update_sf_slot_metrics:function(b){var c=JSON.parse(b);if(c&&c.slot&&c.event)if("reflow"===c.event)f["default"].fireSfReflowMetric(c.slot);else if("fireload"===c.event){var e=a.top.ad_utils.get_slot_iframe(c.slot);e.onload=function(){f["default"].onSfAdLoad(c.slot)}}else d.monitoring.update_slot_metrics(c.slot,c.event)},get_metric_value:function(a,b){return p.get_metric_value(a,b)},enable_weblab_metrics:function(a,b,c){var d,f;for(d=0;d<c.length;d++)f=c[d],e[f]=e[f]||{},e[f][a+"_"+b]=1}},d.on_document_ready(function(c){var e;c(a).on("beforeunload",function(c){var d=(b.location+"").split("#",2)[0];a.name="clicktoresponse:"+(new Date).getTime()+":"+d}),d.monitoring.isTwilightActiveSample&&(csm.measure("csm_ready"),c(a).on("load",function(){csm.measure("csm_load",!0)}),c("div.dfp_slot").each(function(){d.monitoring.record_event("dfp_slot")}),e=parseInt(c("#servertime").attr("time"),10),isNaN(e)||d.monitoring.record_metric("csm_server",e))}),function(){if("http:"===b.location.protocol){var c,e=a.name.match(/^clicktoresponse:(\d+):(.*)$/);e&&(b.referrer===e[2]&&h&&(c=h.starttime-e[1],h.clicktoresponse=c,d.monitoring.record_metric("click_to_response",c)),a.name="")}}();var s=function(){var b,e=[],f=p.core_slots(),g={},h=!1,i=function(){var a;if(!h){h=!0,consoleLog("Finalized core ads on current page: "+e.join(","));for(a in g)s.send(a)}};for(b in f)a.top.ad_utils.slot_events.listen(b,"iframe",function(a){e.push(a.slot),e.length===f.length&&i()});return d.on_document_ready(i),{send:function(a){var b,d,f=0;if(h){for(d=0;d<e.length;d++){if(b=p.get_metric_value(e[d],a),c===b)return;f=Math.max(f,b)}csm.record("csm_core_ads_"+a,f)}else g[a]=1}}}()}(window,document)},{37:37,42:42}],8:[function(a,b,c){"use strict";!function(a){var b=["mediaviewer_banner"],c=["inline20","inline40","inline50","inline60","inline80","inlinebottom"],d={},e={},f=function(a,b,c,d){var e=new h(b,c,d?d:{});try{a(e)}catch(f){consoleError(f)}},g=function(a,b){return a+":"+b},h=function(a,b,c){this.slot=a,this.event=b,this.data=c},i=function(a,b){return function(){0===--b&&a.apply(this,arguments)}};a.slot_events={listen:function(a,c,h){if(!(b.indexOf(a)>-1)){var i,j,k,l=c.replace(/(^\s+|\s+$)/g,"").split(/\s+/);for(k=0;k<l.length;k++)j=l[k],i=g(a,j),i in e?f(h,a,j,e[i]):(d[i]=d[i]||[]).push(h);return this}},listen_all:function(a,b,c){var d,e=i(c,a.length);for(d=0;d<a.length;d++)this.listen(a[d],b,e)},trigger:function(a,h,i){if(!(b.indexOf(a)>-1)){var j,k=g(a,h),l=d[k]||[],m=k.split(":")[0];if(k in e&&(m?!c.includes(m):!0))return generic.monitoring.record_event(k+"_already_fired",!1),void consoleError("attempted to fire "+k+", but it has already fired!");for(e[k]=i,j=0;j<l.length;j++)f(l[j],a,h,i);return this}},has_fired:function(a,b){return g(a,b)in e}}}(window.top.ad_utils)},{}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=a(4),g=d(f),h=a(37),i=d(h),j=a(26),k=d(j),l=a(25),m=d(l),n=a(29),o=d(n),p=a(18),q=d(p),r=a(39),s=a(42),t=a(1),u=a(38),v=a(10),w=a(50),x=a(33),y=a(22),z=a(23);String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.slice(b||0,a.length)===a}),function(a,b,c){var d=a.ads_js_start?(new Date).getTime()-a.ads_js_start:null,f=navigator.userAgent,h=/MSIE|Trident\/\d+/.test(f),j=/Firefox/.test(f),l=a.generic,n={top_ad:"t",top_rhs:"tr"},p={injected_billboard:"top_ad",injected_navstrip:"top_ad",navboard:"top_ad"},A={top_ad:{width:"728px",height:"300px"},injected_billboard:{width:"970px",height:"500px"},top_rhs:{width:"988px",height:"320px"}},B={b:1,l:1,bl:1},C=function(a){var c=b.getElementById(a),d=i["default"].getSafeframeDiv(a);return d&&"IFRAME"!==d.tagName?d.getElementsByTagName("iframe")[0]:c},D=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):a.addEventListener(b,c,!1)},E=1e16*Math.random(),F={},G={},H=function(){var c,d,e="as",f=function(){var a="{";d&&("h"in d&&(a+=g("h")),"h"in d&&"n"in d&&(a+=","),"n"in d&&(a+=g("n"))),a+="}",l.cookie.set(e,a,l.days_to_midnight||1)},g=function(a){var b="";return jQuery.each(d[a],function(a,c){b+='"'+a+'":['+i(c[0])+","+i(c[1])+"],"}),'"'+a+'":{'+b.substr(0,b.length-1)+"}"},h=function(){var a=l.cookie.get(e);if(a)try{d=JSON.parse(a),c=c||d||{}}catch(b){c=c||(d={})}},i=function(a){var b=parseInt(a,10);return isFinite(b)?b:0},j=function(){return"/"===b.location.pathname?"h":"n"},k=function(b,c){var d=a.top.ad_utils.get_ad_object(b[0]);return"none"===b.css("display")?0:parseInt(d.w,10)},m=function(b,c){var d=0,e=a.top.ad_utils.get_ad_object(b[0]),f=parseInt(e.h,10);return"top_ad"===c?jQuery("#nb20").hasClass("banner")?d=-5:jQuery("#nb20").hasClass("supertab")&&(d=-15):"injected_billboard"===c&&(d=20),b.id&&"swfAutoMaxHeight"in b[0].contentWindow&&(f=b[0].contentWindow.swfMinHeight),"none"===b.css("display")||0===f?0:f+d},n=function(a){var b=$("#"+a);return 0!==b.length&&"IFRAME"!==b[0].tagName&&(b=b.find("iframe")),b},o={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib",bottom_ad:"b",btf_rhs2:"br"};return{store:function(){l.on_document_ready(function(a){var b;try{h(),d=d||{},b=d[j()]||{},a.each(o,function(a,c){var d=n(a);0!==d.length&&(b[c]=[k(d,a),m(d,a)])}),d[j()]=b,f()}catch(c){consoleLog("Failed to store ad size cookie "+c.toString(),"ads")}})}}}();a.ad_size_cookie=H,x.initializeResponsiveAdApi();var I=function(){var c=function(a,c){var d=g["default"].frameDoc(a);j||d.open("text/html","replace");var e="";return e="https:"===location.protocol?'<head><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/></head><body>'+c+"<script>document.close()</script></body>":"<body>"+c+"<script>document.close()</script></body>",k["default"]()?void setTimeout(function(){var c=b.getElementById(a.id);null!==c&&c.contentWindow.document.write(e)},0):void d.write(e)},d=function(b,c){var d="__srcless_"+Math.floor(68719476735*Math.random()).toString(36),e="<body><script>document.write(parent.window.top.ad_utils."+d+");delete parent.window.top.ad_utils."+d+";</script></body>";a.top.ad_utils[d]=c,b.src="javascript:unescape('"+escape(e)+"')"},e=function(a){return a&&0===a.indexOf("<!-- blank -->")};return{inject_slot:function(b,f){var g=b.id,j=b.getAttribute("data-dart-params")||"",k='<style>body{background:transparent;}</style><script type="data-doubleclick" src="https://ia.media-imdb.com/images/G/01/mobile/blank_pixel._V137875076_.gif'+j+'"></script>'+f,l=k+'<script>document.write("<script defer>parent.window.top.ad_utils.ad_table.'+g+'.fired=true;<\\/script>");</script>';return i["default"].isSafeframeSlot(g,b)&&!e(f)&&(a.DAsf||a.MAsf)?void i["default"].injectCode(g,k):void(h?d(b,l):c(b,l))}}}();a.top.ad_utils={responsiveAdAPI:x.responsiveAdAPI,ord:E,regenerateOrd:function(){a.consoleLog("Regenerating Client Side Ord","ads"),E=1e16*Math.random(),a.top.ad_utils.ord=E},ad_table:{},ad_navbar:{},ad_queue:[],low_latency_punt_ads:{},blank_ad_code:"<script>document.ad={h:0,w:0,scope:'blank'}</script>",slots_on_page:null,dateCheck:q["default"],isInViewport:m["default"],registerClickTrackers:o["default"],get_slot_iframe:C,scaleTarnhelm:u.scaleTarnhelm,initAndBindResponsiveBackupLogic:v.initAndBindResponsiveBackupLogic,aax_instr_pixel_url:{},update_ad_details:i["default"].updateAdDetails,set_partner:i["default"].setPartner,get_safeframe_ad_objs:i["default"].getSafeframeAdObjs,sf_ad_details:{},removeOpacityAnimation:function(a,b){if(a&&b){var c=g["default"].getSlotWrapper(b);c&&(c.classList.remove("iframe_tweening"),a.classList.remove("ad_fadein"))}},setup_slot_metrics:function(b){a.top.ad_utils.slot_events.listen(b,"iframe request reflow tagdeliver load",function(a){var b=a.data.duration,d=a.data.timestamp;b===c&&d&&(b=csm.duration(d)),l.monitoring.update_slot_metrics(a.slot,a.event,b)}),a.top.ad_utils.slot_events.listen(b,"request",function(a){var b=a.slot;l.monitoring.start_timing(b)}),a.top.ad_utils.slot_events.listen(b,"request tagdeliver",function(b){var c,d=b.slot,e=a.top.ad_utils.inject_ad.get_injectable_slots(d);for(c=0;c<e.length;c++)a.top.ad_utils.slot_events.trigger(e[c],b.event,b.data)}),a.top.ad_utils.slot_events.listen(b,"load",function(a){var c=a.data.type;c?l.monitoring.stop_timing(b,c,!0):consoleError(a.slot+" loaded, but type was not reported"),l.monitoring.update_slot_metrics(a.slot,"trueload")}),a.top.ad_utils.slot_events.listen(b,"punt",function(a){var b=a.event+"_"+a.data.type;l.monitoring.update_slot_metrics(a.slot,b)})},constructClientSideUrl:w.constructClientSideUrl,mobileWebCreativeResizing:u.mobileWebCreativeResizing,isInternetExplorer:r.isInternetExplorer,isIpad:r.isIpad,isResponsive:k["default"],makeAtfSlotsCall:z.makeAtfSlotsCall,register_ad:function(b){a.top.ad_utils.setup_slot_metrics(b),a.top.ad_utils.slot_events.trigger(b,"iframe"),this.ad_table[b]={slot:b}},gpt:function(){var b=null,c=[];return{handle_response:function(a){var d;for(b=a,d=0;d<c.length;d++)this.render_ad(c[d])},render_ad:function(d){var e,f,g,h;return b?(e=b[d]||{},f=C(d),g=e._html_||"",h=null!==f.getAttribute("data-roadblocked"),h&&(g="<!-- roadblocked -->"+a.top.ad_utils.blank_ad_code,a.top.ad_utils.slot_events.trigger(d,"request",{duration:0})),void I.inject_slot(f,g)):void c.push(d)}}}(),expand_ad:function(c){var d=this,e=c.id,f=c.height,h=c.width;if(e=i["default"].getRawSlotName(e),!("expand_called"in this.ad_table[e])){var j,k=g["default"].getSlotWrapper(e),m=k.id,n=this.get_ad_object(c),o=csm.duration(),p=b.getElementById(e+"_reflow_helper");p?p.offsetTop:null;if(e+"_wrapper"!==m&&!l.has_document_readied())return void l.on_document_ready(function(){d.expand_ad(c)});if(this.ad_table&&this.ad_table[e]){this.ad_table[e].expanded=1;var q=v.initAndBindResponsiveBackupLogic(c.contentWindow);if(n&&!q&&(b.ads||(b.ads={}),b.ads[n.cid]=n,a.top.ad_utils.resize_iframe(c,n),n.st?this.expand_supertab(n):n.bb?this.expand_billboard(n):"top_ad"!==e||!this.is_open(e,n)||n.clickroll||n.overlay||this.expand_top_banner(),n.wrap&&this.expand_wrap(n),n.bamf&&this.expand_bamf(n,c),n.inner_bamf&&this.expand_inner_bamf(n),n.relative_bamf&&this.expand_relative_bamf(n),this.is_open(e,n)?a.top.ad_utils.show_hidden_labels(e):this.collapse_ad(c),n.styles))for(j in n.styles)l.override_style(j,n.styles[j].style);this.ad_table[e].expand_called=1,l.on_document_ready(function(a){a(c).trigger("expand_ad")}),a.top.ad_utils.fire_reflow_metric(e,n,h,f,c.width,c.height),a.top.ad_utils.fire_tagdeliver_metric(e,o),H.store(),b.body.className=b.body.className}}},resize_iframe:function(a,b){"w"in b&&(a.width=parseInt(b.w,10)),"h"in b&&(a.height=b.expandHeight?parseInt(b.expandHeight,10):parseInt(b.h,10)),"z"in b&&b.z&&(slot_wrapper.style.zIndex=b.z,slot_wrapper.style.position="relative")},show_hidden_labels:function(a){var c=b.getElementById(a+"_before"),d=b.getElementById(a+"_after");c&&this.display_label(c),d&&this.display_label(d)},fire_reflow_metric:function(c,d,e,f,g,h){var i=csm.duration(),j=b.getElementById(c+"_reflow_helper"),k=j?j.offsetTop:null;f===h&&e===g?a.top.ad_utils.slot_events.trigger(c,"reflow",{duration:0}):setTimeout(function(){var b="top_ad"===c&&a.top.ad_utils.is_open(c,d)&&!d.st?10:0,e=j&&j.offsetTop===k+b;a.top.ad_utils.slot_events.trigger(c,"reflow",{duration:e?0:i})},10)},fire_tagdeliver_metric:function(b,c){b in p||a.top.ad_utils.slot_events.has_fired(b,"tagdeliver")||a.top.ad_utils.slot_events.trigger(b,"tagdeliver",{duration:c})},get_ad_object:function(b){var c=b.id;if(i["default"].isSafeframeSlot(c,b))return i["default"].getSfAdObject(c);var d=g["default"].frameDoc(b),e=null;if(null==d)return void consoleLog("Cannot get document back from iframe");if(e=d.ad)"pid"in e||(e.pid="DFP"),"instrPixel"in e||(e.instrPixel=a.top.ad_utils.aax_instr_pixel_url[c.toUpperCase()]);else{var f,h,j,k=0,l=0,m=["img","object","embed","iframe"];for(h in m)for(j=d.getElementsByTagName(m[h]),f=0;f<j.length;f++){var n,o,p=j[f];n=p.scrollWidth||p.width,o=p.scrollHeight||p.height,n&&n>1&&(k=Math.max(k,parseInt(n,10))),o&&o>1&&(l=Math.max(l,parseInt(o,10))),consoleLog(c+" : estimated size : "+n+","+o,"ads")}e={w:k.toString(),h:l.toString(),pid:"",url:"",aid:"0",cid:"0",instrPixel:a.top.ad_utils.aax_instr_pixel_url[c.toUpperCase()]},(0===k||0===l)&&(e.scope="null")}return d.ad=e,e},get_cornerstone_ad_object:function(a){var b=n[a]+"adData";return"aanResponse"in top.document&&b in top.document.aanResponse?top.document.aanResponse[b]:null},get_mapped_amazon_slot_name:function(a){return n[a]?n[a]:a},on_ad_load:function(b){if(b&&b.src.length>0&&-1===b.src.indexOf("www.imdb.com")&&-1===b.src.indexOf("javascript:"))return void l.monitoring.record_event("iframe_not_sourceless",!1);var c,d,e,f=b.id,g=this.ad_table[f];if(!g||!g.fired)return void consoleLog("deflected spurious onload event for "+f,"on_ad_load");this.responsiveAdAPI&&(this.responsiveAdAPI.events.adIframeLoad(f),this.responsiveAdAPI.checkShouldMakeAdSticky(b)),c=this.get_ad_object(b),d=this.get_type_of_ad(c),g.loaded=!0,!c||"blank"!==c.scope&&"null"!==c.scope||(e="0"===b.getAttribute("data-original-width")&&"0"===b.getAttribute("data-original-height")?0:l.monitoring.get_metric_value(f,"reflow"));try{g.expanded||(this.expand_ad(b),y.globalizeCss(b.contentWindow))}catch(h){consoleLog("Exception during expand_ad:"+h.message)}a.top.ad_utils.slot_events.trigger(f,"load",{duration:e,type:d})},is_open:function(a,b){var c=C(a),d=c&&c.getAttribute("data-first-party-creative-template");return"top_ad"===a&&d?b&&"w"in b&&"h"in b&&b.w>0&&b.h>0&&"blank"!==b.scope:b&&"blank"!==b.scope},expand_supertab:function(a){var c=b.getElementById("nb15"),d=b.getElementById("nb20");c?c.className="supertab":d&&(d.className="supertab")},expand_billboard:function(d){function e(){var a,b=l.cookie.get(z),c=b&&b.split(/o|c/),d=b&&b.split(/\d*/),e={};if(c&&d)for(""===d[0]&&d.shift(),a=0;a<d.length;++a)e[c[a]]=d[a];n=e}function f(){var a,b="";new Date;for(a in n)n.hasOwnProperty(a)&&(b+=a+n[a]);l.cookie.set(z,b,l.days_to_midnight||1)}function h(){s.style.display="none",u||A?k():l.on_document_ready(i)}function i(){j(),k()}function j(){if(!A&&(u=b.getElementById("top_rhs_wrapper"),v=u?u.parentElement||u.parentNode:null,u))try{t.parentNode.removeChild(o),v.insertBefore(o,u),o.style.marginRight="",o.style.marginTop=""}catch(a){consoleLog("caught a duplicate call to attempt_reattach_show_ad_button","ads")}}function k(){x!==c&&""!==x&&(o.style.display="block"),e(),n[d.aid]="c",f(),H.store(),t.style.margin="0px",A=!0}function m(){o.style.display="none",s.style.display="block",e(),n[d.aid]="o",f(),H.store(),t.style.margin="20px 19px"}var n,o,p=b,q=parent,r="injected_billboard",s=C(r),t=g["default"].getSlotWrapper(r),u=b.getElementById("top_rhs_wrapper"),v=u?u.parentElement||u.parentNode:null,w=d.bb_close_tracker,x=d.bb_show,y=d.bb_show_tracker,z="ax",A=!1;return t?(t.className=(t.className?t.className+" ":"")+"billboard",o=p.createElement("div"),o.id="billboard_show_button",o.style.display="none",v?v.insertBefore(o,u):(a.top.ad_utils.slot_events.listen("top_rhs","iframe",function(){j()}),o.style.marginRight="19px",o.style.marginTop="7px",t.parentNode.insertBefore(o,t)),1===d.bb&&(q.window.top.ad_utils.ns.register("billboard","close",function(){h(),"undefined"!=typeof w&&w()}),o.innerHTML=x,o.onclick=function(){m(),"undefined"!=typeof y&&y()},e(),d.aid in n&&"c"===n[d.aid]&&h()),!0):!1},expand_top_banner:function(){var a=b.getElementById("nb15");if(a)a.className="banner";else{var c=b.getElementById("top_ad");c&&(c.style.margin="auto")}},expand_bamf:function(a,b){var c=a.bamf;l.extend(b.style,c.style)},expand_inner_bamf:function(a){var c=a.inner_bamf,d=b.getElementById(c.targetId);d&&c.node&&l.insert_after(c.node,d)},expand_relative_bamf:function(a){var c,d=a.relative_bamf,e=b.getElementById(d.targetId);"insert_after"===d.relation?c=l.insert_after:"insert_before"===d.relation?c=l.insert_before:"insert_inside"===d.relation&&(c=l.insert_inside),e&&d.node&&c(d.node,e)},expand_wrap:function(a){a.styles||(a.styles={});var c;if(a.sleeves)c={wrapper:{style:{background:a.wrap}},root:{style:{background:"none","box-shadow":"none"}},pagecontent:{style:{height:"100%"}}};else{var d,f="styleguide-v2",g=!(!b.getElementById("imdbHeader")||b.getElementById("imdbHeader").parentNode===b.getElementById("nb20"));if(g){f="wrapper";var h=a.wrap.indexOf("fixed")>-1,i=b.getElementById("wrapper");h&&null!==i&&i.style.setProperty("background-attachment","scroll","important")}d={},e(d,f,{style:{background:a.wrap}}),e(d,"root",{style:{"background-color":"transparent","box-shadow":"none"}}),e(d,"pagecontent",{style:{height:"100%"}}),e(d,"nb20",{style:{background:"none"}}),c=d}l.extend(a.styles,c)},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.style.display="block",a.style.visibility="visible"},collapse_ad:t.collapseAd,uncollapse_ad:t.uncollapseAd,get_type_of_ad:function(a){return a?a.scope?a.scope:"got_ad":"null"},show_ad_feedback:function(c){function d(){return g("#ad_feedback_"+c).remove(),!1}function e(c){var d=g(a),e=g(b),f=(d.width()-300)/2+e.scrollLeft(),h=(d.height()-320)/2+e.scrollTop();c.css({top:0>h?0:h,left:f})}try{var f,g=jQuery,h=C(c),i=h.contentWindow,j=a.top.ad_utils.get_ad_object(h),k=h.hasAttribute("src")?"":i.location.hash.match(/#([^;]*);/),l={adId:j?j.aid:"",cid:j?j.cid:"",page_id:a.location.href.substr(0,255),pagesubtype:k?k[1]:"",slot:c},m=l.adId+";"+l.cid+";"+l.slot,n=g("#ad_feedback_container"),o=0;if(g("div.dfp_slot iframe").each(function(){var b=this.id||this.parentElement.id,c=a.top.ad_utils.get_ad_object(this);b in G||!c||(f=a.top.ad_utils.get_cornerstone_ad_object(b),f?G[b]={aid:f.adId,cid:f.creativeId,pid:f.adNetwork}:G[b]={aid:c.aid,cid:c.cid,pid:c.pid},G[b].url=c.url,G[b].dim=c.w+"x"+c.h)}),g.each(G,function(a,b){l["slot_"+o]=a,l["cid_"+o]=b.cid,l["aid_"+o]=b.aid,l["pid_"+o]=b.pid,l["dim_"+o]=b.dim,l["url_"+o]=b.url,o++}),0===n.length&&(n=g('<iframe id="ad_feedback_container">'),n.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"}),n[0].hide=function(){g(this).addClass("hidden")},n[0].show=function(){g(this).removeClass("hidden")},n[0].isHidden=function(){return n.hasClass("hidden")},g("body").append(n)),""===n.attr("src")||n.attr("ref")!==m)n.off().on("load",function(){n[0].show(),e(n),g(this).off()}).attr("src","/ads/feedback#"+g.param(l)).attr("ref",m);else{if(!n[0].isHidden())return n[0].hide(),!1;n[0].show(),e(n)}}catch(p){consoleLog("ad feedback failure : "+p,"ads"),d()}return!1},report_ad_data:function(a,b){var c,d=a,e={};if(d!==top){try{for(;d.parent!==top;)d=d.parent;c=s.getSlotName(d)}catch(f){return void consoleLog("could not determine ad slot: "+f)}$.each("aid cid pid url dom dim".split(" "),function(a,c){c in b&&(e[c]=b[c])}),G[c]=e}},ns:function(){var a={},b=function(a,b,d){var e;e="string"==typeof a?a:a.frameElement.id,c(e)[b]=d},c=function(b){return a[b]=a[b]||{};
};return{register:b,get:c}}(),inject_ad:function(){var b={},c={},d={},e=function(a){consoleLog(a,"inject_ad")};return{render:function(c){var f=C(c),g=b[c];d[c]||(e(c+" rendered"),d[c]=1,a.top.ad_utils.ad_table[c]={slot:c,injected:!0},g?I.inject_slot(f,g):I.inject_slot(f,'<script>document.ad = {h:"0",w:"0",scope:"blank"}</script>'))},register:function(d){var f=p[d],g=this;e(d+" registered"),c[d]=1,b[d]?g.render(d):a.top.ad_utils.slot_events.listen(f,"load",function(){g.render(d)}),a.top.ad_utils.setup_slot_metrics(d),a.top.ad_utils.slot_events.trigger(d,"iframe")},inject:function(a,d){e(a+" injected"),b[a]=d,c[a]&&this.render(a)},get_injectable_slots:function(a){var b,c=[];for(b in p)p[b]===a&&c.push(b);return c}}}(),weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}(),attach_aax_callback:function(a,b){b.aax_render_ad=function(c){c&&c.html?(b.document.write(c.html),b.document.got_aax_ad="got_ad"):b.document.got_aax_ad="blank",b.top.ad_utils.slot_events.trigger(a,"tagdeliver")}},set_aax_instrumentation_pixel_url:function(b,c){a.top.ad_utils.aax_instr_pixel_url[b.toUpperCase()]=c},inject_serverside_ad:function(b,c){var d=C(b),e=null!==d.getAttribute("data-roadblocked"),f=null!==d.getAttribute("data-blank-serverside");a.top.ad_utils.slot_events.trigger(b,"request",{duration:0}),e?c="<!-- roadblocked -->"+a.top.ad_utils.blank_ad_code:f&&(c="<!-- blank -->"+a.top.ad_utils.blank_ad_code),I.inject_slot(d,c)},aax_render_ad:function(b){var c=C(b),d=c.getAttribute("data-aax-url"),e="<script>parent.window.top.ad_utils.attach_aax_callback('"+b+"', window);</script><script src=\""+d+'"></script>';c.onload=function(){var d,e=a.top.ad_utils.ad_table[b];return e&&e.fired?("got_ad"!==g["default"].frameDoc(c).got_aax_ad?(c.style.display="none",d="blank"):d=g["default"].frameDoc(c).got_aax_ad,void a.top.ad_utils.slot_events.trigger(b,"load",{type:d})):void consoleLog("deflected spurious cornerstone onload event for "+b,"aax_render_ad")},a.top.ad_utils.slot_events.trigger(b,"request"),I.inject_slot(c,e)},register_punt_ad:function(a,b,c,d){this.low_latency_punt_ads[a]={w:b,h:c,markup:d}},inject_punt_ad:function(b,c){var d=b.frameElement,e=d.id,f=g["default"].frameDoc(d),h=null,i=null,j=f&&f.ad&&f.ad.aid?f.ad.aid:"0",k=f&&f.ad&&f.ad.cid?f.ad.cid:"0";e in this.low_latency_punt_ads?(h=this.low_latency_punt_ads[e],f.ad={w:h.w,h:h.h,pid:"",url:"",aid:j,cid:k},this.expand_ad(d),i=h.markup.replace(/\[PUNT_ORIGIN\]/,encodeURIComponent('{"punt_origin":"'+c+'"}')),f.write(i),a.top.ad_utils.slot_events.trigger(e,"punt",{type:"got_ad"})):a.top.ad_utils.slot_events.trigger(e,"punt",{type:"blank"})},fp:function(){return a.imdbads.frequencyCapping}(),tandem:function(){var c={};return{register_swf:function(a,b){return consoleLog("Register swf: "+a+" "+b,"Tandem"),c[b]?(consoleError("swf already registered: "+a+" "+b,"Tandem"),!1):void(c[b]={id:a})},send_message:function(d,e,f){var i,j,k=c[d];if(consoleLog("Sending message: "+d+" "+e+" "+f,"Tandem"),!k)return consoleError("Attempted message to : "+d+" before registered.","Tandem"),!1;for(j in a.top.ad_utils.ad_table)g["default"].frameDoc(j)&&g["default"].frameDoc(j).getElementById(k.id)&&(i=g["default"].frameDoc(j).getElementById(k.id));var l=b.getElementById(k.id);l&&(i=l);try{return h?i.receiveTimelineMessage(f,e):i.getElementsByTagName("embed")[0].receiveTimelineMessage(f,e),!0}catch(m){return consoleError("Unable to call receiveTimelineMessage on: "+d,"Tandem"),consoleError(m),!1}}}}(),set_slots_on_page:function(b){a.top.ad_utils.slots_on_page=b},ads_header:function(){var a=!1,b=[];return{on_done:function(c){if(a)try{c()}catch(d){consoleWarn(d)}else b.push(c)},done:function(){var c;for(a=!0,c=0;c<b.length;c++)try{b[c]()}catch(d){consoleWarn(d)}b=null}}}(),is_qualified_expanding:function(a){var b=A[a.slot];return b&&a.width.replace(/px/g,"")<=b.width.replace(/px/g,"")&&a.height.replace(/px/g,"")<=b.height.replace(/px/g,"")&&B[a.direction]?!0:!1},expand_overlay:function(c){var d=JSON.parse(c);if(d&&d.slot&&d.width&&d.height&&d.direction&&a.top.ad_utils.is_qualified_expanding(d)){var e=a.top.ad_utils.get_slot_iframe(d.slot);if("undefined"!=typeof e){e.style.position="absolute",e.style.width=d.width,e.style.height=d.height;var f=b.getElementById(d.slot);switch(d.direction){case"l":a.top.ad_utils.expand_left(e,d,f);break;case"b":a.top.ad_utils.expand_bottom(e,d,f);break;case"bl":a.top.ad_utils.expand_left(e,d,f),a.top.ad_utils.expand_bottom(e,d,f)}}}},expand_general:function(a,b,c){var d="top_ad"==c.slot?300:100;a.style.zIndex=d,b.style.width=a.width,b.style.height=a.height},expand_left:function(b,c,d){b.style.marginLeft="-"+(c.width.replace(/px/g,"")-b.width.replace(/px/g,""))+"px",a.top.ad_utils.expand_general(b,d,c)},expand_bottom:function(b,c,d){a.top.ad_utils.expand_general(b,d,c)},collapse_overlay:function(c){var d=JSON.parse(c);if(d&&d.slot&&i["default"].getSfAdObject(d.slot)){var e=a.top.ad_utils.get_slot_iframe(d.slot);e&&(e.style.position="",e.style.width="",e.style.height="",e.style.zIndex="",e.style.marginLeft="",e.style.marginTop="",b.getElementById(d.slot).style.marginTop="")}}},l.install(l,{should_jQuery_noConflict:a.$&&!a.jQuery,one_way_send_record:[],insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)"object"==typeof b[c]?a[c]!==b[c]&&("undefined"==typeof a[c]&&(a[c]={}),this.extend(a[c],b[c])):a[c]=b[c]},override_style:function(a,b,c){var d,e="#"+a;for(d in b)b[d]+=" !important";l.add_json_style(e,b,c)},add_json_style:function(a,b,c,d){var e,f=a+"{";for(e in b)f+=e+":"+b[e]+";";f+="}",l.add_css_style(f,c,d)},add_css_style:function(a,c,d){var e,f,g,h="css-style-generic",i=[h];c&&c.length?i.push(c):c=h,d||(d="a");for(g in i)b.getElementById(i[g])||(e=b.createElement("style"),e.setAttribute("type","text/css"),e.id=i[g],b.getElementsByTagName("head")[0].appendChild(e));if(e=b.getElementById(c),e.styleSheet&&"cssText"in e.styleSheet)f=("a"===d?e.styleSheet.cssText:"")+a,e.styleSheet.cssText=f;else{f=("a"===d?e.innerHTML:"")+a;try{e.innerHTML=f}catch(j){e.innerText=f}}},add_css_file:function(a,c){c||(c="css-file-generic");var d=b.getElementById(c);d||(d=b.createElement("link"),d.setAttribute("type","text/css"),d.rel="stylesheet",d.id=c,b.getElementsByTagName("head")[0].appendChild(d)),d.href=a},set:function(a,b){var c=a.split(":");"cookie"===c[0]?l.cookie.set(c[1],b):l.cache.set(c[1],b)},get:function(a){var b=a.split(":");return"cookie"===b[0]?l.cookie.get(b[1]):l.cache.get(b[1])},erase:function(a){var b=a.split(":");return"cookie"===b[0]?l.cookie.erase(b[1]):l.cache.erase(b[1])},cache:{set:function(a,b){F[a]=b},get:function(a){return F[a]},erase:function(a){delete F[a]}},load_script:function(a){var c=b.createElement("script");c.type="text/javascript",c.src=a,b.getElementsByTagName("head")[0].appendChild(c)},load_script_notify:function(a,c){var d=b.createElement("script"),e=!1;d.type="text/javascript",d.src=a,d.onload=d.onreadystatechange=function(){var f=this.readyState;e||f&&"complete"!==f&&"loaded"!==f||(e=!0,b.body.removeChild(d),"function"==typeof c&&c(a))},b.body.appendChild(d)},one_way_send:function(a){var b=new Image(0,0);b.src=a,this.one_way_send_record.push(b)},load_when_visible:function(b,c){var d=0,e=jQuery(a),f=e.height()+e.scrollTop();if(jQuery("#"+b).length){var g=jQuery(jQuery("#"+b).get(0)),h=g.offset().top;f>h?c(b):e.scroll(function(){f=e.height()+e.scrollTop(),h=g.offset().top,f>h&&!d&&(d=1,c(b))})}else c(b)},unload_plugins:function(){for(var a,c,d,e,f,h=[b],i=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),j=function(a){var b,c;for(b=a.length-1;b>=0;b--)c=a[b],c.parentNode.removeChild(c)};h.length;)for(a=h.pop(),j(a.getElementsByTagName("object")),j(a.getElementsByTagName("embed")),c=a.getElementsByTagName("iframe"),f=c.length-1;f>=0;f--)d=c[f],i.test(d.src)?(e=g["default"].frameDoc(d),e&&h.push(e)):j([d])},addEventListener:function(a,b,c){D(a,b,c)}}),a.custom={amazon:{load_callback:function(a){}},indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(s.getSlotName(a))}},full_page:{style_id:"custom__full_page__generated_styles",PLAID_CSS_MAP:{base:"--ipt-base-rgb",baseShade1:"--ipt-base-shade1-rgb",baseShade2:"--ipt-base-shade2-rgb",baseShade3:"--ipt-base-shade3-rgb",onBase:"--ipt-on-base-rgb",onBaseAccent1:"--ipt-on-base-accent1-rgb",onBaseAccent2:"--ipt-on-base-accent2-rgb",onBaseAccent3:"--ipt-on-base-accent3-rgb",onBaseError:"--ipt-on-base-error-rgb",baseAlt:"--ipt-baseAlt-rgb",baseAltShade1:"--ipt-baseAlt-shade1-rgb",baseAltShade2:"--ipt-baseAlt-shade2-rgb",baseAltShade3:"--ipt-baseAlt-shade3-rgb",onBaseAlt:"--ipt-on-baseAlt-rgb",onBaseAltAccent1:"--ipt-on-baseAlt-accent1-rgb",onBaseAltAccent2:"--ipt-on-baseAlt-accent2-rgb",onBaseAltAccent3:"--ipt-on-baseAlt-accent3-rgb",onBaseAltError:"--ipt-on-baseAlt-error-rgb",accent1:"--ipt-accent1-rgb",onAccent1:"--ipt-on-accent1-rgb",accent2:"--ipt-accent2-rgb",onAccent2:"--ipt-on-accent2-rgb"},apply_PLAID_styles:function(a){var b=this._transform_PLAID_style_input(a),c=this._construct_PLAID_CSS_string(b);c&&c.length&&l.add_css_style(c,this.style_id,"a")},_transform_PLAID_style_input:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&"undefined"!==a[c]&&"null"!==a[c]){var d=this.PLAID_CSS_MAP[c];if(d){var e=a[c];b[d]=e.startsWith("#")?this.hex_to_RGB(e)||e:e}}return b},_construct_PLAID_CSS_string:function(a){if(Object.keys(a).length<1)return null;var b=["\n",":root {"];for(var c in a){var d="   "+c+": "+a[c]+";";b.push(d)}return b.push("}"),b.length>3?b.join("\n"):null},apply_PLAID_theme:function(){var a=!1;return function(){if(!a)switch(this.theme){case"dark":a=!0;var b={base:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAlt),baseShade1:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade1),baseShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade2),onBase:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAlt),onBaseAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAltAccent2)};this.apply_PLAID_styles(b);break;case"light":a=!0;var c={baseAltShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseShade2),onBaseAltAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAccent2)};this.apply_PLAID_styles(c);break;default:return}}}(),apply_fast:function(a,b){var c,d,e,f,g,h=this.styles[a.treatment],i=[];for(c in h)if(h.hasOwnProperty(c)){d=h[c];for(var j=0;j<d.length;j++)e=d[j],g=this.get_values_for_setting(e,a,b),g&&(f=this.build_rule(e.selector,c,g,e.important),i.push(f))}l.add_css_style(i.join("\n"),this.style_id,"o"),this.apply_PLAID_theme()},get_values_for_setting:function(a,b,c){var d=c?null:a["default"];return a.fixed?d=a.fixed:a.name in b&&(d=b[a.name]),"string"==typeof d&&(d=[d]),d},build_rule:function(a,b,c,d){for(var e="",f="",g=0;g<c.length;g++)e+="  "+b+" : "+c[g]+(d?" !important":"")+";\n";return f=a+"{\n"+e+"}\n"},apply:function(c){var d=this;b.getElementById("root").style.boxShadow="none",a.generic.on_document_ready(function(){d.settings=c,"styles"in d?d._apply():a.generic.load_script_notify(d.data_url,function(){d._apply()})})},_apply:function(){var a,b=this.settings.ARGS.split(/&/),c={},d=this,e="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(b,function(a,b){var d=/^(.*)=(.*)$/.exec(b);3===d.length&&(c[d[1]]=unescape(d[2].replace(/\+/g," ")))}),a=this.invert_styles(c.treatment),jQuery.each(a,function(a,b){b.fixed?e+=d.format_css(b,b.fixed):(c[a]||b["default"])&&(e+=d.format_css(b,c[a]))});try{jQuery("style#"+this.style_id).remove(),jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(e))}catch(f){l.add_css_style(e,this.style_id,"o")}},invert_styles:function(a){var b=["default","important","fixed"],c={};return jQuery.each(this.styles[a],function(a,d){jQuery.each(d,function(d,e){var f=c[e.name]={style:a,selector:e.selector};jQuery.each(b,function(a,b){e[b]&&(f[b]=e[b])})})}),c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important;":";")+"}\n"},hex_to_RGB:function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?""+this.to_hex(c[1])+","+this.to_hex(c[2])+","+this.to_hex(c[3]):null},to_hex:function(a){return parseInt(a,16)},to_CSS_var_string:function(a){return"var("+a+")"}},css:{inject_css:function(c,d){a.generic.on_document_ready(function(){var a=c.getElementById(d),e=b.head;l.insert_inside(a,e)})}}};var J=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},K=function(a,b){return b?" "+a+'="'+b+'" ':""};a.flashAdUtils={makeFlashAd:function(d){var e,f,g,h=d.id,i=d.src,j=d.width,k=d.height,l=d.bgcolor,m=d.wmode||"opaque",n=d.salign,o=d.scale,p=d.extraParams,q=d.extraTAGs,r=d.minVersion,s=escape(d.clickThru),t=d.clickTAGs,u=function(a){return null!==a&&a!==c&&(a+"").length},v=function(a){return isFinite(parseInt(a,10))},w="";if(!(u(h)&&u(i)&&v(j)&&v(k)))return void consoleLog("makeFlashAd: Missing required params","flashAdUtils");if(flashAdUtils.canPlayFlash(r)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils"),t)for(e=0;e<t.length;e++)t[e]&&(w=w+"&clickTAG"+(e+1)+"="+escape(t[e]));if(q)for(f in q)w=w+"&"+escape(f)+"="+escape(q[f]);w+="&ord="+a.top.ad_utils.ord,w+=b.getElementById("navbar")?b.getElementById("megaMenu")?"&navbar=mega":"&navbar=legacy":"&navbar=null";var x="",y="";try{var z={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(g in p)z[g]||(x+=J(g,p[g]),y+=K(g,p[g]))}catch(A){}var B=J("bgcolor",l),C=K("bgcolor",l),D=J("wmode",m),E=K("wmode",m),F=J("scale",o),G=K("scale",o),H=J("salign",n),I=K("salign",n),L='<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+j+'"  height="'+k+'"  id="swf_'+h+'"><param name="movie" value="'+i+'"><param name="flashvars" value="env=WEB&clickTAG='+s+"&"+w+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+F+H+B+D+x+'<div style="margin-left:0.1px"><embed src="'+i+'"  flashvars="env=WEB&clickTAG='+s+"&"+w+'"  quality="high"  play="true"  width="'+j+'"  height="'+k+'"  name="swf_'+h+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+G+I+C+E+y+"></embed></div></object>";return L},canPlayFlash:function(a){var b=!1,c=parseInt(a,10);a=!a||9>c?9:c;var d=navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(d&&navigator.plugins["Shockwave Flash"]){var e,f,g=navigator.plugins["Shockwave Flash"].description.split(" ");for(f=0;f<g.length;++f)isNaN(parseInt(g[f],10))||(e=parseInt(g[f],10));b=e>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&-1!==navigator.appVersion.indexOf("Win"))try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);h.AllowScriptAccess="always";var i=h.GetVariable("$version"),j=i.match(/([0-9]+)/);b=j[1]>=a}catch(k){}return b}},H.store(),l.on_document_ready(function(b){b(a).on("load",function(){H.store()})}),l.on_document_ready(function(){D(a,"unload",function(){l.unload_plugins()})}),d&&l.on_document_ready(function(){l.monitoring.record_metric("ads_js_response",d)})}(window,document)},{1:1,10:10,18:18,22:22,23:23,25:25,26:26,29:29,33:33,37:37,38:38,39:39,4:4,42:42,50:50}],10:[function(a,b,c){"use strict";function d(a){return"undefined"!=typeof a.tarnhelm_backup?(e.handleTarnhelmBackupImg(a),!0):"undefined"!=typeof a.backup_static?(f.handlePremiumStaticResponsiveBackup(a),!0):!1}c.__esModule=!0;var e=a(43),f=a(27);c.initAndBindResponsiveBackupLogic=d},{27:27,43:43}],11:[function(a,b,c){"use strict";function d(a,b,c,d,e){if(a&&a()){var f=c();f?e(f):d()}else b()}function e(a,b,c,e,f,g){d(b,c,e,f,g),a.parent.onresize=function(){d(b,c,e,f,g)}}c.__esModule=!0,c.bindBackupImage=e},{}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return m.isDesktop()&&l["default"]()&&n.isInline40(a)}function f(a){return m.isMobile()&&l["default"]()&&n.isInline40(a)}function g(a){return e(a)||f(a)}function h(a){return e(a)&&m.getBrowserWidth(a)<o}function i(a){return f(a)&&m.getBrowserWidth(a)>p}function j(a){return function(){return m.isInternetExplorer()||m.isIpad()||h(a)||i(a)}}c.__esModule=!0;var k=a(26),l=d(k),m=a(39),n=a(42),o=1024,p=767;c.isResponsiveBackupSlot=g,c.shouldShowBackupDesktop=h,c.shouldShowBackupMobileWeb=i,c.shouldShowBackupSupplierResponsive=j},{26:26,39:39,42:42}],13:[function(a,b,c){"use strict";!function(a,b){a.imdbads=a.imdbads||{},a.imdbads.frequencyCapping=function(){var c=function(){try{return d&&!e?"undefined"!=typeof mraidbridge&&"undefined"!=typeof mraidbridge.localstorage?mraidbridge.localstorage:void 0:(d&&e&&null!==a.localStorage&&(a.localStorage.setItem("foo","foo"),a.localStorage.removeItem("foo")),a.localStorage)}catch(b){return void 0}},d=/iphone|ipad|ipod/i.test(a.navigator.userAgent.toLowerCase()),e=null!==b.domain.match(/imdb/g),f="IMDbAdvertisingFrequencyCapping",g=function(){var b;if(c()&&a.JSON){if(b=c().getItem(f))try{return JSON.parse(b)}catch(d){c().removeItem(f),console.log("Could not deserialize persistence variable")}return{}}return null},h=function(b){c()&&a.JSON&&c().setItem(f,JSON.stringify(b))},i=function(){var a,b=g();if(b){for(a in b)j(b[a])&&delete b[a];h(b)}},j=function(a){return a&&a.l&&a.l>l?!1:!0},k=(new Date).getTime(),l=k-864e5;return a.generic&&a.generic.on_document_ready?a.generic.on_document_ready(i):"complete"==b.readyState?i():a.addEventListener("load",i,!1),{should_autoplay:function(a){var b=g();return b?j(b[a]):!1},log_autoplay:function(b){var c=g();c?(c[b]={l:k},h(c)):(console.log("Autoplay logged, but localStorage is not available!"),a.generic&&a.generic.monitoring&&a.generic.monitoring.record_event&&a.generic.monitoring.record_event("flash_persistence_failure",!0))},clear_autoplay:function(){h({})}}}()}(window,document)},{}],14:[function(a,b,c){"use strict";a(21),a(19),a(16),a(45),a(13),a(9),a(20),a(17),a(8),a(5),a(7),a(6),a(2),a(3),a(28),a(40),a(52)},{13:13,16:16,17:17,19:19,2:2,20:20,21:21,28:28,3:3,40:40,45:45,5:5,52:52,6:6,7:7,8:8,9:9}],15:[function(a,b,c){"use strict";a(14),a(46)},{14:14,46:46}],16:[function(a,b,c){"use strict";window.consoleLog=function(a,b,c){var d,e=window.consoleLog,f=document.location,g=f.hash.match("debug=1"),h="error"===c||g;b?(e[b]=e[b]||[]).push(a):b="global",d=b+" : "+a,(e.global=e.global||[]).push(d);try{if(!h)return;window.console&&(window.console[c]?window.console[c](d):window.console.log&&window.console.log(d))}catch(i){}},window.consoleWarn=function(a,b){consoleLog(a,b,"warn")},window.consoleError=function(a,b){consoleLog(a,b,"error")}},{}],17:[function(a,b,c){"use strict";!function(a,b,c){var d=a.custom=a.custom||{};d.strings=function(){return{chained_replace:function(a){var b,c=this;for(b=0;b<a.length;b++){var d=a[b];c=c.replace(d[0],d[1])}return c}}}()}(window,document)},{}],18:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a,b){for(var c=new Date((new Date).toDateString()).valueOf(),d=[],e=0,f=0,g=0,h=void 0,i=0;i<a.length;i++)try{var j=a[i].startDate,k=a[i].endDate,l=null==j||""===j,m=null==k||""===k;if(l&&m){b?h=i:d.push(i);continue}e=l?0:new Date(j.replace(/-/g,"/")).valueOf(),f=m?c+1:new Date(k.replace(/-/g,"/")).valueOf(),b&&(0===e||c>=e&&e>g)&&(g=e,h=i),!b&&c>=e&&f>c&&d.push(i)}catch(n){"consoleLog"in window&&window.consoleLog("Date checking failed for "+a[i].toString()+" with error: "+n.toString(),"ppb","error"),window.ueLogError&&window.ueLogError(n)}return b?h:d},b.exports=c["default"]},{}],19:[function(a,b,c){"use strict";!function(a){a.install(a,{document_readys:[],document_is_ready:function(){var b,c=a.document_readys;if(a.document_readys=null,null!==c)for(b=0;b<c.length;b++)try{c[b](jQuery)}catch(d){}a.should_jQuery_noConflict&&jQuery.noConflict(!1)},on_document_ready:function(b){a.has_document_readied()?b(jQuery):a.document_readys.push(b)},has_document_readied:function(){return null===a.document_readys},vanilla_on_document_ready:function(a){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?a():window.addEventListener("DOMContentLoaded",function(b){a()})}})}(window.generic)},{}],20:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(4),f=d(e);!function(a,b){var c=a.custom=a.custom||{};c.floater={close:function(a){var c=b.getElementById(a);c.style.width="0px",c.style.height="0px"},launch:function(a,d,e,g,h,i,j,k){var l=b.createElement("iframe"),m="string"==typeof e?b.getElementById(e):e;"none"!==d&&setTimeout(function(){c.floater.close(i)},1e3*d),generic.extend(l,{id:i,name:i,className:k,width:a[0]+"px",height:a[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:h[0]+"px",marginTop:h[1]+"px",zIndex:h[2],position:"absolute"}}),g(l,m),f["default"].isFirefox()?l.onload=function(){var a=f["default"].frameDoc(l);f["default"].appendContentToIframeDoc(a,j)}:setTimeout(function(){var a=f["default"].frameDoc(l);f["default"].appendContentToIframeDoc(a,j)},0)},set:function(a,b,d,e,f,g,h){var i=Math.ceil(9999999*Math.random()),j="floater_"+i,k="floater_"+h;return c.floater.launch(b,d,e,f,g,j,a,k),j}}}(window,document)},{4:4}],21:[function(a,b,c){"use strict";!function(){window.generic=window.generic||{},window.generic.install=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}()},{}],22:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a+"-imdb-adtech-global-css"}function f(a){if(i["default"]()&&a){var b=a.top.document.body,c=a.document.getElementsByClassName(j),d=g.getSlotName(a),f=e(d),h=b.getElementsByClassName(f);if(b){for(var k=0;k<h.length;k++)b.removeChild(h[k]);for(var k=0;k<c.length;k++){var l=c[k];l.classList.add(f),b.prepend(l)}}}}c.__esModule=!0;var g=a(42),h=a(26),i=d(h),j="imdb-adtech-global-css";c.globalizeCss=f},{26:26,42:42}],23:[function(a,b,c){"use strict";function d(a,b,c,d){if("undefined"!=typeof window&&(window.AdSlots={},window.AdSlotsLoading=!0,a&&!window.hasAdAJAXCallFired)){window.hasAdAJAXCallFired=!0,"function"==typeof window.uet&&window.uet("bb","AdAJAXRequest",{wb:1});try{!function(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){window.ue&&"function"==typeof window.ue.count&&window.ue.count("AdAJAXRequest",0);var b=JSON.parse(a.responseText);window.top.ad_utils&&window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.handleAdServiceResponse(b),window.AdSlots=b?b.slotsMap:{},window.AdSlotsLoading=!1}"function"==typeof window.uex&&window.uex("ld","AdAJAXRequest",{wb:1})};var e=window.top.ad_utils.constructClientSideUrl(b,c,d);a.open("GET",e,!0),a.send()}()}catch(e){window.ue&&"function"==typeof window.ue.count&&window.ue.count("AdAJAXRequest",1),window.ueLogError&&window.ueLogError(e)}}}c.__esModule=!0,c.makeAtfSlotsCall=d},{}],24:[function(a,b,c){"use strict";function d(a,b,c,d,e){return'<a href="'+a+'" target="'+b+'"><img src="'+c+'" width="'+d+'" height="'+e+'" border=0 /></a>'}function e(a,b){return!h.isIpad()&&!h.isInternetExplorer()||a?a:b}function f(a,b,c,d){if((h.isIpad()||h.isInternetExplorer())&&!a)return{width:b,height:c};var e=d.split("x");return e.length<2?{width:0,height:0}:{width:e[0],height:e[1]}}function g(a,b,c,g,h,i,j){return function(){var k=e(a,b);if("undefined"==typeof k||!k)return k;var l=f(a,h,i,j);return d(c,g,k,l.width,l.height)}}c.__esModule=!0;var h=a(39);c.getImage=e,c.getSize=f,c.responsiveImageGenerator=g},{39:39}],25:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)},b.exports=c["default"]},{}],26:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(){return null!==window.top.document.getElementById("IMDbHomepageSiteReactViews")||null!==window.top.document.getElementById("__next")},b.exports=c["default"]},{}],27:[function(a,b,c){"use strict";function d(a){function b(){e.isResponsiveBackupSlot(a)&&"ad"!==t&&(f.uncollapseAd(a.frameElement),f.collapseElement(a,n),f.uncollapseElement(a,m),f.uncollapseElement(a,o),j.isMobile()?(h.removeWrapperSize(a),h.mobileWebCreativeResizing(a,r,s)):h.scaleWrapperToWidth(a,r,r,s),t="ad")}function c(){return p}function d(){"collapsed"!==t&&(f.collapseAd(a.frameElement),t="collapsed")}function k(){if("backup"!==t){f.uncollapseAd(a.frameElement);var b=i.getSize(p,0,0,q);h.scaleWrapperToWidth(a,b.width,b.width,b.height),f.uncollapseElement(a,n),f.collapseElement(a,m),f.collapseElement(a,o),t="backup"}}var l=a.backup_static||{},m=l.adLinkId||"static-ad-link",n=l.backupLinkId||"static-backup-link",o=l.additionalHtml||"static-extra-html",p=l.responsiveImage||"",q=l.size||"0x0",r=l.renderWidth||0,s=l.renderHeight||0;l.adState="";var t="",u=e.shouldShowBackupSupplierResponsive(a);g.bindBackupImage(a,u,b,c,d,k)}c.__esModule=!0;var e=a(12),f=a(1),g=a(11),h=a(38),i=a(24),j=a(39);c.handlePremiumStaticResponsiveBackup=d},{1:1,11:11,12:12,24:24,38:38,39:39}],28:[function(a,b,c){"use strict";!function(a,b,c){a.custom.parallax={init:function(c){a.generic.on_document_ready(function(){var d=c.getElementById("parallax"),e=b.getElementById("root");generic.insert_before(d,e);var f=c.getElementById("skrollr_core_src").innerHTML;b.getElementById("skrollr_core_dest").innerHTML=f,a.skrollr&&a.skrollr.init({mobileCheck:function(){return!1},smoothScrolling:!0});for(var g=1;10>=g;g++){var h=b.getElementById("parallax_layer"+g);h&&(custom.parallax.seen["parallax_layer"+g]={obj:h,seen:!1})}b.addEventListener("scroll",custom.parallax.scrollListener)})},seen:{},interactionTrackers:{},scrollListener:function(){for(var a,c,d=1;10>=d;d++)a=custom.parallax.seen["parallax_layer"+d],a&&!a.seen&&(c=a.obj.getBoundingClientRect().top-b.documentElement.clientHeight<-100,c&&((new Image).src=custom.parallax.interactionTrackers["parallax_layer"+d],a.seen=!0))}}}(window,document)},{}],29:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){a.addEventListener("click",function(){var b=a.getAttribute("data-ct-count");if(b&&b>0)for(var c=0;b>c;c++){var d=a.getAttribute("data-ct-"+c);if(d){var e=new Image;e.src=d}}})},b.exports=c["default"]},{}],30:[function(a,b,c){"use strict";c.__esModule=!0;var d="adLoaded";c.AD_LOADED_EVENT_NAME=d;var e="1P-ad-autoplay-video-maybe-present";c.AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE=e;var f="blank";c.BLANK=f;var g="inline20-page-background";c.INLINE20_PAGE_BACKGROUND_CLASS=g;var h=1024;c.LARGE_BREAKPOINT=h;var i="loadstart";c.LOADSTART=i;var j="mediaPlaybackEvent";c.MEDIA_PLAYBACK_EVENT_NAME=j;var k="ipc-page-wrapper";c.PAGE_WRAPPER_CLASSNAME=k;var l="primaryAdsLoaded";c.PRIMARY_ADS_LOADED_EVENT_NAME=l;var m="noAdToLoad";c.NO_AD_TO_LOAD_EVENT_NAME=m;var n="no-autoplay-video-ad-detected";c.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE=n;var o="noPrimaryAdsToLoad";c.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME=o;var p="play";c.PLAY=p;var q="plaid-style-overrides-id";c.PLAID_STYLE_OVERRIDES_ID=q;var r="3P-ad-no-autoplay-video-detected";c.THIRD_PARTY_AD_DETECTED_EVENT_TYPE=r;var s="ipc-wrap-background-id";c.WRAP_BACKGROUND_DIV_TAG_ID=s;var t="wrap-background-styles";c.WRAP_BACKGROUND_STYLE_TAG_ID=t},{}],31:[function(a,b,c){"use strict";function d(){return this.adVideoAutoplayBufferInterval}function e(){return this.hasPremiumAd}function f(){return this.lastAAXResponse}function g(){return this.lastAdResponse}function h(){return this.plaidOverrides}function i(){return this.previousWindowWidth}function j(){return this.responsiveResizingDisabledSlotsMap}function k(a){return a+"_responsive_wrapper"}c.__esModule=!0,c.getAdVideoAutoplayBufferInterval=d,c.getHasPremiumAd=e,c.getLastAAXResponse=f,c.getLastAdResponse=g,c.getPlaidOverrides=h,c.getPreviousWindowWidth=i,c.getResponsiveResizingDisabledSlotsMap=j,c.getSlotResponsiveWrapperId=k},{}],32:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){"undefined"!=typeof window&&(window.mediaOrchestrator=l),f()}function f(){function a(){return k.every(function(a){return d.includes(a)})}function b(b){d.push(b.slotName),a()&&!e&&(e=!0,window.mediaOrchestrator.publish(g.PRIMARY_ADS_LOADED_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",slotName:"",timestamp:Date.now()}))}function c(a){k.includes(a.slotName)&&!f&&(f=!0,window.mediaOrchestrator.publish(g.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",slotName:"",timestamp:Date.now()}))}var d=[],e=!1,f=!1;window.mediaOrchestrator.subscribe(g.AD_LOADED_EVENT_NAME,b),window.mediaOrchestrator.subscribe(g.NO_AD_TO_LOAD_EVENT_NAME,c)}c.__esModule=!0,c.initializeMediaOrchestrator=e;var g=a(30),h=a(41),i=d(h),j=2e3,k=[i["default"].INLINE20,i["default"].INLINE40],l=function(){function a(a,b){m.call(h,a)||(h[a]=[]),h[a].push(b)}function b(a,b){if(a!==g.MEDIA_PLAYBACK_EVENT_NAME||b.slotName!==i["default"].INLINE20&&b.slotName!==i["default"].TOP_AD||b.type!==g.AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE)a!==g.MEDIA_PLAYBACK_EVENT_NAME||b.slotName!==i["default"].INLINE20&&b.slotName!==i["default"].TOP_AD||b.type!==g.LOADSTART&&b.type!==g.PLAY||e(b.slotName);else{var f=c.bind(null,b.slotName);d(b.slotName,f,j)}}function c(a){window.mediaOrchestrator.publish(g.MEDIA_PLAYBACK_EVENT_NAME,{type:g.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,dispatcher:"media-orchestrator",slotName:a,timestamp:Date.now()})}function d(a,b,c){k[a]=setTimeout(b,c)}function e(a){k[a]&&clearTimeout(k[a])}var f={},h={},k={},l=f.hasOwnProperty,m=h.hasOwnProperty;return{getEventsLogForEvent:function(a){return void 0!==h[a]?h[a].slice():[]},subscribe:function(a,b){l.call(f,a)||(f[a]=[]);var c=f[a].push(b)-1;return{remove:function(){delete f[a][c]}}},publish:function(c,d){l.call(f,c)||(f[c]=[]),a(c,d),b(c,d),f[c].forEach(function(a){a(void 0!==d?d:{})})}}}();c.mediaOrchestrator=l},{30:30,41:41}],33:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(){m.initializeVideoEventsMessageListeners(),n.initializeMediaOrchestrator()}function g(a,b){var c=a;if(b===l["default"].INLINE40+"_responsive_wrapper"){var d=document.getElementsByClassName(l["default"].INLINE40_SIDEBAR)[0],e=document.getElementsByClassName(l["default"].INLINE40_MAIN)[0],f=window.innerWidth;f<s.LARGE_BREAKPOINT&&e?c=e:d&&(c=d)}return c}function h(a){if("undefined"!=typeof document){var b=document.getElementById(a);b&&b.remove()}}function i(a){window.mediaOrchestrator&&window.mediaOrchestrator.publish(s.AD_LOADED_EVENT_NAME,{type:"",dispatcher:"responsive-ad-api",slotName:a,timestamp:Date.now()})}c.__esModule=!0;var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.initializeResponsiveAdApi=f;var k=a(41),l=e(k),m=a(36),n=a(32),o=a(31),p=d(o),q=a(34),r=d(q),s=a(30),t=a(35),u=j({adVideoAutoplayBufferInterval:1e3,hasPremiumAd:null,lastAAXResponse:null,lastAdResponse:null,plaidOverrides:null,previousWindowWidth:0,responsiveResizingDisabledSlotsMap:{}},p,r,{checkShouldMakeAdSticky:t.checkShouldMakeAdSticky,clearData:function(){this.hasPremiumAd=null,this.lastAdResponse=null,this.plaidOverrides=null,this.previousWindowWidth=0,this.responsiveResizingDisabledSlotsMap={}},clearPageStyles:function(){
h(s.PLAID_STYLE_OVERRIDES_ID)},clearWrapBackgroundStyles:function(){h(s.WRAP_BACKGROUND_STYLE_TAG_ID)},collapseAd:function(a){if("undefined"!=typeof document){var b=document.getElementById(this.getSlotResponsiveWrapperId(a));b&&(b.style.display="none")}},dangerouslySetHTML:function(a,b,c){if("function"==typeof window.uet&&window.uet("bb","dangerouslySetHTML",{wb:1}),"undefined"!=typeof document){var d=b||document.getElementById(c);if(d=g(d,c),null!==d){var e=document.createRange();e.selectNodeContents(d),e.deleteContents(),d.appendChild(e.createContextualFragment(a))}}"function"==typeof window.uex&&window.uex("ld","dangerouslySetHTML",{wb:1})},events:{queues:{adIframeLoad:{},adSlotMount:{},adSlotUnmount:{}},adIframeLoad:function(a){this.queues.adIframeLoad[a]=!0,i(a)},adSlotMount:function(a){"function"==typeof window.uet&&window.uet("bb","adSlotMount",{wb:1}),"function"==typeof this.queues.adSlotMount[a]?this.queues.adSlotMount[a]():this.queues.adSlotMount[a]=!0,"function"==typeof window.uex&&window.uex("ld","adSlotMount",{wb:1})},adSlotUnmount:function(a){this.queues.adSlotMount[a]=!1},video:{}},handleAAXResponse:function(a){this.setLastAAXResponse(a)},handleAdServiceResponse:function(a,b){"function"==typeof window.uet&&window.uet("bb","handleAdServiceResponse",{wb:1});var c=a&&a.slotsMap?a.slotsMap:a;if(this.setLastAdResponse(a),c){c[l["default"].INLINE20]&&this.clearWrapBackgroundStyles(),b&&b.shouldClearPageStyles&&this.clearPageStyles();for(var d in c)c.hasOwnProperty(d)&&this.renderAd(d,c[d])}"function"==typeof window.uex&&window.uex("ld","handleAdServiceResponse",{wb:1})},isBlankAd:function(a){var b=a?a.creativeMetadata:null;return b?b&&b.adProductType&&b.adProductType.name===s.BLANK||0===b.creativeHeight:!1},queueFunc:function(a,b,c){this.events.queues[a][b]?c():this.events.queues[a][b]=c},renderAd:function(a,b){"function"==typeof window.uet&&window.uet("bb","renderAd",{wb:1});var c=b.slotMarkup;if(c&&"undefined"!=typeof document){var d=this.getSlotResponsiveWrapperId(a),e=document.getElementById(d),f=this.dangerouslySetHTML.bind(null,c,e,d);this.queueFunc("adSlotMount",a,f)}this.isBlankAd(b)?this.collapseAd(a):this.unCollapseAd(a),"function"==typeof window.uex&&window.uex("ld","renderAd",{wb:1})},triggerCustomEvent:function(a,b){if("undefined"!=typeof window){var c=void 0;"function"==typeof CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!1,!1,b)),window.dispatchEvent(c)}},unCollapseAd:function(a){if("undefined"!=typeof document){var b=document.getElementById(this.getSlotResponsiveWrapperId(a));b&&"none"===b.style.display&&(b.style.display="flex")}}});c.responsiveAdAPI=u},{30:30,31:31,32:32,34:34,35:35,36:36,41:41}],34:[function(a,b,c){"use strict";function d(a){this.adVideoAutoplayBufferInterval=a}function e(a){"boolean"==typeof a&&(this.hasPremiumAd=a)}function f(a){this.lastAAXResponse=a}function g(a){a.slotsMap&&(this.lastAdResponse={slots:a.slotsMap}),this.setHasPremiumAd(a.hasPremium),this.setPlaidOverrides(a.plaidOverrides),this.setResponsiveResizingDisabledSlotsMap(a)}function h(a){k.isEmpty(a)||(this.plaidOverrides=a,this.triggerCustomEvent("clientSidePlaidOverride",a))}function i(){this.previousWindowWidth=window.innerWidth}function j(a){var b=this;a.slotsMap&&Object.keys(a.slotsMap).forEach(function(a){delete b.responsiveResizingDisabledSlotsMap[a]});var c=a.responsiveResizingDisabledSlotsMap;c&&Object.keys(c).forEach(function(a){b.responsiveResizingDisabledSlotsMap[a]=c[a]})}c.__esModule=!0,c.setAdVideoAutoplayBufferInterval=d,c.setHasPremiumAd=e,c.setLastAAXResponse=f,c.setLastAdResponse=g,c.setPlaidOverrides=h,c.setPreviousWindowWidth=i,c.setResponsiveResizingDisabledSlotsMap=j;var k=a(47)},{47:47}],35:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i()&&window.ad_utils.isResponsive()&&!window.ad_utils.responsiveAdAPI.getHasPremiumAd()&&a.id.includes(n["default"].INLINE20)&&a.width.includes(r)&&a.height.includes(s)&&!g(n["default"].INLINE20)&&j(n["default"].INLINE20,w)}function f(){var a=h();return a&&(a.backgroundImage&&"none"!==a.backgroundImage||"#000"!==a.backgroundColor&&"#000000"!==a.backgroundColor&&"rgba(0, 0, 0, 0)"!==a.backgroundColor&&"rgb(0, 0, 0, 0)"!==a.backgroundColor)}function g(a){var b=document.getElementById(a);if(!b)return!1;var c=k(b.style.width),d=k(b.style.height);return b.width===r&&b.height===s&&c>p&&d>q}function h(){var a=document.getElementById(l.WRAP_BACKGROUND_DIV_TAG_ID);try{return window.getComputedStyle(a)}catch(b){return{}}}function i(){return null!==document.getElementById(v)}function j(a,b){function c(a){return"\n            @media screen and (min-width: "+l.LARGE_BREAKPOINT+"px) {\n                ."+o+" "+w+" {\n                    position: fixed !important;\n                    height: "+k.clientHeight+"px;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 50;\n                    transition: opacity "+t+"s ease-in;\n                    "+(a?"opacity: 1 !important;":"")+"\n                }\n                ."+o+"."+l.PAGE_WRAPPER_CLASSNAME+" {\n                    top: "+k.clientHeight+"px;\n                }\n            }\n        "}function d(){r=window.scrollY,s||(window.requestAnimationFrame(function(){g(r),s=!1}),s=!0)}function e(){C.style.opacity=0,setTimeout(function(){C.style.opacity=1,j.classList.remove(o),v=!1},u)}function g(a){!v&&a>m?(C.style.opacity=0,setTimeout(function(){j.classList.add(o),v=!0},0)):v&&m>=a&&e()}function i(){window.generic.add_css_style(c(!1),n,"o"),e(),document.removeEventListener("scroll",d)}var j=document.querySelector("."+l.PAGE_WRAPPER_CLASSNAME),k=document.getElementById(a+"_responsive_wrapper"),m=k.getBoundingClientRect().top+window.scrollY,n=a+"-"+x,p=f(),q="#"+a+"_responsive_wrapper",r=window.scrollY,s=!1,v=!1,w=p?q:"."+l.INLINE20_PAGE_BACKGROUND_CLASS;if(window.generic.add_css_style(c(!0),n,"a"),p){var y=h(),z=y.backgroundImage,A=z&&"none"!==z?z:"",B=y.backgroundColor?y.backgroundColor:"";window.generic.add_css_style("\n            @media screen and (min-width: "+l.LARGE_BREAKPOINT+"px) {\n                ."+o+" #"+l.WRAP_BACKGROUND_DIV_TAG_ID+", ."+o+" "+q+" {\n                    background: "+A+" fixed top no-repeat "+B+" !important;\n                    background-position-y: -56px !important;\n                }\n            }\n        ",n)}document.addEventListener("scroll",d);var C=document.querySelector(w);g(r),b&&setTimeout(i,b)}function k(a){function b(a){var b=parseInt(a);return isNaN(b)?0:b}return"string"==typeof a?b("px"===a.substr(a.length-2)?a.substr(0,a.length-2):a):"number"==typeof a?a:b(a)}c.__esModule=!0,c.checkShouldMakeAdSticky=e,c.didAdSetRodeoWrap=f,c.didAdSetTarnhelmWrap=g,c.getRodeoWrapStyles=h,c.isInStickyAdWeblab=i,c.makeAdSticky=j,c.parseElementDimension=k;var l=a(30),m=a(41),n=d(m),o="fixed-wrap",p=970,q=250,r=""+p,s=""+q,t=.3,u=1e3*t,v="IMDB_ADS_STICKY_INLINE20_369230",w=3e3,x="sticky-wrap-styles"},{30:30,41:41}],36:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){"undefined"!=typeof window&&window.addEventListener("message",f,!1)}function f(a){a&&a.origin!==window.origin||(a.data&&"video-handler"===a.data.dispatcher?h(a.data):a.data&&"generic"===a.data.dispatcher&&g(a.data))}function g(a){var b=a.type;b===l.NO_AD_TO_LOAD_EVENT_NAME&&window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(l.NO_AD_TO_LOAD_EVENT_NAME,a)}function h(a){var b=a.slotName,c=a.type;window.top.ad_utils.responsiveAdAPI.events.video[c]||(window.top.ad_utils.responsiveAdAPI.events.video[c]={}),window.top.ad_utils.responsiveAdAPI.events.video[c][b]={timestamp:a.timestamp},i(a)}function i(a){var b=a.slotName;(b===k["default"].INLINE20||b===k["default"].TOP_AD)&&(window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.triggerCustomEvent(l.MEDIA_PLAYBACK_EVENT_NAME,a),window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(l.MEDIA_PLAYBACK_EVENT_NAME,a))}c.__esModule=!0,c.initializeVideoEventsMessageListeners=e;var j=a(41),k=d(j),l=a(30)},{30:30,41:41}],37:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){return j.search(i)>-1}function f(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a(35),i=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,j=window.location.href,k={TOP_AD:[{width:"728px",height:"90px"}],INJECTED_BILLBOARD:[{width:"970px",height:"250px"}],TOP_RHS:[{width:"300px",height:"250px"}]},l=["ia.media-imdb.com"],m=["BTF_RHS2","BOTTOM_AD","MEDIAVIEWER_BANNER","INLINE80"],n=["MEDIAVIEWER_BANNER"],o=["INLINE20","INLINE40","INLINE50","INLINE60","INLINE80","INLINEBOTTOM","TOP_RHS","TOP_AD"],p=[],q="ape_",r="_placement",s="data-first-party-creative-template",t=[{p:0,t:0,def:"amzn"},{p:50,t:1,def:"iab"},{p:100,t:0,def:"groupm"}],u=["openPsAdPopover","openATCModal","setPartner","sendMetrics","wrap"],v=function(){function a(){d(this,a),this.sfSrclessIframeSizes={},this.sfAdObjs={}}return g(a,[{key:"getSafeframeIdPrefix",value:function(){return q}},{key:"getSafeframeAdObjs",value:function(){return this.sfAdObjs}},{key:"injectCode",value:function(a,b){var c=e(),d=c?"MSFClient":"SFClient",f=c?"":"<script defer>setTimeout( function(){"+d+'.getDebugInfo({key: "updateAdDetails"}); },0);</script>',g="<script defer>setTimeout(function(){"+d+'.customMessage("sendMetrics",JSON.stringify({"slot": "'+a+'", "event": "fireload"}));},0);</script>',h=b+f+g;this.renderAdInSF(a,h)}},{key:"getSafeframeDiv",value:function(a){return document.getElementById(q+a+r)}},{key:"fireSfReflowMetric",value:function(a){var b=this.sfSrclessIframeSizes[a],c=b.w,d=b.h,e=window.top.ad_utils.get_slot_iframe(a),f=window.top.ad_utils.get_ad_object(e);window.top.ad_utils.fire_reflow_metric(a,f,c,d,e.width.replace(/px/g,""),e.height.replace(/px/g,""))}},{key:"getSfAdObject",value:function(a){if(this.sfAdObjs[a])return this.sfAdObjs[a];var b=null,c=window.top.ad_utils.sf_ad_details[a];if(c){var d=c.width,e=c.height;d&&(d=d.replace(/px/g,"")),e&&(e=e.replace(/px/g,"")),b={aid:c.adId,cid:c.creativeId,w:d,h:e},this.sfAdObjs[a]=b}return b}},{key:"onSfAdLoad",value:function(a){var b=""+q+a+"_iframe";window.top.ad_utils.responsiveAdAPI.events.adIframeLoad(a),h.checkShouldMakeAdSticky(document.getElementById(b));var c=this.getSfAdObject(a),d=window.top.ad_utils.get_type_of_ad(c),e=void 0,f=window.top.ad_utils.ad_table[a];if(f.fired=!0,f.loaded=!0,null!==c&&("blank"===c.scope||"null"===c.scope)){var g=this.sfSrclessIframeSizes[a];e="0"===g.w&&"0"===g.h?0:window.generic.monitoring.get_metric_value(a,"reflow")}window.top.ad_utils.slot_events.trigger(a,"load",{duration:e,type:d})}},{key:"updateAdDetails",value:function(a){a&&a.creativeId&&(window.top.ad_utils.sf_ad_details[a.slot]={},window.top.ad_utils.sf_ad_details[a.slot].creativeId=a.creativeId,window.top.ad_utils.sf_ad_details[a.slot].adId=a.adId,window.top.ad_utils.sf_ad_details[a.slot].width=a.width,window.top.ad_utils.sf_ad_details[a.slot].height=a.height)}},{key:"setPartner",value:function(a){var b=JSON.parse(a);b&&b.slot&&b.partner&&top&&top.generic&&top.generic.monitoring&&top.generic.monitoring.set_partner&&top.generic.monitoring.set_partner_by_slot(b.slot,b.partner)}},{key:"isThirdPartyAd",value:function(a){return a&&!a.hasAttribute(s)}},{key:"isSafeframeSlot",value:function(a,b){var c=e(),d=a&&(c?n:m).indexOf(a.toUpperCase())>-1,f=a&&o.indexOf(a.toUpperCase())>-1&&this.isThirdPartyAd(b);return d||f}},{key:"getRawSlotName",value:function(a){var b=a;return a&&0===a.indexOf(this.getSafeframeIdPrefix())&&(b=a.slice(4,a.length-7)),b}},{key:"renderAdInSF",value:function(b,c){var d=document.getElementById(b);if(null!==d){var f=d.parentElement,g=d.getAttribute("data-original-width"),h=d.getAttribute("data-original-height");this.sfSrclessIframeSizes[b]={w:g,h:h};var i=new a.AdDetails(b,d,c),j=f.getElementsByClassName("sponsored_label");0===j.length&&(j=f.getElementsByClassName("standard_sponsored_label"));var k=null;j.length>0&&(k=j[0],f.removeChild(k)),f.removeChild(d);var l=document.createElement("div"),m=q+b+r;l.setAttribute("name",m),l.setAttribute("id",m);var n=e();if(n){var o=document.createElement("div");f.parentElement.replaceChild(o,f),o.appendChild(f);var p=f.id;o.id=p,f.id="ape_"+p}var s=n?f:l;s.setAttribute("data-ad-details",JSON.stringify(i)),s.setAttribute("class","text/x-dacx-safeframe"),s.style.width=g+"px",s.style.height=h+"px",s.style.margin="0 auto",s.style.display="block";var t=document.getElementById(b.toLowerCase()+"placeholderPattern");if(t&&(l.style.position="relative",l.classList.add("rendered_ad_tweening")),f.appendChild(l),k&&(f.appendChild(k),f.style.width=g+"px",f.style.height=h+"px"),window.generic&&window.generic.monitoring){var u=window.generic.monitoring.get_partner(b);u&&"none"!==u||window.generic.monitoring.set_partner_by_slot(b,"3P")}switch(b){case"injected_billboard":f.className=(f.className?f.className+" ":"")+"billboard";break;case"top_ad":window.top.ad_utils.expand_top_banner()}if(n?window.MAsf.loadAds():window.DAsf.loadAds(),t&&(l.classList.add("ad_fadein"),l.childNodes&&l.childNodes.length>0&&l.childNodes[0].classList.add("ad_fadein")),window.top.ad_utils.show_hidden_labels&&window.top.ad_utils.show_hidden_labels(b),window.csm&&window.top.ad_utils.fire_tagdeliver_metric){var v=window.csm.duration();window.top.ad_utils.fire_tagdeliver_metric(b,v)}window.ad_size_cookie&&window.ad_size_cookie.store()}}}]),a}();v.AdDetails=function(){function a(b,c,e){d(this,a),this.slot=c.id,this.slotName=c.id,this.arid=c.id,this.htmlContentEncoded=f(e),this.serverSideFetchAd="true",this.loadAfter="",this.slot.toUpperCase()in k?this.allowedSizes=k[this.slot.toUpperCase()]:this.allowedSizes=[],this.allowedDomains=l,this.iframeClass=c.getAttribute("class"),this.iframeExtraStyle=c.getAttribute("style")||"";var g={};g.width=c.getAttribute("width")+"px",g.height=c.getAttribute("height")+"px",this.size=g,this.adFeedbackInfo={boolFeedback:this.hasFeedbackLink(b)},this.aaxInstrPixelUrl=window.top.ad_utils.aax_instr_pixel_url[this.slot.toUpperCase()],this.viewabilityStandards=t,this.allowlistedCustomMessageEvents=u,this.allowlistedQueryParamKeys=[],this.adCreativeMetaData={adCreativeTemplateName:"IMDb"}}return g(a,[{key:"hasFeedbackLink",value:function(a){return a&&p.indexOf(a.toUpperCase())>-1}}]),a}(),c["default"]=new v,b.exports=c["default"]},{35:35}],38:[function(a,b,c){"use strict";function d(a){var b=s.getSlotWrapper(a);b&&b.style&&(b.style.marginLeft="auto",b.style.marginRight="auto")}function e(a,b,c){var d=s.getSlotName(a);if("top_ad"!==d.toLowerCase()&&c>=0&&b>=0){var e=c/b,f=640*e,g=100*e;if(d){var h=s.getSlotWrapper(a);h.className+=" standard_expand_ad_slot_wrapper orientation_"+h.id+"}";var i=s.getSlot(a);i.className+=" standard_expand_ad_slot_iframe";var j="\n                @media only screen and (min-width : 641px) {\n                    .orientation_"+h.id+" {\n                        width: 640px;\n                        height: "+f+"px;\n                    }\n                }\n\n                @media only screen and (min-width : 640px) {\n                    .orientation_"+h.id+" {\n                        width: 100vw;\n                        height: "+g+"vw;\n                    }\n                }\n\n                .sponsored_label {\n                    padding-right: 5%;\n                }\n            ";a.top.generic.add_css_style(j,"expand-1p-ads")}}else s.getSlotWrapper(a).setAttribute("style","height: "+c+"px; display: block;"),s.getSlot(a).setAttribute("style","height: "+c+"px;")}function f(a){a&&(a.style.removeProperty("width"),a.style.removeProperty("height"))}function g(a){f(s.getSlotWrapper(a))}function h(){return window.screen&&window.screen.width&&window.screen.height&&"undefined"!=typeof window.orientation}function i(){return 90===window.orientation||-90===window.orientation?"landscape":"portrait"}function j(){return"portrait"===i()?Math.min(window.screen.width,window.screen.height):Math.max(window.screen.width,window.screen.height)}function k(){return h()?j():window.innerWidth}function l(a,b,c,d){a&&(a.style.height=""+c+d,a.style.width=""+b+d,a.setAttribute("data-resizeElement",""+b+d+"|"+c+d))}function m(a,b,c){var d=top.document.getElementById("wrapper");d&&(d.style.overflowX="hidden");var e=s.getSlotWrapper(a);e&&(e.style.margin="auto"),r(e,b,c)}function n(a,b,c,d){var e=b/c,f=Math.floor(e*d);a&&a.frameElement&&(a.frameElement.height=f,a.frameElement.width=b),a&&a.document&&a.document.ad&&(a.document.ad.h=f,a.document.ad.w=b),l(a.frameElement,b,f,"px")}function o(a,b,c,d){var e=b/c,f=Math.floor(e*d),g=s.getSlotWrapper(a);l(g,b,f,"px")}function p(a,b,c){var d={actionName:"scale-ad-to-width",adName:b,data:{width:c}};setTimeout(function(){a.top.Tarnhelm&&window.top.Tarnhelm.triggerGlobalAction&&a.top.Tarnhelm.triggerGlobalAction(d)},0)}function q(a,b,c,d){var e=k();n(a,e,c,d),o(a,e,c,d),p(a,b,e)}function r(a,b,c){a&&(a.style.position="relative",a.style.overflow="visible",l(a,b,c,"px"))}c.__esModule=!0;var s=a(42);c.centerAd=d,c.resizeWrapperWithOverflowHidden=m,c.mobileWebCreativeResizing=e,c.removeWrapperSize=g,c.scaleIframeToWidth=n,c.scaleTarnhelmAd=p,c.scaleTarnhelm=q,c.scaleWrapperToWidth=o,c.setupContainer=r},{42:42}],39:[function(a,b,c){"use strict";function d(a){return a.top.document.body.clientWidth}function e(){var a=navigator.userAgent.toLowerCase();return a.indexOf("ipad")>-1||a.indexOf("macintosh")>-1&&"ontouchend"in document}function f(a){return a&&document.location.href.startsWith("https://"+a)}function g(){return f("www.")}function h(){return f("m.")}function i(){var a=window.navigator.userAgent,b=a.indexOf("MSIE");return b>0?parseInt(a.substring(b+5,a.indexOf(".",b))):a.match(/Trident\/7\./)?11:0}function j(){var a=i();return a>0&&11>=a}c.__esModule=!0,c.getBrowserWidth=d,c.isDesktop=g,c.isInternetExplorer=j,c.isIpad=e,c.isMobile=h,c.isSubdomain=f},{}],40:[function(a,b,c){"use strict";!function(a){a.imdbads=a.imdbads||{},a.imdbads.SlotManager=function(){function b(b,c){g[b]=c,"rhs"===b&&(c.getClickTracker&&(a.top.getClickTracker=c.getClickTracker),c.uatu&&(h=c.uatu))}function c(a){return g[a]}function d(a,b){return g[a]&&"function"==typeof g[a].getClickTracker?g[a].getClickTracker(b):""}function e(){return h}function f(){return g}var g={},h=void 0;return{registerSlot:b,getDefaultUatu:e,getSlotData:c,getSlotClickTracker:d,getAllSlotData:f}}()}(window)},{}],41:[function(a,b,c){"use strict";c.__esModule=!0;var d="inline20";c.INLINE20_SLOT_NAME=d;var e="inline40";c.INLINE40_SLOT_NAME=e;var f="inline40-responsive-main";c.INLINE40_MAIN=f;var g="inline40-responsive-sidebar";c.INLINE40_SIDEBAR=g;var h="inline50";c.INLINE50_SLOT_NAME=h;var i="inline60";c.INLINE60_SLOT_NAME=i;var j="inline80";c.INLINE80_SLOT_NAME=j;var k="inlinebottom";c.INLINEBOTTOM_SLOT_NAME=k;var l="interstitial";c.INTERSTITIAL_SLOT_NAME=l;var m="mediaviewer_banner";c.MEDIAVIEWER_BANNER_SLOT_NAME=m;var n="provider_promotion";c.PROVIDER_PROMOTION_NAME=n;var o="promoted_watch_bar";c.PROMOTED_WATCH_BAR_NAME=o;var p="sis_pixel";c.SIS_PIXEL_SLOT_NAME=p;var q="top_ad";c.TOP_AD_SLOT_NAME=q;var r="zergnet";c.ZERGNET_SLOT_NAME=r;var s={INLINE20:d,INLINE40:e,INLINE40_MAIN:f,INLINE40_SIDEBAR:g,INLINE50:h,INLINE60:i,INLINE80:j,INLINEBOTTOM:k,INTERSTITIAL:l,MEDIAVIEWER_BANNER:m,PROVIDER_PROMOTION:n,PROMOTED_WATCH_BAR:o,SIS_PIXEL:p,TOP_AD:q,ZERGNET:r};c["default"]=s},{}],42:[function(a,b,c){"use strict";function d(a){return a.frameElement&&a.frameElement.id?a.frameElement.id:"unknown"}function e(a){return g(a,d(a))}function f(a){return d(a)+"_wrapper"}function g(a,b){return a.top.document.getElementById(b)}function h(a){return g(a,f(a))}function i(a,b){return d(a)===b}function j(a){return i(a,"inline40")}c.__esModule=!0,c.getSlot=e,c.getSlotName=d,c.getSlotWrapper=h,c.getSlotWrapperName=f,c.isSlot=i,c.isInline40=j},{}],43:[function(a,b,c){"use strict";function d(a){function b(){"collapsed"!==a.tarnhelm_backup.adState&&(h.collapseAd(a.frameElement),a.tarnhelm_backup.adState="collapsed")}var c=a.tarnhelm_backup||{},d=c.appData||{},j=c.adName||void 0,k=c.trackingConsumer||void 0,l=c.pageBind||!1,m=c.scaleToFull||!1,n=c.clickThrough||"",o=c.target||"_blank",p=c.responsiveImage||"",q=c.legacyImage||"",r=c.renderWidth||0,s=c.renderHeight||0,t=c.size||"0x0",u=c.resizeWrapperWithOverflowHidden||!1,v=e.shouldShowBackupSupplierResponsive(a),w=f.showTarnhelmAdCallback(a,j,d,k,l,m,r,s,p,t,u),x=g.responsiveImageGenerator(p,q,n,o,r,s,t),y=f.showBackupImageTarnhelmResponsiveCallback(a,p,q,r,s,t);i.bindBackupImage(a,v,w,x,b,y)}c.__esModule=!0;var e=a(12),f=a(44),g=a(24),h=a(1),i=a(11);c.handleTarnhelmBackupImg=d},{1:1,11:11,12:12,24:24,44:44}],44:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.document.querySelector(".app")}function f(a,b){e(a).innerHTML=b}function g(a,b,c,d,f,g,h,k,l,n,o){return function(){a&&a.tarnhelm_backup&&"ad"!==a.tarnhelm_backup.adState&&(j.uncollapseAd(a.frameElement),g?(i.scaleTarnhelm(a,b,h,k),m["default"]()&&setTimeout(function(){i.scaleTarnhelm(a,b,h,k)},1)):o?i.resizeWrapperWithOverflowHidden(a,h,k):i.scaleWrapperToWidth(a,h,h,k),a.top&&a.top.Tarnhelm&&(a.top.Tarnhelm.initAdInstance(e(a),a.frameElement,c,d),f&&!a.top.Tarnhelm.pageLoadBound&&(a.top.addEventListener("load",function(){parent.Tarnhelm.triggerGlobalAction({actionName:"trigger-action-collection",collectionName:"pageLoad"})}),a.top.Tarnhelm.pageLoadBound=!0)),a.tarnhelm_backup.adState="ad")}}function h(a,b,c,d,e,g){return function(c){if(a&&a.tarnhelm_backup&&"backup"!==a.tarnhelm_backup.adState){f(a,c);var h=k.getSize(b,d,e,g);i.scaleIframeToWidth(a,h.width,h.width,h.height),i.scaleWrapperToWidth(a,h.width,h.width,h.height),i.centerAd(a),a.tarnhelm_backup.adState="backup"}}}c.__esModule=!0;var i=a(38),j=a(1),k=a(24),l=a(26),m=d(l);c.getAppNode=e,c.showBackupImageTarnhelmCallback=f,c.showTarnhelmAdCallback=g,c.showBackupImageTarnhelmResponsiveCallback=h},{1:1,24:24,26:26,38:38}],45:[function(a,b,c){"use strict";document.getElementsByTagName("html")[0].className+=" scriptsOn"},{}],46:[function(a,b,c){!function d(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return f(c?c:a)},l,l.exports,d,b,c,e)}return c[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports="html{box-sizing:border-box}html *,*:before,*:after{box-sizing:inherit}body{margin:0}.app,.ad{position:relative;display:block;width:100%;height:100%}.ad{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ad *,.ad *:before,.ad *:after{-webkit-user-select:inherit;-moz-user-select:inherit;-ms-user-select:inherit;user-select:inherit}.ad,.ad *{z-index:1}.ad>div{position:absolute;width:100%;height:100%;overflow:hidden}graphic>.graphic{opacity:inherit}.graphic>img{position:absolute;top:0;left:0}.graphic>.ad-hover,.graphic>.hover{opacity:0;transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;-webkit-transition:opacity .15s linear}.app:hover .graphic>.ad-hover,.graphic:hover>.hover{opacity:1}.countdown-number-text{text-align:center}.slider-rotator>.slide-offset{position:relative}.slider-rotator>.slide-offset>.slide{position:relative;display:inline-block;width:100%;height:100%;overflow:hidden}.th-gallery-parent .th-gallery-arrow{cursor:pointer}.th-gallery-parent>.th-gallery-image{opacity:0;transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;-webkit-transition:opacity .15s linear}.th-gallery-parent>.active{opacity:1}.minimal-video>video{width:100%;height:auto}"},{}],2:[function(a,b,c){function d(a){var b,c;return parent.ad_design&&parent.ad_design.Uatu&&parent.getClickTracker?(b=parent.ad_design.Uatu,window.Tarnhelm.log("Tarnhelm is using its legacyTrackingConsumer. This behavior is deprecated, and should only happen if your creative template is out of date."),c=b(),c.addConsumerCallback(function(a,b,c){a&&((new Image).src=parent.getClickTracker(a))}),c.addToTrackingMap(a),c.trackingConsumer):(window.Tarnhelm.log("couldn't find Uatu or getClickTracker. This means NOTHING IS BEING TRACKED."),function(){})}b.exports=d},{}],3:[function(a,b,c){function d(a,b){this.eventEmitter=a,this.actionRequirements=b}a("riot");d.prototype={off:function(a){this.eventEmitter.off(a)},on:function(a,b){this.eventEmitter.on(a,b)},one:function(a,b){this.eventEmitter.one(a,b)},trigger:function(a){if(a.requirements&&!this.canFire(a))return!1;if(a.isGlobal)return void window.Tarnhelm.triggerGlobalAction(a);if(null!=a.adName)return void window.Tarnhelm.triggerTandemAction(a);var b=Math.abs(window.parseInt(a.delay,10)||0);if(b){var c=this;window.setTimeout(function(){c.eventEmitter.trigger(a.actionName,a)},b)}else this.eventEmitter.trigger(a.actionName,a)},triggerMany:function(a){for(var b=0;b<a.length;b++){var c=a[b];this.trigger(c)}},canFire:function(a){return this.actionRequirements.areMet(a)?!0:(window.Tarnhelm.log("An action's requirements were not met ::",a.requirements,a),!1)}},b.exports=d},{riot:108}],4:[function(a,b,c){var d=a("../renderer/stores/ad.js"),e=a("./actionHandler.js"),f=a("./eventEmitter.js"),g=a("./externalTriggerHandler.js"),h=a("./linkHandler.js"),i=a("./scrollActionHandler"),j=a("./externalFunctionHandler.js"),k=a("./logHandler.js"),l=a("./videoActionHandler.js"),m=a("./backwardsCompatibilityProcessor.js"),n=a("./checkAdParentCompliance.js"),o=a("./rectProcessor.js"),p=(a("../renderer/stores/retrievers/scale.js"),a("./events/adEvent.js")),q=function(a){function b(){var a=w.adStore.getState();c(a.frameProperties)}function c(a){if(w.containerFrame){var b=o.process(a);o.setElRectStyle(w.containerFrame,b)}}function q(){return window.ad_utils&&window.ad_utils.fp?window.ad_utils.fp:void 0}function r(){if(w.adStore.requiresAutoplay()){var a=q();if(a&&a.should_autoplay(w.id)){var b=w.adStore.getFrequencyCappedInitActions();w.actionHandler.triggerMany(b),a.log_autoplay(w.id)}}}function s(){var a=w.adStore.getState();this.initted||(this.initted=!0,b(),n.check(this),a.actions&&a.actions.init&&a.actions.init.length&&w.actionHandler.triggerMany(a.actions.init),r(),w.actionHandler.trigger({actionName:p.DISPLAYED}))}function t(){w.actionHandler.trigger({actionName:"minimize-ad"})}function u(){w.actionHandler.trigger({actionName:"maximize-ad"})}function v(a){return a=a||(new Date).getTime(),a-w.initTime}var w={};if(a.adData=m.process(a.adData),a.adData.rect&&delete a.adData.rect,w.id=a.adData.id,w.name=a.adData.name,w.domNode=a.domNode,w.containerFrame=a.containerFrame,w.initTime=(new Date).getTime(),w.trackingConsumer="function"==typeof a.trackingConsumer?a.trackingConsumer:null,w.requirementsTester=window.Tarnhelm.getRequirementsTester(),w.actionHandler=new e(new f,w.requirementsTester),a.eventSinks)for(var x=0;x<a.eventSinks.length;x++)a.eventSinks[x].registerAdActionHandler(w.name,w.actionHandler);w.actionHandler.on("resize-ad-container",function(a){a&&a.data&&a.data.rect&&c(a.data.rect)});var y={adHeight:w.domNode.offsetHeight,adWidth:w.domNode.offsetWidth};return a.adData.isScalable&&150===y.adHeight&&300===y.adWidth&&window.Tarnhelm.log("Warning: Ad is set to `isScalable`, but its iframe does not have a width dimension set. Ad will be 300px wide on init."),w.adStore=new d(a.adData,w.actionHandler,y),w.linkHandler=new h(a.adData.defaultLink,w.actionHandler),a.adData.externalTriggerActions&&(w.externalTriggerHandler=new g(a.adData.externalTriggerActions,w.actionHandler)),k.listen(w.actionHandler),j.listen(w.actionHandler,w.containerFrame),l.listen(w.actionHandler,w.adStore),w.scrollActionHandler=new i(w.actionHandler),{getId:function(){return w.id},getName:function(){return w.name},getDomNode:function(){return w.domNode},getContainerFrame:function(){return w.containerFrame},getActionHandler:function(){return w.actionHandler},getAdStore:function(){return w.adStore},getInitTime:function(){return w.initTime},getTrackingConsumer:function(){return w.trackingConsumer},timeSinceInit:v,resizeAdContainer:c,minimize:t,maximize:u,initAfterMount:s}};b.exports=q},{"../renderer/stores/ad.js":65,"../renderer/stores/retrievers/scale.js":75,"./actionHandler.js":3,"./backwardsCompatibilityProcessor.js":5,"./checkAdParentCompliance.js":6,"./eventEmitter.js":9,"./events/adEvent.js":10,"./externalFunctionHandler.js":13,"./externalTriggerHandler.js":14,"./linkHandler.js":17,"./logHandler.js":18,"./rectProcessor.js":22,"./scrollActionHandler":24,"./videoActionHandler.js":28}],5:[function(a,b,c){b.exports={process:function(a){var b="Ad schema not up to date! ["+a.name+"] :: ",c=!!a.rect,d=!!a.frameProperties,e=d&&!!a.frameProperties.rect,f=!1;if(c&&!d){f=!0;var g={width:a.rect.width,height:a.rect.height};a.frameProperties=g}else if(!c)if(d&&e){f=!0;var g={width:a.frameProperties.rect.width,height:a.frameProperties.rect.height};a.frameProperties=g}else d||e||(window.Tarnhelm.log(b+"Bad dimensions config, please update immediately."),a.frameProperties={width:0,height:0});return f&&window.Tarnhelm.log(b+"Please update ad's frameProperties and ad.rect schema."),a}}},{}],6:[function(a,b,c){b.exports={check:function(a){var b=a.getAdStore().getState().name,c="Ad ["+b+"] may not render properly! ";if(this.hasAdContainerParent(a)){var d=this.getAdContainerParent(a),e=window.getComputedStyle(d),f=new RegExp(/relative|absolute/),g=new RegExp(/(inline\-|)block/);f.test(e.position)||window.Tarnhelm.log(c+' iframe.parentNode must be set to  position "relative" or "absolute".'),"visible"!==e.overflow&&window.Tarnhelm.log(c+"iframe.parentNode is not set to overflow: visible;"),"relative"!==e.position||g.test(e.display)||window.Tarnhelm.log(c+'iframe.parentNode is set to position "relative", so it must also be set to display "block" or "inline-block".'),""===e.width&&window.Tarnhelm.log(c+"iframe.parentNode requires an explicit width."),""===e.height&&window.Tarnhelm.log(c+"iframe.parentNode requires an explicit height.")}else window.Tarnhelm.log(c+"Incorrect context for Tarnhelm iframe: Ad iframe does not have an iframeNode.parentNode");var h=a.getContainerFrame(),i=window.getComputedStyle(h);""===i.top&&""===i.bottom&&""===i.left&&""===i.right&&window.Tarnhelm.log(c+"iframe has no positioning values.")},hasAdContainerParent:function(a){return a.getContainerFrame()&&a.getContainerFrame().parentNode},getAdContainerParent:function(a){var b=a.getContainerFrame().parentNode;return b}}},{}],7:[function(a,b,c){var d=a("riot");a("../tarnhelm.js");var e=1e3,f=60*e,g=60*f,h=24*g,i=e,j=function(a){var b;b="number"==typeof a?new Date(a):Date.parse(a),isNaN(b)?(window.Tarnhelm.log('Bad date string "'+a+'", setting CountdownTimer to NOW to avoid errors'),this.targetDate=new Date):this.targetDate=new Date(a),d.observable(this),this.tick(),this.start()};j.prototype={getMillisecondsRemaining:function(){var a=this.targetDate.valueOf()-window.Tarnhelm.getNowTime();return a>0?a:0},start:function(){window.clearInterval(this.interval),this.boundTick=this.tick.bind(this),this.interval=window.setInterval(this.boundTick,i)},stop:function(){window.clearInterval(this.interval),delete this.boundTick},tick:function(){var a=this.getRemainingValues(this.getMillisecondsRemaining());this.trigger("tick",a),a.totalMs||(this.stop(),this.trigger("end"))},getRemainingValues:function(a){var b={days:0,hours:0,minutes:0,
seconds:0,totalMs:0},c=a;return 0===c?b:(b.totalMs=c,b.days=Math.floor(c/h),c-=b.days*h,b.hours=Math.floor(c/g),c-=b.hours*g,b.minutes=Math.floor(c/f),c-=b.minutes*f,b.seconds=Math.floor(c/e),b)}},b.exports=j},{"../tarnhelm.js":78,riot:108}],8:[function(a,b,c){function d(a,b){this.userAgentString=b,this.url=a,this._calculate()}var e=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,f=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,g=/Android (\d{2,})/,h=/iP(hone|ad|od)/,i=/Version\/[\d\.]+.*Safari/,j="IMDb-flg",k="Windows Phone",l="Android",m="ontouchstart",n="Chrome/",o=/(Chrome|Safari|MSIE|Firefox)/,p=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/;d.prototype={getInfo:function(){return this.deviceInfo},_calculate:function(){var a=this._isWindowsDevice(this.userAgentString),b=this._isIOSDevice(this.userAgentString),c=this._isAndroidDevice(this.userAgentString),d=a||b||c,e=this._isIMDbApp(this.userAgentString),f=this._isSafari(this.userAgentString),g=this._getMobilePlatformVersion(this.userAgentString,e,c),h=!d,i=h||this._hasMobileTransitionTransformSupport(this.userAgentString,e,c,g);this.deviceInfo={isWindowsDevice:a,isSafari:f,isIOSDevice:!a&&b,isAndroidDevice:!a&&c,isMobileDevice:d,isMobileSite:this._isMobileSite(this.url),isIMDbApp:e,hasTouch:this._hasTouch(document),canAutoplay:this._canAutoplay(g,e,c,b,d),mobilePlatformVersion:g,canTransitionTransforms:i}},_isWindowsDevice:function(a){return a.indexOf(k)>-1},_isIOSDevice:function(a){return a.search(h)>-1},_isSafari:function(a){return a.search(i)>-1},_isAndroidDevice:function(a){return a.indexOf(l)>-1},_isMobileSite:function(a){return a.search(e)>-1},_isIMDbApp:function(a){return a.indexOf(j)>-1},_hasTouch:function(a){return m in a},_getChromeVersion:function(a){return-1!==a.indexOf(n)?parseInt(a.substr(a.indexOf(n)+n.length,2),10):void window.Tarnhelm.log("Attempted to get chrome version string of non chrome userAgentString")},_getMobilePlatformVersion:function(a,b,c){var d={},e=a.match(f);if(e&&e.length>0&&(d.major=parseInt(e[2],10)||0,d.minor=parseInt(e[3],10)||0,d.patch=parseInt(e[4],10)||0),b&&c){var e=a.match(g);e&&e.length>0?d.androidAPI=parseInt(e[1],10)||0:d.androidAPI=0}return d},_canAutoplay:function(a,b,c,d,e){return b?c?a.androidAPI>=17?!0:a.major>=4?4===a.major&&a.minor<2?!1:!0:!1:d&&a.major>=4?!0:!1:e?!1:!0},_hasMobileTransitionTransformSupport:function(a,b,c,d){var e=!c&&d.major<9;if(b)return e?!1:!0;if(p.test(a))return!1;if(o.test(a)){if(-1!==a.indexOf(n)){var f=this._getChromeVersion(a);if(!Number.isNaN(f)&&46>f)return!1}return!0}return!1}},b.exports=d},{}],9:[function(a,b,c){function d(){e.observable(this)}var e=a("riot");b.exports=d},{riot:108}],10:[function(a,b,c){var d={DISPLAYED:"ad:displayed",ASSET_PRELOAD_START:"ad:asset-preload-start",ASSET_PRELOAD_FINISH:"ad:asset-preload-finish",ASSET_PRELOAD_TIMEOUT:"ad:asset-preload-timeout",VIDEO_FAILURE:"ad:video-failure",VIDEO_LOADED:"ad:video-loaded"};b.exports=d},{}],11:[function(a,b,c){function d(){return window.IMDbTimer?Date.now()-window.IMDbTimer.starttime:-1}function e(a){m.push({fired:!1,fn:a})}function f(a,b){window.premiumAdMetrics&&window.premiumAdMetrics.initCounter?(window.Tarnhelm.log("initializing counter for "+a+"_"+b,Date.now()),window.premiumAdMetrics.initCounter(a,b)):(window.Tarnhelm.log("deferring counter initialization for "+a+"_"+b,Date.now()),e(function(){window.premiumAdMetrics.initCounter(a,b)}))}function g(a,b){window.premiumAdMetrics&&window.premiumAdMetrics.recordCounter?(window.Tarnhelm.log("logging counter for "+a+"_"+b,Date.now()),window.premiumAdMetrics.recordCounter(a,b)):(window.Tarnhelm.log("deferring counter for "+a+"_"+b,Date.now()),e(function(){window.premiumAdMetrics.recordCounter(a,b)}))}function h(a,b){var c=d();return-1===c?void window.Tarnhelm.log("no timer baseline present to log timed event for "+a+"_"+b,Date.now()):void(window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging timed event for "+a+"_"+b,Date.now()),window.premiumAdMetrics.recordLatency(a,b,c)):(window.Tarnhelm.log("deferring timed event for "+a+"_"+b,Date.now()),e(function(){window.premiumAdMetrics.recordLatency(a,b,c)})))}function i(a,b,c){window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging pre-calculated latency for "+a+"_"+b,Date.now()),window.premiumAdMetrics.recordLatency(a,b,c)):(window.Tarnhelm.log("deferring pre-calculated latency for "+a+"_"+b,Date.now()),e(function(){window.premiumAdMetrics.recordLatency(a,b,c)}))}var j=a("./tarnhelmEvent.js"),k=a("./adEvent.js"),l=function(a){this.topActionHandler=a,this.registerTopActionHandler();var b=this;this.topActionHandler.on("fireDeferredMetrics",function(){b.fireDeferredMetrics()})},m=[];l.prototype={registerTopActionHandler:function(){this.topActionHandler.on(j.READY,function(){h("tarnhelm","start")}),this.topActionHandler.on(j.INIT_FAILURE,function(){h("tarnhelm","initFailure")}),f("creative","abort"),this.topActionHandler.on(j.MPTP_ABORT,function(){g("creative","abort")}),f("tarnhelm","error"),this.topActionHandler.on(j.ERROR,function(){g("tarnhelm","error")}),f("creative","transitionSuccess"),this.topActionHandler.on(j.MPTP_TRANSITION,function(){g("creative","transitionSuccess")}),f("creative","transitionFailure"),this.topActionHandler.on(j.MPTP_TRANSITION_FAILURE,function(){g("creative","transitionFailure")})},registerAdActionHandler:function(a,b){b.on(k.ASSET_PRELOAD_START,function(){h("tarnhelm","preloadStart")}),b.on(k.ASSET_PRELOAD_FINISH,function(){h("tarnhelm","preloadFinish")}),b.on(k.ASSET_PRELOAD_TIMEOUT,function(){h("tarnhelm","preloadTimeout")}),b.on(k.DISPLAYED,function(){h("tarnhelm","creativeDisplayed")}),f("tarnhelm","videoFailure"),b.on(k.VIDEO_FAILURE,function(){g("tarnhelm","videoFailure")}),b.on(j.RECORD_LATENCY,function(a){i("tarnhelm",a.metricName,a.milliseconds)})},fireDeferredMetrics:function(){m.forEach(function(a){a.fired||(a.fn(),a.fired=!0)})}},b.exports=l},{"./adEvent.js":10,"./tarnhelmEvent.js":12}],12:[function(a,b,c){var d={READY:"tarnhelm:system-init",ERROR:"tarnhelm:error",INIT_FAILURE:"tarnhelm:init-failure",MPTP_ABORT:"tarnhelm:mptp-abort",MPTP_TRANSITION:"tarnhelm:mptp-transition",MPTP_TRANSITION_FAILURE:"tarnhelm:mptp-transition-failure",RECORD_LATENCY:"tarnhelm:record-latency"};b.exports=d},{}],13:[function(a,b,c){var d={listen:function(a,b){var c=this,d=b.contentWindow;a.on("call-external-function",function(a){c.callExternalFunction(d,a)})},callExternalFunction:function(a,b){var c,d,e=b.data.functionName,f=b.data.arguments||[],g=this.getFunctionContext(a,b);return this.isNested(e)?(c=this.getFunctionThisArg(b,g),d=this.getNestedFunction(e,g)):(c=g,d=g[e]),"function"!=typeof d?void this.logErrorMessage(d,b):"object"!=typeof c?void this.logThisArgErrorMessage(c,b):void d.apply(c,f)},getFunctionThisArg:function(a,b){var c=a.data.functionName,d=a.data.thisArgName;return d||(d=c.substr(0,c.lastIndexOf("."))),this.nestReduce(d.split("."),b)},getFunctionContext:function(a,b){return"top"===b.data.context?window.top:a},isNested:function(a){return-1!==a.indexOf(".")},getNestedFunction:function(a,b){return this.nestReduce(a.split("."),b)},nestReduce:function(a,b){return a.reduce(function(a,b,c,d){return a?a[b]:void 0},b)},logErrorMessage:function(a,b){var c="";c+=null==a?"Function does not exist":b.data.functionName+" is not a function",this.logError(c,b)},logThisArgErrorMessage:function(a,b){var c="";c+=null==a?"Provided thisArg does not exist":b.data.thisArgName+" is not an object",this.logError(c,b)},logError:function(a,b){a+=' in "'+b.data.context+'" context. ',window.Tarnhelm.log('Failed to call external function "'+b.data.functionName+'".',a)}};b.exports=d},{}],14:[function(a,b,c){function d(a,b){var c=this;c.actionMap=a,b.on("handle-external-trigger",function(a){a.data.triggerName&&c.actionMap[a.data.triggerName]&&b.triggerMany(c.actionMap[a.data.triggerName])})}b.exports=d},{}],15:[function(a,b,c){var d={throttle:function(a,b){var c,d,e,f=0,g=null,h=function(){f=Date.now(),g=null,e=a.apply(c,d)};return function(){var i=Date.now(),j=b-(i-f);c=this,d=arguments,0>=j||j>b?(g&&(clearTimeout(g),g=null),f=i,e=a.apply(c,d)):g||(g=setTimeout(h,j))}},debounce:function(a,b){function c(){var i=Date.now()-g;b>i?h=setTimeout(c,b-i):(h=null,f=a.apply(d,e))}var d,e,f,g=0,h=null;return function(){return d=this,e=arguments,g=Date.now(),h||(h=setTimeout(c,b)),f}}};b.exports=d},{}],16:[function(a,b,c){b.exports={beforeNode:function(a,b){var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.parentNode.insertBefore(c,b)}}},{}],17:[function(a,b,c){function d(a,b){var c=this;this.defaultLink=a,this.actionHandler=b,b.on("open-link",function(a){c.handleLinkAction(a)}),b.on("open-default-link",function(a){return c.defaultLink?void c.handleLinkAction(a):void window.Tarnhelm.log('No defaultLink for the "open-default-link" action.')})}d.prototype={pauseVideos:function(){this.actionHandler.trigger({actionName:"video:pause-all"})},handleLinkAction:function(a){var b=this.defaultLink,c=!1;a.data&&(b=a.data.url||b,c=!!a.data.sameWindow),c?window.top.location.href=b:window.open(b)}},b.exports=d},{}],18:[function(a,b,c){b.exports={listen:function(a){a.on("log",function(a){window.Tarnhelm.log(a.message)})}}},{}],19:[function(a,b,c){var d=function(a){this.injectEl=a,this.init(),this.minimize()};d.prototype={dimensions:{minimize:40,logHeight:150},init:function(){this.containerEl=this.getContainerEl(),this.logEl=this.getLogEl(),this.containerEl.appendChild(this.logEl),this.minimizeButton=this.getMinimizeButton(),this.containerEl.appendChild(this.minimizeButton),this.injectEl.appendChild(this.containerEl),this.log(" = Tarnhelm - Mobile Debug Mode = ")},log:function(a){Array.isArray(a)||(a=[a]);var b=this.makeLine(a);this.logEl.appendChild(b),this.logEl.scrollTop=this.logEl.scrollHeight},makeLine:function(a){var b=document.createElement("p");b.style.cssText="margin:0 0 0.25em 0; border-bottom: thin solid rgba(255,255,255,0.25);",b.textContent="";for(var c=0;c<a.length;c++){var d=a[c],e="";d?"string"==typeof d?e=d:"function"==typeof d.toString&&(e=d.toString()):e="undefined",c<a.length-1&&(e+=", "),b.textContent+=e}return b},getContainerEl:function(){return this._makeEl("mobile-log-container",["position: fixed","bottom:0","left:0","display: block","width: 100%","overflow: visible","height: "+this.dimensions.logHeight+"px","z-index: 1986",""].join(";"))},getLogEl:function(){return this._makeEl("mobile-log",["position: absolute","top:0","display: block","width: 100%","height: 150px","z-index: 1986","color: rgb(0, 255, 0)","font-family: courier","background-color: rgba(0,0,0,0.8)","overflow: scroll",""].join(";"))},getMinimizeButton:function(){var a=this.dimensions.minimize+"px",b=this._makeEl("mobile-log-minimize-button",["position:absolute","right: 0","top: -"+a,"display: block","background: rgba(0,0,0,0.8)","color: rgb(0, 255, 0)","width:"+a,"height:"+a,"font-size: 24px","line-height: 20px","cursor:pointer","text-align:center"].join(";"));return b.textContent="_",b.onclick=this.minimizeButtonClick.bind(this),b},_makeEl:function(a,b){var c=document.createElement("div");return c.id=a,c.style.cssText=b,c},minimizeButtonClick:function(){this.isMinimized?this.unminimize():this.minimize()},minimize:function(){this.isMinimized=!0,this.containerEl.style.height=0,this.minimizeButton.textContent="^"},unminimize:function(){this.isMinimized=!1,this.containerEl.style.height=this.dimensions.logHeight+"px",this.minimizeButton.textContent="_"}},b.exports=d},{}],20:[function(a,b,c){var d={sameSign:function(a,b){return a>=0&&b>=0||0>=a&&0>=b},avg:function(a){if(0===a.length)return 0;var b=a.reduce(function(a,b){return a+b});return b/a.length},clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},getEllipseFalloff:function(a,b){var c=this.clamp(a,0,b),d=Math.sqrt(1-Math.pow(c,2)/Math.pow(b,2));return this.clamp(d,0,1)}};b.exports=d},{}],21:[function(a,b,c){b.exports={clone:function(a){return JSON.parse(JSON.stringify(a))},shallowMerge:function(a,b){this._doMerge(a,b,!0)},shallowMergeMany:function(a,b){for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];a[e]||(a[e]={}),this.shallowMerge(a[e],b[e])}},_doMerge:function(a,b,c){if(!this.isObject(a)||!this.isObject(b))return window.Tarnhelm.log("Object merge operation failed, both params must be objects:"),window.Tarnhelm.log(a),void window.Tarnhelm.log(b);for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e],g=c||null==a[f];if(g){var h="object"===b[f]?this.clone(b[f]):b[f];a[f]=h}}},mergeDefaults:function(a,b){var c=this.clone(b);this._doMerge(a,c,!1)},isObject:function(a){return"object"==typeof a&&!Array.isArray(a)&&null!==a},getProperty:function(a,b){if(!a||!b)return void 0;for(var c=b.split("."),d=a,e=0;e<c.length;e++){if("undefined"==typeof d[c[e]])return void 0;d=d[c[e]]}return d}}},{}],22:[function(a,b,c){var d=a("../renderer/stores/retrievers/scale.js"),e={defaults:{position:"absolute",anchorX:"left",offsetX:0,anchorY:"top",offsetY:0,width:"auto",height:"auto"},setElRectStyle:function(a,b){var c=a.style;["top","right","bottom","left"].forEach(function(a){c.removeProperty(a)}),c.position=b.position,c[b.anchorX]=b.offsetX,c[b.anchorY]=b.offsetY,c.height=b.height,c.width=b.width},process:function(a){var b=a||{},c={position:this.determinePositioning(b.position),anchorX:this.determineAnchorX(b.anchorX),offsetX:this.getDimensionWithUnit(b.offsetX,this.defaults.offsetX),anchorY:this.determineAnchorY(b.anchorY),offsetY:this.getDimensionWithUnit(b.offsetY,this.defaults.offsetY),width:this.getDimensionWithUnit(b.width,this.defaults.width),height:this.getDimensionWithUnit(b.height,this.defaults.height)};return c},determinePositioning:function(a){return null!=a&&a.match(/absolute|relative|fixed|static|inherit/)?a:this.defaults.position},determineAnchorX:function(a){switch(a){case"right":return"right";case"left":return"left";default:return null!=a&&window.Tarnhelm.log("Bad anchorX position configured."),this.defaults.anchorX}},determineAnchorY:function(a){switch(a){case"bottom":return"bottom";case"top":return"top";default:return null!=a&&window.Tarnhelm.log("Bad anchorY position configured."),this.defaults.anchorY}},getDimensionWithUnit:function(a,b){return null==a?b:d.getDimensionWithUnit(a)}};b.exports=e},{"../renderer/stores/retrievers/scale.js":75}],23:[function(a,b,c){var d=1,e={canAutoplay:d,hasTouch:d},f=function(a){this.requirementFlags=this.buildFlags(a)};f.prototype={areMet:function(a){var b=a.requirements||{},c=Object.keys(b);if(0===c.length)return!0;var d=this.areValidRequirements(c);return d?this.testRequirements(b):(window.Tarnhelm.log("Invalid requirement(s) found on an item ::",a.requirements," :: Full item :: ",a),!1)},testRequirements:function(a){for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c],e=a[d],f=this.requirementFlags[d];if(f!==e)return!1}return!0},buildFlags:function(a){return{canAutoplay:a.canAutoplay,hasTouch:a.hasTouch}},areValidRequirements:function(a){for(var b=0;b<a.length;b++)if(!this.isValidRequirement(a[b]))return!1;return!0},isValidRequirement:function(a){return!!e[a]}},b.exports=f},{}],24:[function(a,b,c){function d(a){function b(){0===window.scrollY?(window.cancelAnimationFrame(c),c=null):(window.scrollBy(0,d),c=window.requestAnimationFrame(b))}a.on("jump-to-top",function(a){window.scrollY>0&&(window.scroll(0,0),window.Tarnhelm.log("window jump-to-top requested."))});var c,d;a.on("scroll-to-top",function(a){if(window.scrollY>0){window.Tarnhelm.log("window scroll-to-top requested.");var e=a.duration||100;d=-window.scrollY/(e/17),c=window.requestAnimationFrame(b)}})}b.exports=d},{}],25:[function(a,b,c){var d=a("./numberUtils.js"),e=(a("./objectUtils.js"),a("./functionUtils.js")),f=10,g=7.5,h=5,i=50,j=function(a){this.firstPos=this.getPosFromEvent(a),this.handledFirstMove=!1,this.currPos=this.getPosFromEvent(a),this.prevPos=this.getPosFromEvent(a),this.velocity={x:0,y:0},this.totalDistance={x:0,y:0},this.currMoveDistance={x:0,y:0},this.debouncedVelocityDecay=e.debounce(this.velocityDecay.bind(this),i),this.transitionLengthFactor=1,this.touchEnded=!1,this.isTouchTypeDetermined=!1,this.isHorizontalMove=!1,this.isVerticalMove=!1,this.isSwipe=!1};j.prototype={addTouchMoveData:function(a){this.prevPos=this.currPos,this.currPos=this.getPosFromEvent(a),this.currMoveDistance=this.getTouchMoveDifference(this.prevPos,this.currPos),this.totalDistance=this.getNewTotalDistance(this.totalDistance,this.currMoveDistance),this.velocity=this.getNewVelocity(this.velocity,this.currMoveDistance),this.debouncedVelocityDecay(),this.determineTouchType(this.totalDistance,this.velocity)},finalizeTouchDataOnEnd:function(a){this.touchEnded=!0,this.isSwipe=this.touchTestSwipe(this.velocity),this.transitionLengthFactor=this.getTransitionLengthFactor(this.velocity.x)},getPosFromEvent:function(a){return{x:a.touches[0].clientX,y:a.touches[0].clientY}},getTouchMoveDifference:function(a,b){return{x:b.x-a.x,y:b.y-a.y}},getNewTotalDistance:function(a,b){return{x:a.x+b.x,y:a.y+b.y}},getNewVelocity:function(a,b){return{x:this._adjustVelocity(a.x,b.x),y:this._adjustVelocity(a.y,b.y)}},getTransitionLengthFactor:function(a){var b=d.getEllipseFalloff(Math.abs(a),100);return d.clamp(b,.2,1)},velocityDecay:function(){this.touchEnded||(this.velocity.x=0,this.velocity.y=0,this.currMoveDistance.x=0,this.currMoveDistance.y=0,this.isSwipe=!1)},_adjustVelocity:function(a,b){var c;return c=d.sameSign(a,b)?a:0,d.avg([c,b])},determineTouchType:function(a,b){if(this.isSwipe||(this.isSwipe=this.touchTestSwipe(b)),!this.isVerticalMove&&!this.isHorizontalMove){if(this.isVerticalMove=this.touchTestVertical(a),this.isVerticalMove)return void(this.isTouchTypeDetermined=!0);this.isHorizontalMove=this.touchTestHorizontal(a),this.isHorizontalMove&&(this.isTouchTypeDetermined=!0)}},touchTestHorizontal:function(a){return Math.abs(a.x)>=f},touchTestVertical:function(a){return Math.abs(a.y)>=g},touchTestSwipe:function(a){return Math.abs(a.x)>h}},b.exports=j},{"./functionUtils.js":15,"./numberUtils.js":20,"./objectUtils.js":21}],26:[function(a,b,c){var d={opacity:"opacity",translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",blur:"filter",brightness:"filter",contrast:"filter",grayscale:"filter",saturate:"filter"},e={filter:["-webkit-filter","-moz-filter","-o-filter"]};b.exports={isValidTransitionType:function(a){return"string"!=typeof a?!1:!!d[a]},getTransitionSegment:function(a){return this.getTransitionSegmentForProperty(a,d[a.type])},getPrefixedTransitionSegments:function(a){var b=[];b.push(this.getTransitionSegment(a));for(var c=e[d[a.type]],f=0;f<c.length;f++)b.push(this.getTransitionSegmentForProperty(a,c[f]));return b},getTransitionSegmentForProperty:function(a,b){var c=[];return b&&c.push(b),a.duration&&c.push(a.duration),a.easing&&c.push(a.easing),a.delay&&c.push(a.delay),c.join(" ")},getCSSFunctionSegment:function(a,b){return a+"("+b+")"},calculateTransitionStyles:function(a){for(var b={start:{},end:{}},c=[],e=[],f=[],g=[],h=[],i=0;i<a.length;i++){var j=a[i];if(this.isValidTransitionType(j.type)){var k=d[j.type];switch(k){case"transform":e.length||c.push(this.getTransitionSegment(j)),e.push(this.getCSSFunctionSegment(j.type,j.startValue)),f.push(this.getCSSFunctionSegment(j.type,j.endValue));break;case"opacity":b.start[j.type]=j.startValue,b.end[j.type]=j.endValue,c.push(this.getTransitionSegment(j));break;case"filter":if(!g.length){var l=this.getPrefixedTransitionSegments(j);c=c.concat(l)}g.push(this.getCSSFunctionSegment(j.type,j.startValue)),h.push(this.getCSSFunctionSegment(j.type,j.endValue))}}}return c.length&&(b.start.transition=c.join(",")),e.length&&(b.start.transform=e.join(" ")),f.length&&(b.end.transform=f.join(" ")),g.length&&(b.start.filter=g.join(" ")),h.length&&(b.end.filter=h.join(" ")),b},getTransitionTime:function(a){var b=parseFloat(a.duration)||0,c=parseFloat(a.delay)||0,d=Math.floor(1e3*(b+c));return d},getMaxTransitionTime:function(a){for(var b=0,c=0;c<a.length;c++){var d=this.getTransitionTime(a[c]);d>b&&(b=d)}return b}}},{}],27:[function(a,b,c){var d=3e3;b.exports={getQueryParam:function(a,b){var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(b);return d?d[1]:""},preloadUrl:function(a,b){var c=new Image;"function"==typeof b&&(c.onload=b),c.src=a},preloadUrls:function(a){if(a&&a.length)for(var b=0;b<a.length;b++)this.preloadUrl(a[b])},preloadUrlsWithCallback:function(a,b){function c(a){h||(h=!0,b(a))}function e(){g++,g===a.length&&(window.Tarnhelm.log(g+" of "+a.length+" images have preloaded"),window.clearTimeout(f),c(!1))}var f,g=0,h=!1;if(!a||!a.length)return void b(!1);f=window.setTimeout(function(){window.Tarnhelm.log("Only "+g+" of "+a.length+" preloaded before timeout. Preload assets failed to load before the timeout, triggering callback."),c(!0)},d);for(var i=0;i<a.length;i++)this.preloadUrl(a[i],e)}}},{}],28:[function(a,b,c){var d=a("../renderer/stores/retrievers/component.js");b.exports={videoActions:["video:play","video:pause","video:reset","video:mute","video:unmute"],listen:function(a,b){var c=this;a.on(this.videoActions.join(" "),function(b,d){c.triggerVideoAction(a,d.actionName,d.componentName)});var d=b.getComponentLibrary(),e=b.getComponentNamesByCategory("video"),f=this.videoActions.map(function(a){return a+"-all:under-ancestor"});a.on(f.join(" "),function(b,f){var g=b.split(":")[1].split("-")[0],h="video:"+g;c.triggerVideoActionUnderAncestor(a,h,f.ancestorName,d,e)})},triggerVideoAction:function(a,b,c){var d=b+":"+c;a.trigger({actionName:d})},triggerVideoActionUnderAncestor:function(a,b,c,e,f){if(!c)return void window.Tarnhelm.log(b+"-all:under-ancestor actions require ancestorName property.");for(var g=0;g<f.length;g++){var h=f[g];d.hasAncestorOfName(h,c,e)&&this.triggerVideoAction(a,b,h)}}}},{"../renderer/stores/retrievers/component.js":71}],29:[function(a,b,c){var d=function(a,b){function c(a){var b="";return a.source&&(b+="url("+a.source+") ",b+=a.position?a.position+" ":"center top ",b+=a.repeat?a.repeat+" ":"no-repeat ",b+=a.attachment?a.attachment+" ":"scroll "),b+=a.color}function d(){var b=document.getElementById(a);return b||window.Tarnhelm.log("Invalid element id set on wrapSwapper."),b}var e,a=a,f=this;this.setWrap=function(a){e||(e=d());var b=c(a);e.style.background=b},b.on("set-wrap-background",function(a){f.setWrap(a.data)})};b.exports=d},{}],30:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./mixins/action.js"),a("./mixins/action-user.js"),a("./mixins/action-touch.js"),a("./mixins/action-swipe.js"),a("./mixins/action-transitions.js"),a("./mixins/action-cuepoint.js"),a("./mixins/background.js"),a("./mixins/base.js"),a("./mixins/rect.js"),a("./mixins/resize.js"),a("./mixins/rotator.js"),a("./mixins/styles.js"),a("./mixins/teardown.js"),a("./mixins/transitions.js"),a("./mixins/video.js"),a("./mixins/zoolander.js"),a("./components/ad.tag"),b.tag("app",'<ad data="{adData}"></ad>','class="app"',function(a){this._adInstance=this.opts.adInstance,this.adData=this._adInstance.getAdStore().getState();var b=this;this._adInstance.getActionHandler().on("ad-state-updated",function(){b.adData=b._adInstance.getAdStore().getState(),b.update()})})})},{"./components/ad.tag":31,"./mixins/action-cuepoint.js":48,"./mixins/action-swipe.js":49,"./mixins/action-touch.js":50,"./mixins/action-transitions.js":51,"./mixins/action-user.js":52,"./mixins/action.js":53,"./mixins/background.js":54,"./mixins/base.js":55,"./mixins/rect.js":56,"./mixins/resize.js":57,"./mixins/rotator.js":58,"./mixins/styles.js":59,"./mixins/teardown.js":60,"./mixins/transitions.js":61,"./mixins/video.js":62,"./mixins/zoolander.js":63,riot:108}],31:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./child.tag"),b.tag("ad",'<div riot-style="{getTagStyleString()}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>','class="ad"',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("background")})})},{"./child.tag":34,riot:108}],32:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("alphalfa",'<div class="alphalfa" riot-style="{getTagStyleString()}"><video __autoplay="{this.shouldItAutoplay()}" webkit-playsinline playsinline style="display:none;" muted="true"><source riot-src="{this.opts.data.video.url}"></video><canvas class="alphalfa-buffer" style="display:none;" height="{this.opts.data.rect.height * 2}px" width="{this.opts.data.rect.width}px"></canvas><canvas class="alphalfa-output" height="{this.opts.data.rect.height}px" width="{this.opts.data.rect.width}px"></canvas></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var b=this;this.addLoopConfig=function(a){var b=this.opts.data.video,c=b.loop;return c===!0&&(a.loop=c,null!=b.maxLoops&&(a.maxLoops=b.maxLoops)),a},this.addStillFrame=function(a){var b=this.opts.data.video;return null!=b.stillFrameMS?a.stillFrameMS=b.stillFrameMS:b.loop===!0&&0!==b.maxLoops&&window.Tarnhelm.log("Warning: No stillFrameMS set on a non-infinitely looping Alphalfa. It will disappear after its last loop."),a},this.addMaskUrl=function(a){var b=this.opts.data.video;return null!=b.maskUrl&&(a.maskUrl=b.maskUrl),a},this.initAlphalfa=function(){var a=this.getVideoEl();if(a&&"function"==typeof a.play){this.opts.data.isInvisible&&(a.autoplay=""),this.bufferEl=this.root.getElementsByTagName("canvas")[0],this.outputEl=this.root.getElementsByTagName("canvas")[1];var b={video:a,buffer:this.bufferEl,output:this.outputEl,colorCorrect:!!this.opts.data.video.colorCorrect,forceCanvas:!!this.opts.data.video.forceCanvas,horizontalStack:!!this.opts.data.video.horizontalStack};b=this.addLoopConfig(b),b=this.addStillFrame(b),b=this.addMaskUrl(b),this.alphalfaPlayer=new ad_design.AlphalfaPlayer(b),this.alphalfaPlayer.listen(),this.shouldItAutoplay()&&this.doAutoplay(a)}},this.initCuepointEngine=function(){var a=this.getVideoEl();a&&(this.cuepointEngine=new ad_design.CuepointEngine({media:a,cuepoints:this.getCuePoints(),observer:this}))},this.play=function(){var a=b.getVideoEl();a&&"function"==typeof a.play&&a.play()},this.pause=function(){var a=b.getVideoEl();a&&"function"==typeof a.pause&&a.pause()},this.mute=function(){window.Tarnhelm.log("Alphalfa does not support mute and unmute actions.")},this.unmute=this.mute,this.reset=function(){var a=b.getVideoEl();a&&"number"==typeof a.currentTime&&(a.currentTime=0)},this.on("mount",function(){this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.initAlphalfa(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","alphalfa"),this.alphalfaPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:108}],33:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("animaniac",'<div class="animaniac" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"></div>',function(b){var c=a("../../modules/objectUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.initted=!1,this.createAnimation=function(){var a=c.clone(this.opts.data.animaniacOptions);a.injectEl=this.root.getElementsByClassName("animaniac")[0],a.url=this.opts.data.source,a.spriteHeight=this.opts.data.rect.height,a.spriteWidth=this.opts.data.rect.width,a.sheetHeight=this.opts.data.spriteSheetDimensions.height,a.sheetWidth=this.opts.data.spriteSheetDimensions.width,this.animaniac=new ad_design.Animaniac(a),this.initted=!0},this.addActionListeners=function(){var a=this,b=this.getAdInstance().getActionHandler();b.on("animaniac:play",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.play()}),b.on("animaniac:pause",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.pause()}),b.on("animaniac:play-animation",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.playAnimation(b.data.animationName)})},this.destroyAnimation=function(){this.animaniac.pause(),this.initted=!1,this.animaniac=null},this.canTriggerAction=function(a){return this.initted&&a===this.opts.data.name},this.on("mount",function(){this.createAnimation(),this.addActionListeners()}),this.on("unmount",function(){this.destroyAnimation()})})})},{"../../modules/objectUtils.js":21,riot:108}],34:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./alphalfa.tag"),a("./animaniac.tag"),a("./countdown.tag"),a("./countdown-number-text.tag"),a("./countdown-number-custom.tag"),a("./countdowner.tag"),a("./gallery.tag"),a("./graphic.tag"),a("./panel.tag"),a("./minimal-video.tag"),a("./reely.tag"),a("./rotator.tag"),a("./rotatorbutton.tag"),a("./slider-rotator.tag"),a("./youtube.tag"),b.tag("child",'<alphalfa each="{this.getType(\'alphalfa\')}" data="{data}"></alphalfa><animaniac each="{this.getType(\'animaniac\')}" data="{data}"></animaniac><countdown each="{this.getType(\'countdown\')}" data="{data}"></countdown><countdown-number-text each="{this.getType(\'countdown-number-text\')}" data="{data}"></countdown-number-text><countdown-number-custom each="{this.getType(\'countdown-number-custom\')}" data="{data}"></countdown-number-custom><countdowner each="{this.getType(\'countdowner\')}" data="{data}"></countdowner><gallery each="{this.getType(\'gallery\')}" data="{data}"></gallery><graphic each="{this.getType(\'graphic\')}" data="{data}"></graphic><panel each="{this.getType(\'panel\')}" data="{data}"></panel><reely each="{this.getType(\'reely\')}" data="{data}"></reely><minimal-video each="{this.getType(\'minimal-video\')}" data="{data}"></minimal-video><rotator each="{this.getType(\'rotator\')}" data="{data}"></rotator><rotatorbutton each="{this.getType(\'rotatorbutton\')}" data="{data}"></rotatorbutton><slider-rotator each="{this.getType(\'slider-rotator\')}" data="{data}"></slider-rotator><youtube each="{this.getType(\'youtube\')}" data="{data}"></youtube>','data-comp-name="{ this.opts.name }"',function(a){this.mixin("base");var b=this;if(this.opts.name){var c=this.getAdInstance(),d=c.getAdStore();this.componentData=d.getComponentState(this.opts.name),this.on("update",function(){this.componentData=d.getComponentState(b.opts.name)})}this.getType=function(a){var b=[];return this.componentData&&this.componentData.type===a&&!this.componentData.isHidden&&b.push({data:this.componentData}),b};var e=["mount","unmount","premount","update","updated","init"];this.on("all",function(a){if(a&&-1===e.indexOf(a))for(var b in this.tags)for(var c=0,d=this.tags[b].length;d>c;c++)this.tags[b][c].trigger.apply(this.tags[b][c],arguments)})})})},{"./alphalfa.tag":32,"./animaniac.tag":33,"./countdown-number-custom.tag":35,"./countdown-number-text.tag":36,"./countdown.tag":37,"./countdowner.tag":38,"./gallery.tag":39,"./graphic.tag":40,"./minimal-video.tag":41,"./panel.tag":42,"./reely.tag":43,"./rotator.tag":44,"./rotatorbutton.tag":45,"./slider-rotator.tag":46,
"./youtube.tag":47,riot:108}],35:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown-number-custom",'<div class="countdown-number-custom countdown-number-custom-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.frames=[],this.options={},this.createFrames=function(){for(var a=0;a<this.options.sheetHeight;a+=this.options.frameHeight)for(var b=0;b<this.options.sheetWidth;b+=this.options.frameWidth)this.frames.push(-b+"px "+-a+"px ")},this.createOptions=function(){this.options.frameHeight=this.opts.data.rect.height,this.options.frameWidth=this.opts.data.rect.width,this.options.sheetHeight=11*this.options.frameHeight,this.options.sheetWidth=10*this.options.frameWidth,this.options.source=this.opts.data.spritesheet.url||"https://m.media-amazon.com/images/G/01/IMDb/design/tarnhelm/countdown-number-custom/countdown.png",this.options.date=this.opts.data.targetDate||"Thu, 01 Jan 1970 00:00:00 +0000"},this.getDisplayIndex=function(){var a=this.opts.data.remaining[this.opts.data.timeUnit]+10;return!this.opts.data.padZeros&&this.opts.data.remaining[this.opts.data.timeUnit]<=9&&(a=this.opts.data.remaining[this.opts.data.timeUnit]),a},this.setFrame=function(a,b){var c=a||0,d=b||0,e=a||b?"-"+c+"px -"+d+"px":this.frames[this.getDisplayIndex()];this.addStyleRule("background","url("+this.options.source+") "+e+" / 1000% 1100% no-repeat")},this.on("mount",function(){this.createOptions(),this.setFrame(0,this.options.frameHeight),this.createFrames()}),this.on("update",function(){this.setFrame()})})})},{riot:108}],36:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown-number-text",'<div class="countdown-number-text countdown-number-text-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"> {getDisplayValue()} </div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.updateTextStyle=function(){this.addStyleRule("font-size",this.determinedRect.height)},this.pad=function(a){return a>9?a:"0"+a},this.getDisplayValue=function(){var a=this.opts.data.remaining[this.opts.data.timeUnit];return this.opts.data.padZeros&&(a=this.pad(a)),a},this.on("update",this.updateTextStyle)})})},{riot:108}],37:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown",'<div class="countdown" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div if="{this.opts.data.remaining.totalMs || this.opts.data.showAfterEnd}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.triggerBackgroundState=function(){this.opts.data.remaining.totalMs||this.opts.data.useAlternateBackground||!this.opts.data.alternateBackground||this.getAdInstance().getActionHandler().trigger({actionName:"set-alternate-background",componentName:this.opts.data.name})},this.on("update",function(){this.triggerBackgroundState(),this.setBackground()})})})},{riot:108}],38:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdowner",'<div id="{this.opts.data.name}" class="countdowner th-countdown" riot-style="{getTagStyleString()}"><div class="th-countdown-inject" id="{\'th-countdown-\' + this.opts.data.name}"></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("zoolander"),this.initCountdowner=function(){for(var a=this.root.getElementsByClassName("th-countdown-inject")[0],b=this.getAdIframeZoolander(),c={el:a,targetDate:new Date(this.opts.data.targetDate),zoolander:b},d=["splitChar","hideAfterRelease","periodContainerCss","periodCountCss","doPad","printLabels","labelsBelow","labels","labelsCss"],e=0;e<d.length;e++)null!=this.opts.data[d[e]]&&(c[d[e]]=this.opts.data[d[e]]);new window.ad_design.Countdowner(c)},this.on("mount",function(){this.initCountdowner(),window.Tarnhelm.log('Warning: The "countdowner" component is deprecated and does not support scaling for MobilePTP, please migrate to the "countdown" component.')})})})},{riot:108}],39:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./graphic.tag"),b.tag("gallery",'<div class="gallery th-gallery-parent" riot-style="{getTagStyleString()}"><graphic each="{name, i in this.opts.data.imageUrls}" data="{parent.getPhotoData(i)}" class="th-gallery-image {currentIndex === i ? \'active\' : \'\'}"></graphic><graphic class="th-gallery-arrow prev" data="{this.opts.data.arrowGraphics.previous}"></graphic><graphic class="th-gallery-arrow next" data="{this.opts.data.arrowGraphics.next}"></graphic></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("background"),this.mixin("rect"),this.mixin("action"),this.mixin("action-swipe"),this.mixin("action-transitions");var b=this;this.currentIndex=0,this.maxIndex=this.opts.data.imageUrls.length-1,this.prevButton=null,this.nextButton=null,this.getPhotoData=function(a){var b={name:this.opts.data.name+a,source:this.opts.data.imageUrls[a],rect:{anchorX:"right",anchorY:"top",offsetX:0,offsetY:0,height:this.opts.data.rect.height,width:this.opts.data.rect.width}};return b},this.on("swipeleft",function(){this.incrementIndex(),this.emitTrackingObject("intent","swipeLeft")}),this.on("swiperight",function(){this.decrementIndex(),this.emitTrackingObject("intent","swipeRight")}),this.incrementIndex=function(){b.currentIndex++,b.currentIndex>b.maxIndex&&(b.currentIndex=0),b.update()},this.decrementIndex=function(){b.currentIndex--,b.currentIndex<0&&(b.currentIndex=b.maxIndex),b.update()},this.onPrevClick=function(){this.emitTrackingObject("click","clickPrev"),this.decrementIndex()},this.onNextClick=function(){this.emitTrackingObject("click","clickNext"),this.incrementIndex()},this.on("mount",function(){this.attachTouchActions(),this.prevButton=b.root.getElementsByClassName("prev")[0],this.nextButton=b.root.getElementsByClassName("next")[0],this.prevButton.addEventListener("click",b.onPrevClick),this.nextButton.addEventListener("click",b.onNextClick)}),this.on("unmount",function(){this.detachTouchActions(),this.prevButton.removeEventListener("click",b.onPrevClick),this.nextButton.removeEventListener("click",b.onNextClick)})})})},{"./graphic.tag":40,riot:108}],40:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("graphic",'<div if="{!this.isDisabledNavigationComponent()}" class="graphic" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><img if="{this.opts.data.source}" riot-src="{this.opts.data.source}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"><img if="{this.opts.data.fullAdHoverSource}" riot-src="{this.opts.data.fullAdHoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="ad-hover"><img if="{this.opts.data.hoverSource}" riot-src="{this.opts.data.hoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="hover"></div><div if="{this.isDisabledNavigationComponent()}" class="graphic disabled" riot-style="{getTagStyleString()}"><img if="{this.opts.data.disabledSource}" riot-src="{this.opts.data.disabledSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:108}],41:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("minimal-video",'<div riot-style="{getTagStyleString()}" class="minimal-video"><video webkit-playsinline playsinline muted="true" __autoplay="{this.shouldItAutoplay()}"><source riot-src="{this.opts.data.video.url}"></video></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var b=this;this.setupVideoAttributes=function(){var a=this.opts.data.video,b=this.getVideoEl();b&&"function"==typeof b.play&&(a.autoplay===!1||a.canplaythroughRequired||(b.autoplay=!0,this.doAutoplay(b)),a.canplaythroughRequired&&b.addEventListener("canplaythrough",function(){b.play()}),a.loop&&(b.loop=!0))},this.play=function(){var a=b.getVideoEl();a&&"function"==typeof a.play&&a.play()},this.pause=function(){var a=b.getVideoEl();a&&"function"==typeof a.pause&&a.pause()},this.mute=function(){var a=b.getVideoEl();a&&"boolean"==typeof a.muted&&(a.muted=!0)},this.unmute=function(){var a=b.getVideoEl();a&&"boolean"==typeof a.muted&&(a.muted=!1)},this.reset=function(){var a=b.getVideoEl();a&&"number"==typeof a.currentTime&&(a.currentTime=0)},this.minimalVideoListen=function(){var a=this.getVideoEl();a&&"function"==typeof a.addEventListener&&a.addEventListener("play",this.makeVisible)},this.minimalVideoTeardown=function(){var a=this.getVideoEl();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("play",this.makeVisible)},this.initCuepointEngine=function(){var a=b.getVideoEl();a&&(this.cuepointEngine=new ad_design.CuepointEngine({media:a,cuepoints:this.getCuePoints(),observer:this}))},this.on("mount",function(){this.makeInvisible(),this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.setupVideoAttributes(),this.minimalVideoListen(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","minimal-video"),this.minimalVideoTeardown(),this.cuepointEngine.destroy()})})})},{riot:108}],42:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("panel",'<div class="panel" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:108}],43:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("reely",'<div id="{this.opts.data.name}" riot-style="{getTagStyleString()}" class="reely-inject-el"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("zoolander"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var b=this,c=20,d=40,e=window.Tarnhelm.getDeviceInfo().isMobileDevice?d:c;this.determineControlBarConfig=function(a){if(!a)return{};for(var b=Object.keys(a),c={},d=0;d<b.length;d++){var e=b[d];c[e]=a[e]}return c},this.getButtonSize=function(a){return a&&a.buttonSize?a.buttonSize:e},this.determineSpritesheetsConfig=function(a){var b={buttonSize:this.getButtonSize(a)};return a&&a.png&&(b.png=a.png),b},this.initReely=function(){var a=this.opts.data,b=this.root.getElementsByClassName("reely-inject-el")[0],c=this.getAdIframeZoolander(),d=this.determineControlBarConfig(a.controls),e=this.determineSpritesheetsConfig(a.spritesheets),f=this.determineSpritesheetsConfig(a.overlaySpritesheets);this.reelyPlayer=new ad_design.Reely({injectEl:b,src:this.opts.data.video.url,zoolander:c,slate:this.opts.data.video.slate||"",autoplay:this.opts.data.video.autoplay||!1,autosound:this.opts.data.video.autosound||!1,controlBar:d,spritesheets:e,overlaySpritesheets:f})},this.initCuepointEngine=function(){this.cuepointEngine=new ad_design.CuepointEngine({media:this.reelyPlayer.videoEl,cuepoints:this.getCuePoints(),observer:this})},this.play=function(){b.reelyPlayer.play()},this.pause=function(){b.reelyPlayer.pause()},this.mute=function(){b.reelyPlayer.mute()},this.unmute=function(){b.reelyPlayer.unmute()},this.reset=function(){b.reelyPlayer.reset()},this.on("mount",function(){this.initReely(),this.setVideoEl(this.reelyPlayer.videoEl),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","reely"),this.reelyPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:108}],44:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("rotator",'<div class="rotator" riot-style="{getTagStyleString()}"><child name="{activeChildName}"></child></div>',function(b){var c=a("../stores/delegators/wrap.js"),d=a("../stores/retrievers/rotator.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("rotator"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-transitions");var e=this.getAdInstance().getAdStore();this.activeChildName=this.opts.data.childNames[this.opts.data.activeIndex],this.setActiveChildName=function(){var a=this.opts.data.childNames[this.opts.data.activeIndex];if(a!==this.activeChildName){var b=this;this.activeChildName=void 0,window.setTimeout(function(){b.activeChildName=a,b.update()},1)}},this.on("update",this.setActiveChildName),this.hasWrapConfig=function(){return!(!this.opts.data.wrapConfig||!this.opts.data.wrapConfig.enabled)},this.updateWrap=function(){this.hasWrapConfig()&&c.triggerRotatorWrapSwap(this.opts.data,e.getState())},this.resizeAdContainer=function(){if("expander"===this.opts.data.name){var a=window.Tarnhelm.getAd(e.getAdId()),b=d.getActiveChildComponent(this.opts.data,e.getComponentLibrary());a.resizeAdContainer(b.rect)}},this.on("update",this.updateWrap),this.on("update",this.resizeAdContainer)})})},{"../stores/delegators/wrap.js":68,"../stores/retrievers/rotator.js":74,riot:108}],45:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./graphic.tag"),b.tag("rotatorbutton",'<div class="rotatorbutton" riot-style="{getTagStyleString()}" onclick="{handleClickAndRotatorbuttonClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><graphic data="{graphicData}"></graphic></div>',function(a){var b=this;this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.handleRotatorbuttonClick=function(a){if(!this.isActive()){var c=b.opts.data;if(c.rotatorName){var d={actionName:"route",data:{rotatorConfigs:[{name:c.rotatorName,index:c.rotatorIndex}]}};c.rotatorConfigs&&c.rotatorConfigs.length&&(d.data.rotatorConfigs=d.data.rotatorConfigs.concat(c.rotatorConfigs)),d.data.showComponents=c.showComponents,d.data.hideComponents=c.hideComponents,this.getAdInstance().getActionHandler().trigger(d)}}},this.handleClickAndRotatorbuttonClick=function(a){this.handleClick(a),this.handleRotatorbuttonClick(a),this.hasAction("click")||this.emitTrackingObject("click","click")},this.getGraphicData=function(){var a=this.opts.data,b={description:a.description,source:a.source,hoverSource:a.hoverSource,fullAdHoverSource:a.fullAdHoverSource,disabledSource:a.disabledSource,rect:{anchorX:"left",anchorY:"top",offsetX:0,offsetY:0,height:a.rect.height,width:a.rect.width}};return this.isActive()&&(b.source=a.activeSource),b},this.isActive=function(){var a=this.getAdInstance().getAdStore(),b=a.getComponentState(this.opts.data.rotatorName);return b&&this.opts.data.rotatorIndex===b.activeIndex},this.setCursor=function(){this.isActive()?this.removeStyleRule("cursor"):this.addStyleRule("cursor","pointer")},this.setState=function(){this.graphicData=this.getGraphicData(),this.setCursor()},this.setState(),this.on("update",function(){this.setState()})})})},{"./graphic.tag":40,riot:108}],46:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("slider-rotator",'<div class="slider-rotator" riot-style="{getTagStyleString()}"><div class="slide-offset js-offset" riot-style="{getSlideOffsetInitialStyle()}"><div each="{name, i in opts.data.childNames}" class="slide"><child name="{name}"></child></div></div><graphic class="th-slider-arrow prev" if="{this.shouldShowArrowPrev()}" data="{this.opts.data.arrowGraphics.previous}" onclick="{this.onPrevClick}"></graphic><graphic class="th-slider-arrow next" if="{this.shouldShowArrowNext()}" data="{this.opts.data.arrowGraphics.next}" onclick="{this.onNextClick}"></graphic></div>',function(b){var c=a("../../modules/numberUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("rotator"),this.mixin("action"),this.mixin("action-transitions"),this.mixin("action-touch"),this.resting=!0,this.on("indexChanged",function(){this.startVisibleLoop(),this.handleIndexChanged()}),this.handleIndexChanged=function(){var a={actionName:"video:pause-all:under-ancestor",ancestorName:this.opts.data.name};this.triggerActions([a])};var d=window.Tarnhelm.getDeviceInfo().canTransitionTransforms;d||window.Tarnhelm.log("Slider NOT supporting touch actions; We've determined that we cannot transition transforms."),this.addStyleRule("overflow","hidden"),this.addStyleRule("white-space","nowrap");var e=.85,f=.4,g=15,h=.35;this.getRestingStateOffset=function(){return-1*this.opts.data.activeIndex*this.opts.data.rect.width},this.getSliderStateData=function(){return{activeIndex:this.opts.data.activeIndex,slideWidth:this.opts.data.rect.width,restingOffset:this.getRestingStateOffset()}},this.getTransitionString=function(a){return"transform "+a+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"},this.getOffsetString=function(a){var b=a+"px";return"translate3d("+b+",0,0)"},this.getMaxOffset=function(a,b){return this.isAtBeginning()?a+b*h:a+b},this.getMinOffset=function(a,b){return this.isAtEnd()?a-b*h:a-b},this.isAtBeginning=function(){return 0===this.opts.data.activeIndex},this.isAtEnd=function(){var a=this.opts.data.childNames.length-1;return this.opts.data.activeIndex===a},this.setOffsetDivStyle=function(a,b){var c=this.root.getElementsByClassName("js-offset")[0];this.setOffsetDivTransition(b,c),c.style.transform=this.getOffsetString(a)},this.setOffsetDivTransition=function(a,b){var c=b||this.root.getElementsByClassName("js-offset")[0];null==a?c.style.transition="none":c.style.transition=this.getTransitionString(a)},this.currAnimProps=null,this.sliderHandleTouchStart=function(a){clearTimeout(this.slideCompleteTimeout),this.setOffsetDivTransition(null);var b=this.getSliderStateData();this.currAnimProps={hasMovedOffset:!1,currTouchStartOffset:this.parseCurrentOffset(),maxPan:this.getMaxOffset(b.restingOffset,b.slideWidth),minPan:this.getMinOffset(b.restingOffset,b.slideWidth)},this.startVisibleLoop(),this.emitTrackingObject("intent","touchStart")},this.sliderHandleTouchMove=function(a){var b=this.currAnimProps;if(!a||a.isVerticalMove)return void(b&&b.hasMovedOffset&&(this.returnToResting(),this.currAnimProps=null));b.hasMovedOffset=!0;var d=(this.getSliderStateData(),a.totalDistance.x),e=b.currTouchStartOffset+d;e=c.clamp(e,b.minPan,b.maxPan);var f=null;this.setOffsetDivStyle(e,f)},this.sliderHandleTouchEnd=function(a){if(this.currAnimProps=null,a&&!a.isVerticalMove){this.emitTrackingObject("intent","touchEnd");var b=this.getSliderStateData(),c=this.parseCurrentOffset(),d=this.getOffsetFromResting(b,c),e=0!==a.velocity.x,f=0>d,g=a.velocity.x<0,h=e&&f!==g;if(h)return void this.returnToResting();var i=f,j=this.testNeedsIndexChange(b,a),k=i&&this.isAtEnd()||!i&&this.isAtBeginning();return j&&!k?(this.doSlideChange(a,b,i),void this.emitTrackingObject("intent","swipe"+(i?"Left":"Right"))):void this.returnToResting()}},this.doSlideChange=function(a,b,c){var d=c?-1*b.slideWidth:b.slideWidth,f=b.restingOffset+d,g=e*a.transitionLengthFactor,h=this.determineTransitionLength(f,g);this.setOffsetDivStyle(f,h);var i=c?this.incrementIndex:this.decrementIndex;this.callIndexChangeAfterTransition(i.bind(this),h)},this.callIndexChangeAfterTransition=function(a,b){clearTimeout(this.slideCompleteTimeout),b?this.slideCompleteTimeout=setTimeout(a,1e3*b):(a(),this.stopVisibleLoop()),a=null},this.testNeedsIndexChange=function(a,b){var c=!1;if(c=Math.abs(b.velocity.x)>g)return c;var d=this.parseCurrentOffset(),e=f*a.slideWidth,h=Math.abs(this.getOffsetFromResting(a,d)),c=h>e;return c},this.getOffsetFromResting=function(a,b){return b-a.restingOffset},this.returnToResting=function(){var a=this.getRestingStateOffset(),b=this.determineTransitionLength(a,1.5);this.setOffsetDivStyle(a,b),this.startVisibleLoop()},this.parseCurrentOffset=function(){var a=this.root.getElementsByClassName("js-offset")[0];if(!a||!a.style||!a.style.transform)return this.getRestingStateOffset();var b=0,c=a.style.transform,d=c.split("translate3d(")[1].split(",")[0];return b=parseInt(d,10)},this.determineTransitionLength=function(a,b){var c=this.getSliderStateData(),d=this.parseCurrentOffset(),f=b||e,g=Math.abs(d-a)/c.slideWidth;return 1>g&&(f*=g),f},this.getSlideOffsetInitialStyle=function(){var a=this.getSliderStateData(),b=a.restingOffset,c=this.determineTransitionLength(b),f={height:this.opts.data.rect.height+"px"};d?(f.transition=this.getTransitionString(c),f.transform=this.getOffsetString(b)):(f.transition=this.getNonTranslateTransitionString(e),f.left=this.getNonTranslateOffsetString(b));var g=this.cssStringFromCSSObject(f);return g},d&&(this.addTouchStartHandler(this.sliderHandleTouchStart),this.addTouchMoveHandler(this.sliderHandleTouchMove),this.addTouchEndHandler(this.sliderHandleTouchEnd)),this.shouldShowArrowPrev=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.previous&&!this.isAtBeginning()},this.shouldShowArrowNext=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.next&&!this.isAtEnd()},this.manualUpdateNonTranslateOffsetDiv=function(a,b){b.style.left=this.getNonTranslateOffsetString(a)},this.getNonTranslateTransitionString=function(a){return"left "+a+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"},this.getNonTranslateOffsetString=function(a){return a+"px"},this.on("update",function(){if(!d){var a=this.root.getElementsByClassName("js-offset")[0];if(!a)return;this.manualUpdateNonTranslateOffsetDiv(this.getRestingStateOffset(),a)}}),this.onPrevClick=function(){this.decrementIndex(),this.emitTrackingObject("click","clickPrev")},this.onNextClick=function(){this.incrementIndex(),this.emitTrackingObject("click","clickNext")};var i,j,k,l,m,n;this.on("mount",function(){var a=this.root.getElementsByClassName("js-offset")[0];a.addEventListener("transitionend",function(a){this.stopVisibleLoop()}.bind(this)),i=this.opts.data.activeIndex,j=[i],k=this.root.getElementsByClassName("slide"),l=this.root.children[0],this.tags.child&&this.tags.child[i]?(this.tags.child[i].trigger("slideMoveIn"),this.tags.child[i].trigger("slideActivated")):this.tags.child&&this.tags.child.trigger("slideActivated")}),this.on("unmount",function(){this.stopVisibleLoop()}),this.determineVisibleSlides=function(){var a,b=[],c=l.getBoundingClientRect(),d=k.length;for(a=0;d>a;a++){var e=k[a].getBoundingClientRect();if(e.left<c.right&&e.right>c.left)b.push(a);else if(e.left>c.right)break}return b},this.startVisibleLoop=function(){this.resting&&(this.resting=!1,n())},this.stopVisibleLoop=function(){this.resting||(this.resting=!0,m())},m=function(){isNaN(i)||i===this.opts.data.activeIndex||(this.tags.child[i].trigger("slideDeactivated"),this.tags.child[this.opts.data.activeIndex].trigger("slideActivated"),i=this.opts.data.activeIndex)}.bind(this),n=function(){var a,b=this.determineVisibleSlides(),c=Math.min(b[0],j[0]),d=Math.max(b[b.length-1],j[j.length-1]);for(a=c;d>=a;a++)-1===b.indexOf(a)&&-1!==j.indexOf(a)?this.tags.child[a].trigger("slideMoveOut"):-1!==b.indexOf(a)&&-1===j.indexOf(a)&&this.tags.child[a].trigger("slideMoveIn");j=b,this.resting||requestAnimationFrame(n)}.bind(this)})})},{"../../modules/numberUtils.js":20,riot:108}],47:[function(a,b,c){!function(c,d){if("function"==typeof define&&define.amd)define(["riot"],function(a){d(a)});else if("undefined"!=typeof b&&"undefined"!=typeof b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("youtube",'<div class="youtube" riot-style="{getTagStyleString()}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div class="youtube_injection"></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("video"),this.mixin("resize"),this.firstStart=!0,this.actionHandler=this.getAdInstance().getActionHandler();var b=this;this.loadYoutubeAPI=function(){window.onYouTubeIframeAPIReady=function(){var a={actionName:"api-ready:youtube"};window.Tarnhelm.triggerGlobalAction(a)};var a="tarnhelm_yt_script",b="https://www.youtube.com/iframe_api",c=document.getElementById(a);if(!c){c=document.createElement("script"),c.id=a,c.src=b;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}},this.getAutoplayValue=function(){return b.opts.data.video.autoplay?1:0},this.initYoutubePlayer=function(){b.player=new YT.Player(b.root.firstChild.firstChild,{height:b.opts.data.rect.height,width:b.opts.data.rect.width,videoId:b.opts.data.video.id,playerVars:{autohide:1,autoplay:b.getAutoplayValue(),rel:0,showinfo:0,wmode:"transparent"},events:{onStateChange:function(a){a.data===YT.PlayerState.PLAYING&&b.firstStart&&(b.firstStart=!1,b.handleEvent(a,"videoStart")),a.data===YT.PlayerState.ENDED&&b.handleEvent(a,"videoComplete")}}})},this.play=function(){b.player.playVideo()},this.pause=function(){b.player.pauseVideo()},this.mute=function(){b.player.mute()},this.unmute=function(){b.player.unMute()},this.reset=function(){b.player.stopVideo()},this.on("mount",function(){this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers),window.YT?this.initYoutubePlayer():(this.actionHandler.one("api-ready:youtube",this.initYoutubePlayer),"function"!=typeof window.onYouTubeIframeAPIReady&&this.loadYoutubeAPI())}),this.on("unmount",function(){b.player.destroy()}),this.on("resize",function(){b.player.getIframe().style.width=b.determinedRect.width,b.player.getIframe().style.height=b.determinedRect.height})})})},{riot:108}],48:[function(a,b,c){var d=a("riot"),e={start:"10ms",firstQuartile:"25%",midpoint:"50%",thirdQuartile:"75%",complete:"90%"},f={init:function(){if(this.cuePoints=[],this.hasCuePointActions()){var a,b=this.getCuePointActions(),c=b.length,d=0;this.opts.data.video.viconst;for(d;c>d;d++)a={time:b[d].timeString,data:b[d]},this.cuePoints.push(a)}this.addCuePointTracking()},onCuepoint:function(a){this.triggerActions(a.data.actions)},getCuePoints:function(){return this.cuePoints},getCuePointActions:function(){var a=this.opts.data.actions||{};return a&&a.cuePoints?a.cuePoints:[]},hasCuePointActions:function(){return this.getCuePointActions().length>0},getCuePointAt:function(a){for(var b=0,c=this.cuePoints.length;c>b;b++)if(this.cuePoints[b].time===a)return this.cuePoints[b];return null},addCuePointTracking:function(){if(!(this.opts&&this.opts.data&&this.opts.data.name))return void console.log("this.opts.data.name is undefined",this);var a,b;for(a in e)b=this.getCuePointAt(e[a]),b||(b={time:e[a],data:{actions:[]}},this.cuePoints.push(b)),b.data.actions=b.data.actions.concat([{actionName:"track:"+this.opts.data.name,eventType:"media",eventSubType:a}])}};d.mixin("action-cuepoint",f)},{riot:108}],49:[function(a,b,c){var d=a("riot"),e={init:function(){this.attachTouchActions||this.mixin("action-touch"),this.hasTouch&&this.addTouchEndHandler(this.handleSwipeEnd)},handleSwipeEnd:function(a){if(!a.isMoveY&&a.isSwipe){var b=a.totalDistance.x,c=0>b;c?this.handleSwipeActions("swipeleft"):this.handleSwipeActions("swiperight")}},handleSwipeActions:function(a){this.trigger("swipe"),this.trigger(a),this.hasAction("swipe")&&this.triggerActions(this.opts.data.actions.swipe),this.hasAction(a)&&this.triggerActions(this.opts.data.actions[a])}};d.mixin("action-swipe",e)},{riot:108}],50:[function(a,b,c){var d=a("riot"),e=(a("../../modules/functionUtils.js"),a("../../modules/touchData.js")),f=null,g={init:function(){this.touchStartHandlers=[],this.touchMoveHandlers=[],this.touchEndHandlers=[],this.touchMoveRAF=null,this.hasTouch=window.Tarnhelm.getDeviceInfo().hasTouch,this.hasTouch&&(this.registerTeardownFunction||this.mixin("teardown"),this.registerTeardownFunction(this.detachTouchActions),this.resetTouchData(),this.on("mount",function(){this.attachTouchActions()}),window.Tarnhelm.getIsDebug()&&null!=this.setupTouchDebugVisual&&this.setupTouchDebugVisual())},setupTouchDebugVisual:f,attachTouchActions:function(){this.boundTouchMoveAnimationFrame=this.handleTouchMoveAnimationFrame.bind(this),this.root.addEventListener("touchstart",this.handleTouchStart),this.root.addEventListener("touchmove",this.handleTouchMove),this.root.addEventListener("touchend",this.handleTouchEnd)},detachTouchActions:function(){this.root.removeEventListener("touchstart",this.handleTouchStart),this.root.removeEventListener("touchmove",this.handleTouchMove),this.root.removeEventListener("touchend",this.handleTouchEnd),this.boundTouchMoveAnimationFrame=null,this.throttledHandleTouchMove=null},resetTouchData:function(){this.touchData=null,this.isTouched=!1},stopEvent:function(a){var b=!!this.touchData,c=b?!!this.touchData.isTouchTypeDetermined:!1,d=b?!!this.touchData.isVerticalMove:!1;b&&c&&!d&&a&&(a.stopPropagation(),a.preventDefault())},addTouchStartHandler:function(a,b){this._addTouchEventHandler(this.touchStartHandlers,a,b)},addTouchEndHandler:function(a,b){this._addTouchEventHandler(this.touchEndHandlers,a,b)},addTouchMoveHandler:function(a,b){this._addTouchEventHandler(this.touchMoveHandlers,a,b)},_addTouchEventHandler:function(a,b,c){var d=c||this;a.push({callback:b,thisArg:d})},handleTouchStart:function(a){this.isTouched=!0,this.touchData=new e(a),this.callHandlers(this.touchStartHandlers,this.touchData,a),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame)},handleTouchMove:function(a){
this.stopEvent(a),this.touchData&&this.touchData.addTouchMoveData(a)},handleTouchMoveAnimationFrame:function(){this.touchData&&(this.callHandlers(this.touchMoveHandlers,this.touchData),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame))},handleTouchEnd:function(a){window.cancelAnimationFrame(this.touchMoveRAF),this.touchData&&(this.touchData.finalizeTouchDataOnEnd(a),this.callHandlers(this.touchEndHandlers,this.touchData)),this.resetTouchData()},callHandlers:function(a,b,c){if(a.length){var d=[b,c];if(a.length)for(var e=0;e<a.length;e++)this.callHandler(a[e],d)}},callHandler:function(a,b){a.callback.apply(a.thisArg,b)}};d.mixin("action-touch",g)},{"../../modules/functionUtils.js":15,"../../modules/touchData.js":25,riot:108}],51:[function(a,b,c){var d=a("riot"),e={init:function(){var a=this,b=this.getAdInstance().getActionHandler();this.hasAction("transitionsOutStart")&&b.on("transition-component-out:"+a.opts.data.name,function(){b.triggerMany(a.opts.data.actions.transitionsOutStart)}),this.hasAction("transitionsOutComplete")&&b.on("transition-component-out:"+a.opts.data.name+":complete",function(){b.triggerMany(a.opts.data.actions.transitionsOutComplete)})}};d.mixin("action-transitions",e)},{riot:108}],52:[function(a,b,c){var d=a("riot"),e={init:function(){this.hasAction("click")&&this.addStyleRule("cursor","pointer")},handleClick:function(a){this.handleEvent(a,"click")},handleHoverIn:function(a){this.handleEvent(a,"hoverIn")},handleHoverOut:function(a){this.handleEvent(a,"hoverOut")}};d.mixin("action-user",e)},{riot:108}],53:[function(a,b,c){var d=a("riot"),e=["update","updated"],f={init:function(){if(this.hasAction("init")){var a=this.opts.data.actions.init;this.triggerActions(a)}this.on("all",function(a){if(a&&this.hasAction(a)&&-1===e.indexOf(a)){var b=this.opts.data.actions[a];this.triggerActions(b)}})},handleEvent:function(a,b){if(a.preventUpdate=!0,!this.hasAction(b))return!0;var c=this.opts.data.actions[b];return this.triggerActions(c),"click"===b?this.emitTrackingObject(b,b):/^video/i.test(b)?this.emitTrackingObject("video",b):this.emitTrackingObject("intent",b),!0},triggerActions:function(a){if(this.isDisabledNavigationComponent())return void window.Tarnhelm.log('Suppressing actions for navigation component "'+this.opts.data.name+'", navigation is currently disabled.');var b=this.getAdInstance().getActionHandler();b.triggerMany(a)},hasAction:function(a){return this.opts.data.actions&&this.opts.data.actions[a]&&this.opts.data.actions[a].length}};d.mixin("action",f)},{riot:108}],54:[function(a,b,c){var d=a("riot"),e=["background-attachment","background-image","background-position","background-repeat","background-size"],f={init:function(){this.setBackground(),this.on("update",this.setBackground)},setBackground:function(){var a,b=this.opts.data||{};a=b.useAlternateBackground?b.alternateBackground||{}:b.background||{},a.color?this.addStyleRule("background-color",a.color):this.removeStyleRule("background-color"),a.source?(this.addStyleRule("background-image","url("+a.source+")"),a.attachment?this.addStyleRule("background-attachment",a.attachment):this.removeStyleRule("background-attachment"),a.position?this.addStyleRule("background-position",a.position):this.removeStyleRule("background-position"),a.repeat?this.addStyleRule("background-repeat",a.repeat):this.addStyleRule("background-repeat","no-repeat"),a.size?this.addStyleRule("background-size",a.size):this.addStyleRule("background-size",this.getBackgroundSize())):this.removeStyleRules(e)},getBackgroundSize:function(){return this.determinedRect.width+" "+this.determinedRect.height}};d.mixin("background",f)},{riot:108}],55:[function(a,b,c){var d=a("riot"),e={start:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t0&const=ad",firstQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t25&const=ad",midpoint:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t50&const=ad",thirdQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t75&const=ad",complete:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t100&const=ad"},f="//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=displayad&const=ad",g={getAdInstance:function(){if(this._adInstance)return this._adInstance;for(var a,b=this;!a;)b=b.parent,a=b._adInstance;return this._adInstance=a,a},getAdStore:function(){return this.getAdInstance().getAdStore()},getComponentLibrary:function(){return this.getAdStore().getComponentLibrary()},isDisabledNavigationComponent:function(){if(this.opts.data.isNavigationComponent){var a=this.getAdInstance().getAdStore();return a.getNavigationComponentsDisabledFlag()}return!1},init:function(){var a="";if(this.data&&this.data.name&&(a=this.data.name),a){var b=this,c=this.getAdInstance().getActionHandler();c.on("track:"+a,function(c){c&&c.eventType?b.emitTrackingObject(c.eventType,c.eventSubType):window.Tarnhelm.log("Tracking event called as an action, track:"+a+", but no eventType was passed. Ignoring.")}),this.on("unmount",function(){c.off("track:"+a)})}},emitTrackingObject:function(a,b,c){var d=this.getAdInstance(),g=d.getTrackingConsumer();if(g){var h,i=d.getContainerFrame().contentDocument,j=i.hasOwnProperty("ad")&&i.ad.hasOwnProperty("cid")?i.ad.cid:null,k=d.getName();if(h={unitName:k,eventType:a,componentName:this.componentData.name,componentPath:this.getComponentPath(),componentType:this.componentData.type,timeElapsed:d.timeSinceInit(),data:{label:this.componentData.description||this.componentData.name,eventSubType:b}},"reely"===this.componentData.type&&null!==j){var l;e[b]&&(l=e[b]+j,(new Image).src=l,window.Tarnhelm.log("  - reely event["+b+"] = "+l)),"start"===b&&(l=f+j,(new Image).src=l,window.Tarnhelm.log("  - reely video 'intent' = "+l))}if(c){var m;for(m in c)h.data[m]=c[m]}g(h)}},getComponentPath:function(){for(var a=this.getAdInstance().getName(),b=this.componentData.name,c=this.parent,d=this.componentData.name;c.componentData&&c.componentData.name!==a;)d!==c.componentData.name&&(b=c.componentData.name+"."+b,d=c.componentData.name),c=c.parent;return this.getComponentPath=function(){return b},b}};d.mixin("base",g)},{riot:108}],56:[function(a,b,c){var d=a("riot"),e=a("../../modules/rectProcessor.js"),f={init:function(){this.setRect(),this.on("update",this.setRect)},setRect:function(){var a=this.opts.data||{},b=a.rect||{};this.removeStyleRules(["top","right","bottom","left"]),this.determinedRect=e.process(b),this.addStyleRule("position",this.determinedRect.position),this.addStyleRule(this.determinedRect.anchorX,this.determinedRect.offsetX),this.addStyleRule(this.determinedRect.anchorY,this.determinedRect.offsetY),this.addStyleRule("height",this.determinedRect.height),this.addStyleRule("width",this.determinedRect.width)}};d.mixin("rect",f)},{"../../modules/rectProcessor.js":22,riot:108}],57:[function(a,b,c){var d=a("riot"),e={init:function(){this._isMounted=!1,this._currentWidth=this.opts.data.rect.width,this.on("mount",function(){this._isMounted=!0}),this.on("update",this._checkForResize)},_checkForResize:function(){this._isMounted&&this.opts.data.rect.width!==this._currentWidth&&(this._currentWidth=this.opts.data.rect.width,this.trigger("resize"))}};d.mixin("resize",e)},{riot:108}],58:[function(a,b,c){var d=a("riot"),e={init:function(){this.registerTeardownFunction||this.mixin("teardown"),this.initRotatorEventHandlers(),this.registerTeardownFunction(this.teardownRotatorEventHandlers)},initRotatorEventHandlers:function(){this.prevActiveIndex=this.activeIndex,this.on("update",this.handleRotatorUpdate)},teardownRotatorEventHandlers:function(){this.off("update",this.handleRotatorUpdate)},incrementIndex:function(){var a={actionName:"rotator:increment-index",componentName:this.opts.data.name};this.triggerActions([a])},decrementIndex:function(){var a={actionName:"rotator:decrement-index",componentName:this.opts.data.name};this.triggerActions([a])},handleRotatorUpdate:function(){var a=this.opts.data.activeIndex,b=this.prevActiveIndex;null!=b&&b!==a&&(this.trigger("indexChanged"),this.emitTrackingObject("intent","navigateRotator",{index:a}),this.hasAction("indexChanged")&&this.triggerActions(this.opts.data.actions.indexChanged)),this.prevActiveIndex=a}};d.mixin("rotator",e)},{riot:108}],59:[function(a,b,c){var d=a("riot"),e={transform:["-webkit-transform","-ms-transform"],"transform-origin":["-webkit-transform-origin","-moz-transform-origin","-ms-transform-origin","-o-transform-origin"],transition:["-webkit-transition","-moz-transition","-o-transition"],filter:["-webkit-filter","-moz-filter","-o-filter"]},f={init:function(){this.initTagStyles(),this.addCustomCSSTagStyles(),this.on("update",this.setTagStyleString)},initTagStyles:function(){this.tagStyles={},this.tagStyleString=""},addCustomCSSTagStyles:function(){var a=this.opts.data.css;a&&this.addStyleRules(a)},addStyleRule:function(a,b){this.tagStyles[a]=b;var c=e[a];if(c)for(var d=0;d<c.length;d++)this.tagStyles[c[d]]=b},addStyleRules:function(a){for(var b in a)a.hasOwnProperty(b)&&this.addStyleRule(b,a[b])},removeStyleRule:function(a){delete this.tagStyles[a]},removeStyleRules:function(a){if(a&&a.length)for(var b=0;b<a.length;b++)this.removeStyleRule(a[b])},setVisibilityStyle:function(){null!=this.opts.data.isInvisible&&(this.opts.data.isInvisible?this.addStyleRule("visibility","hidden"):this.addStyleRule("visibility","visible"))},makeInvisible:function(){var a=this.tagStyles.visibility;(a||"hidden"!==a)&&(this.addStyleRule("visibility","hidden"),this.update())},makeVisible:function(){var a=this.tagStyles.visibility;a&&"visible"!==a&&(this.addStyleRule("visibility","visible"),this.update())},getTagStyleString:function(){var a="";return this.setVisibilityStyle(),a+=this.cssStringFromCSSObject(this.tagStyles)},cssStringFromCSSObject:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b},setTagStyleString:function(){this.tagStyleString=this.getTagStyleString()}};d.mixin("styles",f)},{riot:108}],60:[function(a,b,c){var d=a("riot"),e={init:function(){var a=this;this.teardownQueue=[],this.on("unmount",function(){a.unmountTeardown()})},registerTeardownFunction:function(a,b){var c=this;this.teardownQueue.push({callback:a,thisArg:b||c})},unmountTeardown:function(){for(var a=0;a<this.teardownQueue.length;a++){var b=this.teardownQueue[a];b.callback.call(b.thisArg)}}};d.mixin("teardown",e)},{riot:108}],61:[function(a,b,c){var d=a("riot"),e=a("../../modules/transitionStyleGenerator.js"),f={init:function(){if(this.transitionStyles=this.getAllTransitionStyles(),this.hasTransitionsIn()&&this.hasTransitionsIn()&&(this.setTransitionsStartState(this.transitionStyles["in"]),this.on("mount",function(){this.setTransitionsEndState(this.transitionStyles["in"])})),this.hasTransitionsOut()){var a=this,b=this.getAdInstance().getActionHandler(),c="transition-component-out:"+this.opts.data.name;b.on(c,function(){a.setTransitionsStartState(a.transitionStyles.out),a.setTransitionsEndState(a.transitionStyles.out)})}},getAllTransitionStyles:function(){var a=this.opts.data,b={"in":{},out:{}};return this.hasTransitionsIn()&&(b["in"]=e.calculateTransitionStyles(a.transitionsIn)),this.hasTransitionsOut()&&(b.out=e.calculateTransitionStyles(a.transitionsOut)),b},setTransitionsStartState:function(a){this.addStyleRules(a.start)},setTransitionsEndState:function(a){if(window.requestAnimationFrame){var b=this;window.requestAnimationFrame(function(){window.setTimeout(function(){b.addStyleRules(a.end),b.update()},1)})}else this.addStyleRules(a.end),this.update()},hasTransitionsIn:function(){return this.opts.data.transitionsIn&&this.opts.data.transitionsIn.length},hasTransitionsOut:function(){return this.opts.data.transitionsOut&&this.opts.data.transitionsOut.length}};d.mixin("transitions",f)},{"../../modules/transitionStyleGenerator.js":26,riot:108}],62:[function(a,b,c){var d=a("riot"),e=["play","pause","mute","unmute","reset"],f={init:function(){this.registerTeardownFunction||this.mixin("teardown")},enforceVideoInterface:function(){for(var a=0;a<e.length;a++)"function"!=typeof this[e[a]]&&window.Tarnhelm.log(this.root.tagName+" failed to implement "+e[a]+"()")},setVideoEl:function(a){this.videoEl=a,this.enforceVideoInterface(),this.initVideoElEventHandlers(),this.registerTeardownFunction(this.teardownVideoElEventHandlers),this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers)},getVideoEl:function(){return this.videoEl?this.videoEl:void window.Tarnhelm.log(this.root.tagName+" failed to call `setVideoEl` or passed a bad reference.")},initVideoActionReceivers:function(){this._setActionReceivers("on")},teardownVideoActionReceivers:function(){this._setActionReceivers("off")},_setActionReceivers:function(a){var b=this.getAdInstance().getActionHandler(),c=b[a].bind(b);c("video:pause-all",this.pause),c("video:mute-all",this.mute),c("video:unmute-all",this.unmute),c("video:reset-all",this.reset);for(var d=this.data.name,f=0;f<e.length;f++){var g=e[f],h="video:"+g,i=h+":"+d,j=this[g];c(i,j)}},initVideoElEventHandlers:function(){this.boundHandleVideoComplete=this.handleVideoComplete.bind(this);var a=this.getVideoEl();a&&"function"==typeof a.addEventListener&&a.addEventListener("ended",this.boundHandleVideoComplete),this.registerTeardownFunction(this.teardownVideoElEventHandlers)},teardownVideoElEventHandlers:function(){var a=this.getVideoEl();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("ended",this.boundHandleVideoComplete)},handleVideoComplete:function(a){this.handleEvent(a,"videoComplete")},shouldItAutoplay:function(){var a=!0;return null!=this.opts.data.video.autoplay&&(a=this.opts.data.video.autoplay),this.opts.data.video.canplaythroughRequired&&(a=!1),a},handleCanPlay:function(a,b){return function(){return this.initialAutoplay?void a.removeEventListener("canplay",this.boundHandleCanPlay):(this.initialAutoplay=!0,void(b=a.play()))}},doAutoplay:function(a){var b;this.boundHandleCanPlay=this.handleCanPlay(a,b).bind(this),this.initialAutoplay=this.initialAutoplay||!1,a.readyState>=a.HAVE_FUTURE_DATA?(b=a.play(),this.initialAutoplay=!0):a.addEventListener("canplay",this.boundHandleCanPlay)},fireSyntheticMediaPlaybackEvent:function(a,b){var c="";try{c=this.getAdInstance().getDomNode().ownerDocument.defaultView.name}catch(d){c="unknown"}window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish("mediaPlaybackEvent",{type:a,slotName:c,timestamp:Date.now(),dispatcher:b,targetElementId:this.getVideoEl()?this.getVideoEl().id:"unknown"})}};d.mixin("video",f)},{riot:108}],63:[function(a,b,c){var d=a("riot"),e={getAdIframeZoolander:function(){var a=this.getAdInstance().getContainerFrame().contentWindow.document,b=new ad_design.Zoolander({document:a,id:this.opts.data.name,prefixId:"#"+this.opts.data.name});return b}};d.mixin("zoolander",e)},{riot:108}],64:[function(a,b,c){function d(a){f.mount(a.getDomNode(),{adInstance:a}),a.initAfterMount()}function e(a,b,c){var e=a.getActionHandler();c?e.trigger({actionName:g.ASSET_PRELOAD_TIMEOUT}):b&&e.trigger({actionName:g.ASSET_PRELOAD_FINISH}),d(a),e.trigger({actionName:g.AD_DISPLAYED});var f=a.getAdStore().getSecondaryAssetUrls();i.preloadUrls(f)}/*!
  Riot v2.2.4, @license MIT, (c) 2015 Muut Inc. + contributors
*/
var f=a("riot"),g=a("../modules/events/adEvent.js"),h=a("../modules/injectCSS.js"),i=a("../modules/url.js");a("./app.tag"),b.exports={injectStyles:function(b){var c=a("../../css/ad.min.css.js");h.beforeNode(c,b)},mountAd:function(a){var b=a.getAdStore().getPrimaryAssetUrls();if(b&&b.length){a.getActionHandler().trigger({actionName:g.ASSET_PRELOAD_START});var c=e.bind(null,a,!0);i.preloadUrlsWithCallback(b,c)}else e(a)}}},{"../../css/ad.min.css.js":1,"../modules/events/adEvent.js":10,"../modules/injectCSS.js":16,"../modules/url.js":27,"./app.tag":30,riot:108}],65:[function(a,b,c){function d(a,b,c){var d=this;this._adJson=a,this._options=c,this.actionHandler=b,this.componentNameIterator=0,this.setInitialState(a),this.initComponentTree(this._adJson),this.scaleAdToWidth(c.adWidth),this.initCountdownTimers(),b.on(o.join(" "),function(a,b){d.handleRoutingAction(b)}),b.on("set-wrap-background",function(a){var b=d.state.wrapLibrary[a.wrapName];n.triggerWrapSwap(b)}),b.on("make-invisible",function(a){var c=d.state.componentLibrary[a.componentName];c.isInvisible||(c.isInvisible=!0,b.trigger({actionName:"ad-state-updated"}))}),b.on("make-visible",function(a){var c=d.state.componentLibrary[a.componentName];null!=c.isInvisible&&c.isInvisible&&(c.isInvisible=!1,b.trigger({actionName:"ad-state-updated"}))}),b.on("set-alternate-background",function(a){var c=d.state.componentLibrary[a.componentName];c.useAlternateBackground=!0,b.trigger({actionName:"ad-state-updated"})}),b.on("unset-alternate-background",function(a){var c=d.state.componentLibrary[a.componentName];c.useAlternateBackground=!1,b.trigger({actionName:"ad-state-updated"})}),b.on("scale-ad-to-width",function(a){return a&&a.data&&a.data.width?void d.scaleAdToWidth(a.data.width):void window.Tarnhelm.log('Cannot scale ad, action "scale-ad-to-width" did not provide a valid width. Action:',a)}),b.on("enable-navigation-components",function(a){d.state.navigationComponentsDisabled&&(d.state.navigationComponentsDisabled=!1,b.trigger({actionName:"ad-state-updated"}))}),b.on("disable-navigation-components",function(a){d.state.navigationComponentsDisabled||(d.state.navigationComponentsDisabled=!0,b.trigger({actionName:"ad-state-updated"}))}),b.on("trigger-action-collection",function(a){if(!a.collectionName)return void window.Tarnhelm.log("Unable to trigger a collection of actions, missing collectionName");var c=d.state.actions.collections[a.collectionName];c&&c.length?b.triggerMany(c):window.Tarnhelm.log('Collection "'+a.collectionName+'" was not found in ad "'+d.state.name+'"')})}var e=(a("riot"),a("../../modules/countdownTimer.js")),f=a("../../modules/objectUtils.js"),g=a("./retrievers/asset.js"),h=a("./retrievers/background.js"),i=a("./retrievers/component.js"),j=a("./retrievers/dateRange.js"),k=a("./retrievers/rect.js"),l=(a("./retrievers/scale.js"),a("./retrievers/wrap.js")),m=a("./delegators/router.js"),n=(a("./delegators/transition.js"),a("./delegators/wrap.js")),o=["route","rotator:show-index","rotator:show-named-child","rotator:increment-index","rotator:decrement-index","minimize-ad","maximize-ad","hide-component","show-component"],p=["actions","background","css","defaultLink","frameProperties","frequencyCappedInit","id","isScalable","name","trackingConfigs"],q=["rect","frameProperties","spriteSheetDimensions"],r=["background","alternateBackground"],s="_orig",t={VIDEO:"video",ROTATOR:"rotator",GRAPHIC:"graphic",COUNTDOWN:"countdown"},u={countdown:t.COUNTDOWN,"countdown-number-text":t.COUNTDOWN,"countdown-number-custom":t.COUNTDOWN,rotator:t.ROTATOR,"slider-rotator":t.ROTATOR,graphic:t.GRAPHIC,rotatorbutton:t.GRAPHIC,reely:t.VIDEO,alphalfa:t.VIDEO,"minimal-video":t.VIDEO};d.prototype={setInitialState:function(a){this.state=this.getStaticAdData(a),this.state.actions=this.state.actions||{},this.state.actions.collections=this.state.actions.collections||{},this.state.navigationComponentsDisabled=!1,this.state.scaleData={currentScale:1,currentWidth:this.state.frameProperties.width,pixelDensity:window.devicePixelRatio||1},this.state.countdownTimers={},this.state.componentLibrary={},this.state.componentNamesByType={},this.state.componentNamesByCategory={},this.state.activeSortedDateRanges=j.getActiveSortedDateRanges(window.Tarnhelm.getNowTime(),a.dateRanges),this.state.assetLibrary=this.buildAssetLibrary(),this.state.wrapLibrary=l.generateWrapLibrary(a.wraps,this.state.assetLibrary)},getStaticAdData:function(a){for(var b={},c=0;c<p.length;c++){var d=p[c];b[d]=a[d]}return f.clone(b)},buildAssetLibrary:function(){return g.generateAssetLibrary(this._adJson.assets,this.state.activeSortedDateRanges,this.state.scaleData.currentScale,this.state.scaleData.pixelDensity)},initComponentTree:function(a,b){var c,d,e=[];if(b&&b.length?d=b[b.length-1]:b=[],a.children&&a.children.length){b.push(a);for(var g=0;g<a.children.length;g++)e.push(a.children[g].name),this.initComponentTree(a.children[g],b);b.pop()}d?(c=f.clone(a),c.parentName=d.name):c=this.state,delete c.children,c.childNames=e,this.initComponent(c,b),d&&this.addToComponentLibrary(c)},initComponent:function(a,b){a.isHidden=!!a.isHidden,this.storeOriginalValues(a,q),this.storeOriginalValues(a,r),a.arrowGraphics&&(this.inheritDefaultArrowValues(a.arrowGraphics),this.storeOriginalValues(a.arrowGraphics.previous,q),this.storeOriginalValues(a.arrowGraphics.next,q));var c=this.componentTypeInitters[a.type];"function"==typeof c&&c.call(this,a,b);var d=u[a.type],e=this.componentCategoryInitters[d];"function"==typeof e&&e.call(this,a,b),this.setComponentAssets(a)},storeOriginalValues:function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a[d];if(e){var f=d+s;a[f]=k.cloneRect(e)}}},componentTypeInitters:{"countdown-number-text":function(a,b){var c={};b&&b.length&&(c=b[b.length-1]),"undefined"==typeof a.targetDate&&(a.targetDate=c.targetDate),"undefined"==typeof a.padZeros&&(a.padZeros=c.padZeros)},"countdown-number-custom":function(a,b){var c={};b&&b.length&&(c=b[b.length-1]),"undefined"==typeof a.targetDate&&(a.targetDate=c.targetDate),"undefined"==typeof a.padZeros&&(a.padZeros=c.padZeros),"undefined"==typeof a.spritesheet&&(a.spritesheet=c.spritesheet),"undefined"==typeof a.showAfterEnd&&(a.showAfterEnd=c.showAfterEnd)},reely:function(a,b){if(a.controls){var c=k.cloneRectAsPercentageValues(a.controls,a.rect);f.shallowMerge(a.controls,c)}},"slider-rotator":function(a,b){this.componentTypeInitters._initArrowGraphics(a,b)},gallery:function(a,b){this.componentTypeInitters._initArrowGraphics(a,b)},_initArrowGraphics:function(a,b){a.arrowGraphics&&a.arrowGraphics.next&&a.arrowGraphics.previous||(window.Tarnhelm.log("Requirements not met! "+a.type+" requires arrowGraphics properties!"),a.arrowGraphics={},a.arrowGraphics.previous={css:{background:"red"},rect:{anchorX:"left",offsetX:5,offsetY:5,width:40,height:40}},a.arrowGraphics.next={css:{background:"red"},rect:{anchorX:"right",offsetX:5,offsetY:5,width:40,height:40}})}},componentCategoryInitters:{countdown:function(a,b){this.addCountdownTimer(a.targetDate,a.name)},rotator:function(a,b){a.activeIndex=parseInt(a.activeIndex,10)||0},video:function(a,b){i.hasAncestorOfType(a,"slider-rotator",b)&&(a.video.autoplay=!1)}},inheritDefaultArrowValues:function(a){if(a&&a.previous&&a.next){var b=a.previous,c=a.next;if(a.defaultArrow){var d=a.defaultArrow;f.mergeDefaults(b.rect,d.rect),f.mergeDefaults(c.rect,d.rect),f.mergeDefaults(b,d),f.mergeDefaults(c,d),a.flippable&&(c.css=c.css||{},c.css.transform=c.css.transform||"",c.css.transform+=" scaleX(-1)")}}},addCountdownTimer:function(a,b){this.state.countdownTimers[a]||(this.state.countdownTimers[a]={countdownTimer:new e(a),listenerComponents:[]}),this.state.countdownTimers[a].listenerComponents.push(b)},initCountdownTimers:function(){for(var a=Object.keys(this.state.countdownTimers),b=0;b<a.length;b++){var c=this.state.countdownTimers[a[b]];this.initCountdownTimer(c)}},initCountdownTimer:function(a){var b=this,c=a.countdownTimer;c.on("tick",function(c){b.setComponentsTimerState(a.listenerComponents,c),b.actionHandler.trigger({actionName:"ad-state-updated"})});for(var d=0;d<a.listenerComponents.length;d++){var e=this.state.componentLibrary[a.listenerComponents[d]];e.remaining=c.getRemainingValues(c.getMillisecondsRemaining())}},setComponentsTimerState:function(a,b){for(var c=0;c<a.length;c++)this.state.componentLibrary[a[c]].remaining=b},setComponentAssets:function(a){switch(a.background&&a.background.asset&&f.shallowMerge(a.background,g.getGraphicAssetSources(a.background,this.state.assetLibrary)),a.alternateBackground&&a.alternateBackground.asset&&f.shallowMerge(a.alternateBackground,g.getGraphicAssetSources(a.alternateBackground,this.state.assetLibrary)),a.type){case"animaniac":case"graphic":case"rotatorbutton":f.shallowMerge(a,g.getGraphicAssetSources(a,this.state.assetLibrary));break;case"gallery":case"slider-rotator":a.arrowGraphics&&a.arrowGraphics.previous&&a.arrowGraphics.next&&(f.shallowMerge(a.arrowGraphics.previous,g.getGraphicAssetSources(a.arrowGraphics.previous,this.state.assetLibrary)),f.shallowMerge(a.arrowGraphics.next,g.getGraphicAssetSources(a.arrowGraphics.next,this.state.assetLibrary)));break;case"alphalfa":case"reely":case"minimal-video":f.shallowMerge(a.video,g.getVideoAssetSources(a.video,this.state.assetLibrary))}},addToComponentLibrary:function(a){var b=a.name;this.state.componentLibrary[b]&&(b+="__"+ ++this.componentNameIterator,window.Tarnhelm.log('More than one component exists with name"'+a.name+'", renaming to "'+b+'"')),a.name=b,this.state.componentLibrary[b]=a,this.addToNamesByType(a.type,a.name),this.addToNamesByCategory(a.type,a.name)},addToNamesByType:function(a,b){this._addToNames(this.state.componentNamesByType,a,b)},addToNamesByCategory:function(a,b){var c=u[a];c&&this._addToNames(this.state.componentNamesByCategory,c,b)},_addToNames:function(a,b,c){return a[b]||(a[b]=[]),a[b].push(c),a},handleRoutingAction:function(a){if(this.state.isTransitioning)return void window.Tarnhelm.log('Transition in progress, ignoring action "'+a.actionName+'"');switch(a.actionName){case"route":m.route(a.data,this.state.componentLibrary,this.state);break;case"rotator:show-index":m.routeRotatorToIndex(a.componentName,a.data.index,this.state.componentLibrary,this.state);break;case"rotator:show-named-child":m.routeRotatorToNamedChild(a.componentName,a.data.childName,this.state.componentLibrary,this.state);break;case"rotator:increment-index":m.routeRotatorToIncrementedIndex(a.componentName,this.state.componentLibrary,this.state);break;case"rotator:decrement-index":m.routeRotatorToDecrementedIndex(a.componentName,this.state.componentLibrary,this.state);break;case"minimize-ad":m.routeRotatorToNamedChild("expander","minimized",this.state.componentLibrary,this.state);break;case"maximize-ad":m.routeRotatorToNamedChild("expander","maximized",this.state.componentLibrary,this.state);break;case"hide-component":m.route({hideComponents:[a.componentName]},this.state.componentLibrary,this.state);break;case"show-component":m.route({showComponents:[a.componentName]},this.state.componentLibrary,this.state)}},scaleAdToWidth:function(a){if(this.state.isScalable&&a){if(a===this.state.frameProperties.width)return void window.Tarnhelm.log('Ad "'+this.state.name+'" is already '+a+"px wide, not rescaling");this.updateScaleData(a),this.state.assetLibrary=this.buildAssetLibrary(),f.shallowMerge(this.state.frameProperties,k.getScaledRect(this.state["frameProperties"+s],this.state.scaleData.currentScale));for(var b=Object.keys(this.state.componentLibrary),c=0;c<b.length;c++){var d=b[c],e=this.state.componentLibrary[d];this.scaleBasedOnOriginalValues(e,q,k.getScaledRect),this.scaleBasedOnOriginalValues(e,r,h.getScaledBackground),e.arrowGraphics&&(this.scaleBasedOnOriginalValues(e.arrowGraphics.previous,q,k.getScaledRect),this.scaleBasedOnOriginalValues(e.arrowGraphics.next,q,k.getScaledRect)),this.setComponentAssets(e)}this.actionHandler.trigger({actionName:"resize-ad-container",data:{rect:this.state.frameProperties}}),this.actionHandler.trigger({actionName:"ad-state-updated"})}},scaleBasedOnOriginalValues:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],g=a[e];if(g){var h=e+s;f.shallowMerge(a[e],c(a[h],this.state.scaleData.currentScale))}}},updateScaleData:function(a){this.state.scaleData.currentScale=a/this.state["frameProperties"+s].width,this.state.scaleData.currentWidth=a},getState:function(){return this.state},getComponentState:function(a){return this.state.componentLibrary[a]},getComponentLibrary:function(){return this.state.componentLibrary},getComponentNamesByType:function(a){var b=this.state.componentNamesByType[a];return b||window.Tarnhelm.log("Requested names for a component type with nothing indexed: ",a),b||[]},getComponentNamesByCategory:function(a){var b=this.state.componentNamesByCategory[a];return b||window.Tarnhelm.log("Requested names for a component category with nothing indexed: ",a),b||[]},getAdId:function(){return this.state.id},getAdName:function(){return this.state.name},requiresAutoplay:function(){return this.state.frequencyCappedInit&&this.state.frequencyCappedInit.actions&&this.state.frequencyCappedInit.actions.length},getFrequencyCappedInitActions:function(){return this.state.frequencyCappedInit&&this.state.frequencyCappedInit.actions?this.state.frequencyCappedInit.actions:[]},getPrimaryAssetUrls:function(){return g.getPreloadAssetUrls("primary",this.state.assetLibrary)},getSecondaryAssetUrls:function(){return g.getPreloadAssetUrls("secondary",this.state.assetLibrary)},getNavigationComponentsDisabledFlag:function(){return this.state.navigationComponentsDisabled}},b.exports=d},{"../../modules/countdownTimer.js":7,"../../modules/objectUtils.js":21,"./delegators/router.js":66,"./delegators/transition.js":67,"./delegators/wrap.js":68,"./retrievers/asset.js":69,"./retrievers/background.js":70,"./retrievers/component.js":71,"./retrievers/dateRange.js":72,"./retrievers/rect.js":73,"./retrievers/scale.js":75,"./retrievers/wrap.js":77,riot:108}],66:[function(a,b,c){var d=a("../retrievers/component.js"),e=a("./transition.js"),f=a("../retrievers/rect.js"),g=a("../retrievers/rotator.js"),h=a("../../../modules/objectUtils.js"),i={route:function(a,b,c){for(var i=a.rotatorConfigs||[],j=a.hideComponents||[],k=a.showComponents||[],l=window.Tarnhelm.getAd(c.id),m=l.getActionHandler(),n=[],o=!1,p=[],q=0;q<i.length;q++){var r=i[q],s=b[r.name];s&&r.childName&&null!=r.index&&(r.index=g.findNamedChildIndex(r.name,r.childName,b)),s&&s.activeIndex!==r.index&&(p.push(r),"expander"===s.name&&(o=!0),s.isHidden||n.push(g.getActiveChildName(s)))}var t=d.getHiddenComponentNames(k,b),u=d.getUnhiddenComponentNames(j,b);if(n=n.concat(u),p.length||u.length||t.length){for(var v=[],q=0;q<n.length;q++)v=v.concat(d.buildTransitionsOutComponentList(n[q],b));if(v.length){var w=this;c.isTransitioning=!0,e.triggerTransitionsOut(v,b,m,function(){var a=g.mapRotatorConfigsToComponentName(p);if(h.shallowMergeMany(b,a),o){var d=c.componentLibrary.expander,e=g.getActiveChildComponent(d,c.componentLibrary),i=f.getDimensions(e.rect);h.shallowMerge(c.frameProperties,i),h.shallowMerge(d.rect,i)}w.setComponentHiddenStates(u,b,!0),w.setComponentHiddenStates(t,b,!1),c.isTransitioning=!1,m.trigger({actionName:"ad-state-updated"})})}else{var x=g.mapRotatorConfigsToComponentName(p);if(h.shallowMergeMany(b,x),o){var y=c.componentLibrary.expander,z=g.getActiveChildComponent(y,c.componentLibrary),A=f.getDimensions(z.rect);h.shallowMerge(c.frameProperties,A),h.shallowMerge(y.rect,A)}this.setComponentHiddenStates(u,b,!0),this.setComponentHiddenStates(t,b,!1),m.trigger({actionName:"ad-state-updated"})}}},routeRotatorToIndex:function(a,b,c,d){var e=[{name:a,index:b}];this.route({rotatorConfigs:e},c,d)},routeRotatorToIncrementedIndex:function(a,b,c){var d=g.getIncrementedIndex(b[a]);this.routeRotatorToIndex(a,d,b,c)},routeRotatorToDecrementedIndex:function(a,b,c){var d=g.getDecrementedIndex(b[a]);this.routeRotatorToIndex(a,d,b,c)},routeRotatorToNamedChild:function(a,b,c,d){var e=g.findNamedChildIndex(a,b,c);this.routeRotatorToIndex(a,e,c,d)},setComponentHiddenStates:function(a,b,c){for(var d=0;d<a.length;d++){var e=b[a[d]];e.isHidden=!!c}}};b.exports=i},{"../../../modules/objectUtils.js":21,"../retrievers/component.js":71,"../retrievers/rect.js":73,"../retrievers/rotator.js":74,"./transition.js":67}],67:[function(a,b,c){var d=(a("../../../modules/transitionStyleGenerator.js"),a("../retrievers/transition.js")),e={triggerTransitionsOut:function(a,b,c,e){for(var f=d.getMaxTransitionOutTime(a,b),g=0;g<a.length;g++){var h="transition-component-out:"+a[g];c.trigger({actionName:h})}window.setTimeout(function(){"function"==typeof e&&e();for(var b=0;b<a.length;b++){var d="transition-component-out:"+a[b]+":complete";c.trigger({actionName:d})}},f)}};b.exports=e},{"../../../modules/transitionStyleGenerator.js":26,"../retrievers/transition.js":76}],68:[function(a,b,c){var d=a("../retrievers/wrap.js"),e=(a("../retrievers/rotator.js"),{triggerRotatorWrapSwap:function(a,b){var c=d.getWrapNameFromRotator(a,b.componentLibrary);if(!c)return void window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+a.name+'", could not get the wrap name');var e=d.getWrapData(c,b.wrapLibrary);return e?void this.triggerWrapSwap(e):void window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+a.name+'" and wrapName "'+c+'", could not find a matching wrap config')},triggerWrapSwap:function(a){var b=d.generateWrapAction(a);window.Tarnhelm.triggerTopAction(b)}});b.exports=e},{"../retrievers/rotator.js":74,"../retrievers/wrap.js":77}],69:[function(a,b,c){var d={image:!0,video:!0},e={image:"url",video:"url"},f={video:"source",image:"source"},g={graphic:[{src:"asset",dest:"source"},{src:"activeAsset",dest:"activeSource"},{src:"hoverAsset",dest:"hoverSource"},{src:"fullAdHoverAsset",dest:"fullAdHoverSource"},{src:"disabledAsset",dest:"disabledSource"}],video:[{src:"asset",dest:"url"}]},h={video:!0},i={primary:!0,secondary:!0},j={generateAsset:function(a,b,c){var d=this.getCurrentDatedAsset(a,b),e=this.generateScaledAsset(d,a.type,c);return e?e.preload=a.preload:window.Tarnhelm.log('Asset "'+a.name+'" is not configured correctly'),e},generateAssetLibrary:function(a,b,c,d){for(var e={},f=Object.keys(a),g=this.getAssetScale(c,d),h=0;h<f.length;h++){var i=f[h],j=a[i],k=this.updateDeprecatedAssetSyntax(j),l=this.generateAsset(k,b,g);l?e[i]=l:window.Tarnhelm.log('There was a problem with asset "'+i+'", Tarnhelm was unable to initialize it')}return e},generateScaledAsset:function(a,b,c){for(var d={},g=this.getValidatedAssetType(b),h=e[g],i=c;i>0;i--){var j=this.getScaledAssetUrlKey(h,i);if(a[j])return d[f[g]]=a[j],d.type=g,d}return void 0},getCurrentDatedAsset:function(a,b){if(!b||!b.length||!a.dateOverrides)return a;for(var c=b.length-1;c>-1;c--){var d=b[c].name;if(a.dateOverrides[d])return a.dateOverrides[d]}return a},getValidatedAssetType:function(a){return d[a]?a:"image"},getScaledAssetUrlKey:function(a,b){return"number"==typeof b&&b>1?a+parseInt(b,10)+"x":a},getAssetScale:function(a,b){return Math.ceil(Math.abs(a*b))},getAssetSource:function(a,b){var c=b[a];if(!c)return void window.Tarnhelm.log('Error, asset named "'+c+'" does not exist');var d=this.getAssetSourceKey(c.type),e=c[d];return e?e:void window.Tarnhelm.log('Error, asset "'+c+'" is missing its source, prop "'+d+'"')},getAssetSourceKey:function(a){var b=this.getValidatedAssetType(a);return f[b]},getMappedAssetSources:function(a,b,c){var d={};if(!a)return window.Tarnhelm.log("Cannot get assets, component was not provided"),d;if(!b)return window.Tarnhelm.log("Cannot get assets, assetLibrary was not provided"),d;if(!c||!g[c])return window.Tarnhelm.log('Cannot get assets, componentType "'+c+'" is not supported'),d;for(var e=g[c],f=0;f<e.length;f++){var h=e[f];if(a[h.src]){var i=this.getAssetSource(a[h.src],b);i&&(d[h.dest]=i)}}return d},getGraphicAssetSources:function(a,b){return this.getMappedAssetSources(a,b,"graphic")},getVideoAssetSources:function(a,b){return this.getMappedAssetSources(a,b,"video")},getPreloadAssetUrls:function(a,b){var c=[];if("string"!=typeof a||!i[a])return window.Tarnhelm.log('Problem preloading assets, "'+a+'" should be "primary" or "secondary"'),c;for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e],g=b[f];if(g.preload===a&&!h[g.type]){var j=this.getAssetSource(f,b);j&&c.push(g.source)}}return c},updateDeprecatedAssetSyntax:function(a){var b,c,d={};for(b in a)if("fileName"===b)d.url=a[b]+".mp4";else if("dateOverrides"===b){var e=a[b];for(c in e)e[c]=this.updateDeprecatedAssetSyntax(e[c]);d.dateOverrides=e}else d[b]=a[b];return d}};b.exports=j},{}],70:[function(a,b,c){var d=a("./scale.js"),e=["position","size"],f=/\s+/,g={getScaledBackground:function(a,b){if("object"!=typeof a)return void window.Tarnhelm.log('Cannot scale, "background" is not an object:',a);for(var c={},g=0;g<e.length;g++){var h=e[g],i=a[h];if(i){for(var j=i.split(f),k=0;k<j.length;k++){var l=j[k],m=d.getRawDimension(l);"number"==typeof m&&(j[k]=d.getDimensionWithUnit(d.getScaledDimension(d.getRawDimension(l),b)))}c[h]=j.join(" ")}}return c},cloneBackground:function(a){for(var b={},c=0;c<e.length;c++){var d=e[c];a[d]&&(b[d]=a[d])}return b}};b.exports=g},{"./scale.js":75}],71:[function(a,b,c){var d=a("./rotator.js"),e={buildTransitionsOutComponentList:function(a,b){var c=[],e=b[a];if(!e||e.isHidden)return c;if(e.transitionsOut&&e.transitionsOut.length&&c.push(e.name),e.childNames&&e.childNames.length)if("rotator"===e.type){var f=d.getActiveChildComponent(e,b);c=c.concat(this.buildTransitionsOutComponentList(f.name,b))}else for(var g=0;g<e.childNames.length;g++){var h=b[e.childNames[g]];h.isHidden||(c=c.concat(this.buildTransitionsOutComponentList(h.name,b)))}return c},filterComponentsByPropertyValue:function(a,b,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f],h=b[g];h&&h[c]===d&&e.push(g)}return e},filterComponentsByParentNode:function(a,b){for(var c={},d=0;d<a.length;d++)c[a[d]]=1;for(var e=[],d=0;d<a.length;d++){var f=!1,g=b[a[d]];if(g){for(;g.parentName&&!f;)g=b[g.parentName],c[g.name]&&(f=!0);f||e.push(a[d])}}return e},isDescendantOfType:function(a,b,c){for(var d=c[a];d&&d.parentName;)if(d=c[d.parentName],d&&d.type===b)return!0;return!1},hasAncestorOfType:function(a,b,c){if(!c||!c.length)return!1;for(var d=c.length-1;d>=0;d--)if(c[d].type===b)return!0;return!1},hasAncestorOfName:function(a,b,c){var d=c[a].parentName;return this._hasAncestorOfNameRecursive(b,d,c)},_hasAncestorOfNameRecursive:function(a,b,c){var d=c[b];return d?d.name===a?!0:this._hasAncestorOfNameRecursive(a,d.parentName,c):!1},getHiddenComponentNames:function(a,b){return this.filterComponentsByPropertyValue(a,b,"isHidden",!0)},getUnhiddenComponentNames:function(a,b){return this.filterComponentsByPropertyValue(a,b,"isHidden",!1)}};b.exports=e},{"./rotator.js":74}],72:[function(a,b,c){b.exports={compareDateRanges:function(a,b){var c=new Date(a.start),d=new Date(b.start),e=c.getTime(),f=d.getTime();return f>e?-1:e>f?1:0},getActiveSortedDateRanges:function(a,b){var c=[];if(!b||!b.length)return c;for(var d=0;d<b.length;d++){var e=new Date(b[d].start);a>=e.getTime()&&c.push(b[d])}return c.sort(this.compareDateRanges)}}},{}],73:[function(a,b,c){var d=a("./scale.js"),e=["offsetX","offsetY","width","height"],f={offsetX:"width",offsetY:"height",width:"width",height:"height"},g={getDimensions:function(a){return{height:a.height,width:a.width}},getScaledRect:function(a,b){if("object"!=typeof a)return void window.Tarnhelm.log('Cannot scale, "rect" is not an object:',a);for(var c={},f=0;f<e.length;f++){var g=e[f],h=a[g];if(h){var i=d.getRawDimension(h);"number"==typeof i&&(c[g]=d.getScaledDimension(d.getRawDimension(h),b))}}return c},cloneRect:function(a){for(var b={},c=0;c<e.length;c++){var d=e[c];a[d]&&(b[d]=a[d])}return b},cloneRectAsPercentageValues:function(a,b){for(var c=(b.width,b.height,{}),e=Object.keys(f),g=0;g<e.length;g++){var h=e[g],i=f[h],j=d.getRawDimension(a[h]);if(j){var k=d.getRawDimension(b[i]);k||window.Tarnhelm.log('Could not scale rect value for "'+h+'", parent rect value for "'+i+'" is missing'),"number"==typeof j&&("number"==typeof k?j=Math.round(j/k*100)+"%":window.Tarnhelm.log('Could not scale rect value for "'+h+'", parent rect value for "'+i+'" is not a pixel value')),c[h]=j}}return c}};b.exports=g},{"./scale.js":75}],74:[function(a,b,c){function d(a){return a.childNames&&a.childNames.length>0}function e(a){return a.activeIndex>=0&&a.activeIndex<a.childNames.length}var f={isValidRotator:function(a){return a&&d(a)&&e(a)},getActiveChildName:function(a){var b;return this.isValidRotator(a)&&(b=a.childNames[a.activeIndex]),b||window.Tarnhelm.log('Unable to find active child name for rotator "'+a.name+'"'),b},getActiveChildComponent:function(a,b){var c,d=this.getActiveChildName(a);return d&&(c=b[d]),c},mapRotatorConfigsToComponentName:function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.name]={activeIndex:d.index}}return b},findNamedChildIndex:function(a,b,c){var d=c[a];if(!d)return void window.Tarnhelm.log("Requested rotator:show-named-child for a non existent rotator . rotator:",a);if(d&&d.childNames&&d.childNames.length)for(var e=0;e<d.childNames.length;e++)if(d.childNames[e]===b)return e;return window.Tarnhelm.log("Requested rotator:show-named-child for a non existent childName. rotatorName:",a," childName: ",b),d.activeIndex},getIncrementedIndex:function(a){if(this.isValidRotator(a)){var b=a.activeIndex,c=a.childNames.length-1;if(c>=b+1)return b+1}return 0},getDecrementedIndex:function(a){if(this.isValidRotator(a)){var b=a.activeIndex,c=a.childNames.length-1;return b-1>=0?b-1:c}return 0}};b.exports=f},{}],75:[function(a,b,c){var d=new RegExp(/^\-?\d*(\.\d*)?(px)?$/),e={getScaledDimension:function(a,b){return"number"!=typeof a||"number"!=typeof b?void window.Tarnhelm.log("getScaledDimension() failed, both args were not numbers:",a,b):Math.ceil(a*b)},getRawDimension:function(a){if("string"!=typeof a&&"number"!=typeof a)return window.Tarnhelm.log("Cannot get raw dimension from invalid value: ",a),a;var b=a.toString();return d.test(b)?parseFloat(b):b},getDimensionWithUnit:function(a){var b=this.getRawDimension(a);return 0===b?"0":"number"==typeof b?b+"px":b}};b.exports=e},{}],76:[function(a,b,c){var d=a("../../../modules/transitionStyleGenerator.js"),e={getMaxTransitionOutTime:function(a,b){for(var c=[],e=0;e<a.length;e++){var f=b[a[e]];c.push(d.getMaxTransitionTime(f.transitionsOut))}return Math.max.apply(null,c)}};b.exports=e},{"../../../modules/transitionStyleGenerator.js":26}],77:[function(a,b,c){var d=a("./asset.js"),e=a("./rotator.js"),f=a("../../../modules/objectUtils.js"),g={generateWrapLibrary:function(a,b){a=a||{};for(var c={},e=Object.keys(a),g=0;g<e.length;g++){var h=e[g],i=(a[h].asset,f.clone(a[h])),j=d.getGraphicAssetSources(i,b);f.shallowMerge(i,j),c[h]=i}return c},getWrapNameFromRotator:function(a,b){var c=e.getActiveChildComponent(a,b);return c&&c.wrap?c.wrap:a&&a.wrapConfig&&a.wrapConfig["default"]?a.wrapConfig["default"]:void window.Tarnhelm.log('Cannot find wrap for rotator "'+a.name+'"')},getWrapData:function(a,b){return b[a]},generateWrapAction:function(a){return{actionName:"set-wrap-background",data:f.clone(a)}}};b.exports=g},{"../../../modules/objectUtils.js":21,"./asset.js":69,"./rotator.js":74}],78:[function(a,b,c){function d(a){var b=p.clone(a);return delete b.adName,delete b.isGlobal,b}function e(){var a=q.getQueryParam("tarnhelmDebug",window.location.href);("1"===a||"true"===a)&&(B=!0,window.Tarnhelm.log("Tarnhelm is in DEBUG mode."));var b=q.getQueryParam("tarnhelmMobileDebug",window.location.href);("1"===b||"true"===b)&&(C=!0,B=!0,window.Tarnhelm.log("Tarnhelm is in MOBILE DEBUG mode."))}function f(){var a=q.getQueryParam("simulatedDate",window.location.href),b=new Date(a);a&&"Invalid Date"!==b.toString()&&(D=b.getTime()-Date.now())}function g(a){var b=new l(G,a);return b}function h(){var a=new m(new n,F);return a}function i(){x=h(),e(),f(),y=g(x),z=new t(x),x.trigger({actionName:v.READY})}var j="1.0.1",k=a("./modules/adInstance.js"),l=a("./modules/wrapSwapper.js"),m=a("./modules/actionHandler.js"),n=a("./modules/eventEmitter.js"),o=a("./modules/requirementsTester.js"),p=a("./modules/objectUtils.js"),q=a("./modules/url.js"),r=a("./renderer/renderer.js"),s=a("./modules/deviceInfo.js"),t=a("./modules/events/metricEventSink.js"),u=a("./modules/mobileLog.js"),v=a("./modules/events/tarnhelmEvent.js"),w=a("./legacyTracking.js");a("IMDbAdvertisingJsModules");var x,y,z,A={},B=!1,C=!1,D=0,E=new s(window.location.href,window.navigator.userAgent),F=new o(E.getInfo()),G="wrapper",H={getAd:function(a){return A[a]},getAdByName:function(a){for(var b,c=Object.keys(A),d=0;d<c.length;d++)if(A[c[d]].getName()===a){b=A[c[d]];break}return b},initAdInstance:function(a,b,c,d){this.getAd(c.id)&&this.log('Ad with id "'+c.id+'" already exists. OVERWRITING!'),c.name&&this.getAdByName(c.name)&&this.log('Ad with name "'+c.name+'" already exists. OVERWRITING!'),r.injectStyles(a);var e=new k({domNode:a,containerFrame:b,eventSinks:[z],adData:c,trackingConsumer:d||w(c)});return A[c.id]=e,r.mountAd(e),e},triggerTopAction:function(a){x.trigger(a)},triggerGlobalAction:function(a){for(var b=Object.keys(A),c=d(a),e=0;e<b.length;e++)this.getAd(b[e]).getActionHandler().trigger(c)},triggerTandemAction:function(a){if(!a.adName)return void this.log("Tarnhelm.triggerTandemAction failed, adName was not provided");var b=this.getAdByName(a.adName);if(!b)return void this.log('Tarnhelm.triggerTandemAction failed, adInstance for "'+a.adName+'" was not found');var c=d(a);b.getActionHandler().trigger(c)},getNowTime:function(){return Date.now()+D},getIsDebug:function(){return B},setIsDebug:function(a){B=!!a},getIsMobileDebug:function(){return C},setIsMobileDebug:function(a){C=!!a},log:function(){if(B&&window.console&&window.console.log){var a=Array.prototype.slice.call(arguments);console.log.apply(console,a),C&&this.getDeviceInfo().isMobileDevice&&window.top.document.body&&(window.top.document.body.style.position="relative",window.top.mobileLog=window.top.mobileLog||new u(window.top.document.body),window.top.mobileLog.log(a))}},getVersion:function(){return j},getDeviceInfo:function(){return E.getInfo()},getRequirementsTester:function(){return F}};b.exports=window.Tarnhelm=H,i()},{"./legacyTracking.js":2,"./modules/actionHandler.js":3,"./modules/adInstance.js":4,"./modules/deviceInfo.js":8,"./modules/eventEmitter.js":9,"./modules/events/metricEventSink.js":11,"./modules/events/tarnhelmEvent.js":12,"./modules/mobileLog.js":19,"./modules/objectUtils.js":21,"./modules/requirementsTester.js":23,"./modules/url.js":27,"./modules/wrapSwapper.js":29,"./renderer/renderer.js":64,IMDbAdvertisingJsModules:91}],79:[function(a,b,c){var d={makeBufferCanvas:function(){var a=document.createElement("canvas");return a.width=this.output.width,a.height=2*this.output.height,a},isIE:function(){return/msie|trident/.test(navigator.userAgent.toLowerCase())},clear2DCanvas:function(a,b,c){a.clearRect(0,0,b,c)}};b.exports=d},{}],80:[function(a,b,c){var d=a("./renderers/alphalfa-renderer-webgl.js"),e=a("./renderers/alphalfa-renderer-horizontal-gl.js"),f=a("./renderers/alphalfa-renderer-canvas.js"),g=a("./renderers/alphalfa-renderer-mask.js"),h=a("./renderers/alphalfa-renderer-color-correct.js"),i=a("./alphalfa-utils.js");a("../polyfills/request-animation-frame.js");var j=function(a){this.doDebug=!1,this.video=a.video,this.output=a.output,this.buffer=a.buffer||void 0,this.dismissalTimeout=a.dismissalTimeout,this.originalOutputDisplay=this.output.style.display||"inline-block",this.outputHeight=this.output.height,this.outputWidth=this.output.width,a.loop&&(this.loop=a.loop,this.setLoopConfig(a)),null!=a.stillFrameMS&&(this.stillFrameInS=a.stillFrameMS/1e3),this.isSupported=!0,this.renderMode=this.determineRenderMode({colorCorrect:a.colorCorrect,maskUrl:a.maskUrl,forceCanvas:a.forceCanvas,horizontalStack:a.horizontalStack}),(this.renderMode===this.RENDER_MODES.CANVAS||this.renderMode===this.RENDER_MODES.GL)&&this.runTaintedContentCheck(this.video),
this.setupRenderer()};j.prototype={listen:function(){this.isSupported&&(this.boundFrameHandler=this.boundFrameHandler||this.frameHandler.bind(this),this.video.addEventListener("play",this.boundFrameHandler,!1),this.boundEndHandler=this.boundEndHandler||this.videoEndedHandler.bind(this),this.video.addEventListener("ended",this.boundEndHandler,!1),this.video.loop=this.loop)},teardown:function(){this.video.removeEventListener("play",this.boundFrameHandler),this.video.removeEventListener("ended",this.boundEndHandler),this.video.removeEventListener("seeked",this.boundLoopCountOnSeeked),this.video.removeEventListener("seeked",this.boundFreezeFrameOnSeeked),this.video=void 0,this.renderer.teardown(),this.output.width=1,this.output.height=1,this.output.parentNode.removeChild(this.output),this.output=void 0},RENDER_MODES:{GL:"gl",CANVAS:"canvas",MASK:"mask",COLOR_CORRECT:"color-correct",HORIZONTAL_GL:"horizontal-gl"},determineRenderMode:function(a){var b;return a.colorCorrect?b=this.RENDER_MODES.COLOR_CORRECT:a.maskUrl?(this.maskUrl=a.maskUrl,b=this.RENDER_MODES.MASK):a.forceCanvas?b=this.RENDER_MODES.CANVAS:a.horizontalStack?(this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl"),b=this.RENDER_MODES.HORIZONTAL_GL):b=this._determineRenderMode(),this.doDebug&&console.log("Alphalfa determined renderMode :: ",b),b},_determineRenderMode:function(){var a=!0;this.gl=void 0;try{this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl")}catch(b){a=!1}this.gl||(a=!1);var c=a?this.RENDER_MODES.GL:this.RENDER_MODES.CANVAS;return c},setupRenderer:function(){var a={doDebug:this.doDebug,video:this.video,buffer:this.buffer,output:this.output,dieBecauseUnsupported:this.dieBecauseUnsupported};switch(this.renderMode){case this.RENDER_MODES.CANVAS:case this.RENDER_MODES.MASK:case this.RENDER_MODES.COLOR_CORRECT:try{a.outputCtx=this.output.getContext("2d")}catch(b){return this.doDebug&&console.log("Error executing `getContext`, canvas not supported."),void this.dieBecauseUnsupported()}a.outputHeight=this.outputHeight,a.outputWidth=this.outputWidth}switch(this.renderMode){case this.RENDER_MODES.GL:a.gl=this.gl,this.renderer=new d(a);break;case this.RENDER_MODES.CANVAS:this.renderer=new f(a);break;case this.RENDER_MODES.MASK:a.maskUrl=this.maskUrl,this.renderer=new g(a);break;case this.RENDER_MODES.COLOR_CORRECT:this.renderer=new h(a);break;case this.RENDER_MODES.HORIZONTAL_GL:a.gl=this.gl,this.renderer=new e(a)}this.setupRendererContext()},setupRendererContext:function(){this.renderer.setupRendererContext(),this.doDebug||(this.video.style.display="none",this.buffer&&(this.buffer.style.display="none")),this.processFrame=this.determineProcessFrame()},determineProcessFrame:function(){return this.renderMode===this.RENDER_MODES.CANVAS&&i.isIE()&&!this.hasBindSupport()?(this.doDebug&&console.log("Error: IE <9 does not support Function.bind. Aborting."),void this.dieBecauseUnsupported()):this.renderer.getProcessFrameFunc()},hasBindSupport:function(){return"bind"in Function},runTaintedContentCheck:function(a){var b=document.createElement("canvas");b.width=b.height=1,this.boundTestTainted=this.testTainted.bind(this,a,b),a.addEventListener("canplay",this.boundTestTainted)},testTainted:function(a,b){var c=b.getContext("2d");c.drawImage(a,0,0,1,1);try{c.getImageData(0,0,1,1)}catch(d){this.dieBecauseTainted()}a.removeEventListener("canplay",this.boundTestTainted),c=null,b=null},frameHandler:function(){return this.video?this.video.paused||this.video.ended?(this.video.paused&&this.freezeOrClear(),!1):(this.processFrame(),void(this.requestAnimationFrameRequest=window.requestAnimationFrame(this.boundFrameHandler))):!1},videoEndedHandler:function(){this.freezeOrClear(),"undefined"!=typeof this.dismissalTimeout&&(this.boundHideOutputCanvas=this.boundHideOutputCanvas||this.hideOutputCanvas.bind(this),setTimeout(this.boundHideOutputCanvas,this.dismissalTimeout))},setLoopConfig:function(a){this.loopedNum=0;var b=5,c=null!=a.maxLoops?a.maxLoops:b;0!==c&&this.setMaxLoops(c)},setMaxLoops:function(a){this.maxLoops=a,this.boundLoopCountOnSeeked=this.loopCountOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundLoopCountOnSeeked)},loopCountOnSeeked:function(a){return this.video.paused?void(this.loopedNum=0):(this.video.currentTime<.1&&this.loopedNum++,void(this.loopedNum>=this.maxLoops&&(this.video.pause(),this.loopedNum=0)))},freezeOrClear:function(){this.stillFrameInS?this.freezeOnStill(this.stillFrameInS):this.clearOnEnd()},freezeOnStill:function(a){this.video.pause(),this.boundFreezeFrameOnSeeked=this._freezeFrameOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundFreezeFrameOnSeeked);var b=.05,c=this.video.duration-b,d=a>c?c:a;this.video.currentTime=d},_freezeFrameOnSeeked:function(){this.video.removeEventListener("seeked",this.boundFreezeFrameOnSeeked),this.processFrame()},clearOnEnd:function(){this.video.pause(),this._clearCanvas()},showOutputCanvas:function(){this.output.style.display=this.originalOutputDisplay},hideOutputCanvas:function(){this.output.style.display="none"},dieBecauseTainted:function(){this.doDebug&&window.console&&window.console.log&&console.log("Tainted canvas content. Killing Alphalfa playback."),this.dieBecauseUnsupported(!0)},dieBecauseUnsupported:function(a){this.doDebug&&!a&&window.console&&window.console.log&&console.log("Alphalfa has seen things. Attack ships on fire off the shoulder of Orion... Time. to die."),window.cancelAnimationFrame(this.requestAnimationFrameRequest),this.isSupported=!1,this.boundFrameHandler&&this.boundEndHandler&&(this.video.removeEventListener("play",this.boundFrameHandler,!1),this.video.removeEventListener("ended",this.boundEndHandler,!1)),this.video.pause(),this.video.style.display="none",this.output.style.display="none",this.buffer&&(this.buffer.style.display="none")},_clearCanvas:function(){this.renderer.clearCanvas()}},b.exports=j},{"../polyfills/request-animation-frame.js":92,"./alphalfa-utils.js":79,"./renderers/alphalfa-renderer-canvas.js":81,"./renderers/alphalfa-renderer-color-correct.js":82,"./renderers/alphalfa-renderer-horizontal-gl.js":83,"./renderers/alphalfa-renderer-mask.js":84,"./renderers/alphalfa-renderer-webgl.js":85}],81:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputHeight=a.outputHeight,this.outputWidth=a.outputWidth,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={PIXEL_DATA_SIZE:4,setupRendererContext:function(){this._setupCanvasContext()},getProcessFrameFunc:function(){return this.processCanvasFrame.bind(this,this.buffer,this.bufferCtx,this.output,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0,this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0},processCanvasFrame:function(a,b,c,d,e,f){b.drawImage(this.video,0,0);for(var g=this.bufferCtx.getImageData(0,f,e,f),h=g.data,i=3,j=h.length;j>i;i+=this.PIXEL_DATA_SIZE)h[i]=h[i-2];d.putImageData(g,0,0,0,0,e,f),d.drawImage(a,0,0,e,2*f)},_setupCanvasContext:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d"),this.outputCtx.globalCompositeOperation="source-in"}},b.exports=e},{"../alphalfa-utils.js":79}],82:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputWidth=a.outputWidth,this.outputHeight=a.outputHeight,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){},getProcessFrameFunc:function(){return this.processColorCorrectFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0},processColorCorrectFrame:function(a,b,c,d){b.drawImage(a,0,0,c,d)}},b.exports=e},{"../alphalfa-utils.js":79}],83:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.gl=a.gl,this.output=a.output,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupGlContext(this.gl)},getProcessFrameFunc:function(){return this.determineGlRenderFunc()},clearCanvas:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)},teardown:function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.vbuffer),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.texCoordBuffer),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return d.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(a,b){this._updateTextureFromVideo(a),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(a){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(a,b,c,d){this._ieUpdateTextureFromVideo(a,c,d),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(a,b,c){this.bufferCtx.drawImage(this.video,0,0,b,2*c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(a){d.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),a.enableVertexAttribArray(0),a.viewport(0,0,this.output.width,this.output.height),this.doDebug?a.clearColor(0,0,0,.1):a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.program=this._compileProgram(a,this.SHADER_VERTEX,this.SHADER_FRAGMENT),a.useProgram(this.program),this._getGlDataLocations(a),this._createAndBindTexCoordData(a),this._createAndBindTexture(a),this._createAndBindVertexData(a)},_ieGlSetup:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(a){this.aTexCoord_loc=a.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=a.getAttribLocation(this.program,"aPosition"),this.uImage_loc=a.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(a){this.vbuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aPosition_loc),a.vertexAttribPointer(this.aPosition_loc,2,a.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(a){this.texCoordBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,.5,0,0,1,.5,1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aTexCoord_loc),a.vertexAttribPointer(this.aTexCoord_loc,2,a.FLOAT,!1,0,0),a.uniform2f(a.getUniformLocation(this.program,"uHalfTexOffset"),.5,0)},_createAndBindTexture:function(a){this.stackTexture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.stackTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},_compileProgram:function(a,b,c){var d,e,f;return d=a.createShader(a.VERTEX_SHADER),a.shaderSource(d,b),a.compileShader(d),e=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(e,c),a.compileShader(e),f=a.createProgram(),a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),a.getShaderParameter(d,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",a.getShaderInfoLog(d)),a.getShaderParameter(e,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",a.getShaderInfoLog(e)),a.getProgramParameter(f,a.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",a.getProgramInfoLog(f)),f},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},b.exports=e},{"../alphalfa-utils.js":79}],84:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputHeight=a.outputHeight,this.outputWidth=a.outputWidth,this.video=a.video,this.maskUrl=a.maskUrl,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupMaskContext()},getProcessFrameFunc:function(){return this.processMaskFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0},processMaskFrame:function(a,b,c,d){b.drawImage(a,0,0,c,d)},_setupMaskContext:function(){this.loadMask(this.maskUrl)},loadMask:function(a){var b=this,c=this.mask=new Image;c.addEventListener("load",function(a){b.putImageMask.call(b,c)}),c.src=a},putImageMask:function(a){this.outputCtx.globalCompositeOperation="source-over",this.outputCtx.drawImage(a,0,0,this.outputWidth,this.outputHeight),this.outputCtx.globalCompositeOperation="source-in"}},b.exports=e},{"../alphalfa-utils.js":79}],85:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.gl=a.gl,this.output=a.output,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupGlContext(this.gl)},getProcessFrameFunc:function(){return this.determineGlRenderFunc()},clearCanvas:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)},teardown:function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.vbuffer),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.texCoordBuffer),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return d.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(a,b){this._updateTextureFromVideo(a),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(a){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(a,b,c,d){this._ieUpdateTextureFromVideo(a,c,d),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(a,b,c){this.bufferCtx.drawImage(this.video,0,0,b,2*c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(a){d.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),a.enableVertexAttribArray(0),a.viewport(0,0,this.output.width,this.output.height),this.doDebug?a.clearColor(0,0,0,.1):a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.program=this._compileProgram(a,this.SHADER_VERTEX,this.SHADER_FRAGMENT),a.useProgram(this.program),this._getGlDataLocations(a),this._createAndBindTexCoordData(a),this._createAndBindTexture(a),this._createAndBindVertexData(a)},_ieGlSetup:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(a){this.aTexCoord_loc=a.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=a.getAttribLocation(this.program,"aPosition"),this.uImage_loc=a.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(a){this.vbuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aPosition_loc),a.vertexAttribPointer(this.aPosition_loc,2,a.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(a){this.texCoordBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,.5,1,.5]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aTexCoord_loc),a.vertexAttribPointer(this.aTexCoord_loc,2,a.FLOAT,!1,0,0),a.uniform2f(a.getUniformLocation(this.program,"uHalfTexOffset"),0,.5)},_createAndBindTexture:function(a){this.stackTexture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.stackTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},_compileProgram:function(a,b,c){var d,e,f;return d=a.createShader(a.VERTEX_SHADER),a.shaderSource(d,b),a.compileShader(d),e=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(e,c),a.compileShader(e),f=a.createProgram(),a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),a.getShaderParameter(d,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",a.getShaderInfoLog(d)),a.getShaderParameter(e,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",a.getShaderInfoLog(e)),a.getProgramParameter(f,a.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",a.getProgramInfoLog(f)),f},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},b.exports=e},{"../alphalfa-utils.js":79}],86:[function(a,b,c){var d=function(a){this.name=a.name,this.frames=a.frames,this.frameSpeed=a.frameSpeed,this.loop=!!a.loop,this.maxLoops=null!=a.maxLoops?a.maxLoops:0,this.onComplete=a.onComplete,this.onCompleteCallback=a.onCompleteCallback,this.currentFrame=0,this.loopCount=0};d.prototype={getClone:function(){return new d({name:this.name,frames:this.frames,frameSpeed:this.frameSpeed,loop:this.loop,maxLoops:this.maxLoops,onComplete:this.onComplete,onCompleteCallback:this.onCompleteCallback})},incrementLoopCount:function(){this.loopCount++},overMaxLoops:function(){return 0===this.maxLoops?!1:this.loopCount>=this.maxLoops}},b.exports=d},{}],87:[function(a,b,c){var d=a("./animaniac-animation.js");a("../polyfills/request-animation-frame.js");var e=function(a){this.injectEl=a.injectEl,this.animations={},this.animationConfigs=a.animations,this.autoplayAnimationName=a.autoplay,this.pauseFrame=a.pauseFrame||0,this.sprites={width:a.spriteWidth,height:a.spriteHeight},this.sheet={width:a.sheetWidth,height:a.sheetHeight},this.url=a.url,this.ready=!1,this.init()};e.prototype={doDebug:!1,log:function(){if(this.doDebug){var a=["Animaniac: "].concat(arguments);window.console.log.apply(window.console,a)}},init:function(){this.el=document.createElement("div"),this.el.className="animaniac",this.setInitialStyle(),this.prepareCoords()},setInitialStyle:function(){for(var a={display:"block",width:this.sprites.width+"px",height:this.sprites.height+"px",backgroundColor:"transparent",backgroundPosition:"0 0",backgroundRepeat:"no-repeat",backgroundSize:this.sheet.width+"px "+this.sheet.height+"px"},b=Object.keys(a),c=0;c<b.length;c++)this.el.style[b[c]]=a[b[c]]},prepareCoords:function(){this.cellCoords=this.determineCellCoords(),this.pauseCell=this.cellCoords[this.pauseFrame],this.animations=this.processAnimationConfigs(this.animationConfigs),this.applySpritesheet(),this.autoplayAnimationName?this.playAnimation(this.autoplayAnimationName):this.showCoords(this.pauseCell)},determineCellCoords:function(){var a=[];this.sheet.cols=Math.round(this.sheet.width/this.sprites.width),this.sheet.rows=Math.round(this.sheet.height/this.sprites.height);for(var b=1,c=1,d=(this.sprites.width,this.sprites.height,this.sheet.width,this.sheet.height,this.sheet.cols<=1?0:100/(this.sheet.cols-1)),e=this.sheet.rows<=1?0:100/(this.sheet.rows-1);b<=this.sheet.cols&&c<=this.sheet.rows;)if(a.push({x:((b-1)*d).toFixed(5),y:((c-1)*e).toFixed(5)}),b<this.sheet.cols)b++;else{if(!(c<this.sheet.rows))break;b=1,c++}return a},applySpritesheet:function(){this.el.style.backgroundImage="url("+this.url+")",this.injectEl.appendChild(this.el),this.ready=!0},play:function(){this.unpause(),this.playAnimation(this.currentAnimation.name)},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},isPaused:function(){return this.paused},playAnimation:function(a){return this.ready||this.log("Not ready! TODO, add Queuer."),this.currentAnimation=this.animations[a].getClone(),this.currentAnimation?(this.unpause(),void this.startAnimation()):void this.log("Non-existent animation name passed to Animaniac.play()")},startAnimation:function(){this.boundHandleRequestAnimationFrame=this.handleRequestAnimationFrame.bind(this),this.timeSince=0,this.lastTS=Date.now(),this.nextFrame(),window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},handleRequestAnimationFrame:function(){var a=Date.now();this.timeSince>this.currentAnimation.frameSpeed?(this.nextFrame(),this.timeSince=0):(this.timeSince+=a-this.lastTS,this.lastTS=a),this.isPaused()?this.showCoords(this.pauseCell):window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},nextFrame:function(){var a=this.currentAnimation,b=a.currentFrame,c=a.frames[b];if(this.showCoords(c),this.hasNextFrame(a,b))a.currentFrame++;else{if(!a.loop||a.overMaxLoops()){var d=a.onCompleteCallback;if(this.isValidCallback(d)){var e=d.args?d.args:[];d.callback.apply(d.thisArg,e)}return void("string"==typeof a.onComplete?this.playAnimation(a.onComplete):this.pause())}a.incrementLoopCount(),a.currentFrame=0}},isValidCallback:function(a){return!!a&&a.callback&&a.thisArg},hasNextFrame:function(a,b){return!!a.frames[b+1]},showCoords:function(a){var b=a;("undefined"==typeof a||null==a.x||null==a.y)&&(this.log('Bad coords object passed to "showCoords".'),b=this.pauseCell),this.el.style.backgroundPosition=""+b.x+"% "+b.y+"%"},setAnimationCoords:function(a){for(var b=0;b<this.animations.length;b++)for(var c=this.animations[b],d=0;d<c.frames.length;d++)c.frames[d]=a[c.frames[d]]},processAnimationConfigs:function(a){null==a&&this.log("Must configure animations!");for(var b={},c=0;c<a.length;c++){for(var e=a[c],f=e.name,g=this.processFrameSeq(e.frames),h=[],i=0;i<g.length;i++){var j=g[i];h.push(this.cellCoords[j])}b[f]=new d({name:f,frames:h,frameSpeed:this.getFrameSpeed(e.fps||24),loop:!!e.loop,maxLoops:e.maxLoops,onComplete:e.onComplete,onCompleteCallback:e.onCompleteCallback})}return b},processFrameSeq:function(a){return Array.isArray(a)?this.processFrameSeqArray(a):"string"==typeof a?this.processFrameSeqString(a):(this.log("Warning, unsupported frame sequence format."),[0])},processFrameSeqArray:function(a){for(var b=a,c=(b.length,0);c<b.length;)if("string"==typeof b[c]){var d=this.processFrameSeqString(b[c]),e=c,f=1,g=d,h=[e,f].concat(g);b.splice.apply(b,h),c+=g.length}else c++;return b},processFrameSeqString:function(a){var b=[],c=a.split("-");if(2!==c.length)return[parseInt(c[0],10)];for(var d=0;d<c.length-1;d++){var e=c[d],f=c[d+1];b=b.concat(this.framesBetween(e,f))}return b},framesBetween:function(a,b){var c=parseInt(a,10),d=parseInt(b,10),e=d>c;return e?this._framesBetweenIncremental(c,d):this._framesBetweenDecremental(c,d)},_framesBetweenIncremental:function(a,b){var c=[],d=a;for(c.push(d);++d<=b;)c.push(d);return c},_framesBetweenDecremental:function(a,b){var c=[],d=a;for(c.push(d);--d>=b;)c.push(d);return c},getFrameSpeed:function(a){return 1e3/a}},b.exports=e},{"../polyfills/request-animation-frame.js":92,"./animaniac-animation.js":86}],88:[function(a,b,c){var d=a("./zoolander.js"),e=function(a){a.targetDate||console.warn("Countdowner :: Required argument not provided."),this.el=a.el||document.createElement("div"),this.id="countdowner-"+Date.now()+Math.floor(1e4*Math.random()),this.init(a)};e.prototype={defaults:{splitChar:"",doPad:!1,hideAfterRelease:!1,periods:["days","hours","minutes","seconds"],periodContainerCss:{display:"inline-block"},periodCountCss:{display:"inline-block"},labels:["Days","Hrs","Mins","Secs"],printLabels:!1,labelsBelow:!0,labelsCss:{display:"inline-block"}},classPrefix:"cd-",init:function(a){this.targetDate=this.determineTargetDate(a.targetDate),this.setConfig(a),a.hideAfterRelease&&this.timeRemaining()<=0||(this.zoo=a.zoolander||new d,this.injectCss(),this.initializeHtml(),this.printLabels&&this.initializeLabels(),this._render(),this.renderBind=this._render.bind(this),clearInterval(this.renderInterval),this.renderInterval=setInterval(this.renderBind,1e3))},setConfig:function(a){var b=this.addDefaults(a);delete b.targetDate;for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])},addDefaults:function(a){var b=a;for(var c in this.defaults)this.defaults.hasOwnProperty(c)&&(this.isDefined(a[c])||(b[c]=this.defaults[c]));return b},determineTargetDate:function(a){var b;if("object"==typeof a&&this.isDefined(a.month)){var c=a.date||a.day;b=new Date(a.year,a.month-1,c)}else"object"==typeof a&&a instanceof Date?b=a:"string"==typeof a?b=new Date(a):console.warn("No date or invalid date provided. Aborting Countdowner.");return b},makeEl:function(a,b){var c=this.isDefined(b)?b:"div",d=document.createElement(c);if("string"==typeof a)d.classList.add(this.classPrefix+a);else for(var e=0;e<a.length;e++)d.classList.add(this.classPrefix+a[e]);return d},initializeHtml:function(){this.container=this.makeEl("container"),this.container.id=this.id;var a=this.periods;this.periodEls=[];for(var b=a[a.length-1],c=0;c<a.length;c++){var d=this.makePeriodContainer(a[c]);this.container.appendChild(d),this.periodEls[a[c]]=d,this.splitChar&&""!==this.splitChar&&a[c]!==b&&this.container.appendChild(this.makeSplitContainer())}this.el.innerHTML="",this.el.appendChild(this.container)},appendCountChildren:function(a){var b=this.makeEl("count","div");a.appendChild(b)},makePeriodContainer:function(a){var b=this.makeEl([a,"period-container"]);return this.appendCountChildren(b),b},makeSplitContainer:function(){var a=this.makeEl("split-el","span");return a.innerHTML=" "+this.splitChar+" ",a},initializeLabels:function(){for(var a=0;a<this.labels.length;a++){var b=this.makeLabel(this.labels[a],this.periods[a]),c=this.periodEls[this.periods[a]];this.labelsBelow?c.appendChild(b):c.insertBefore(b,c.children[0])}},makeLabel:function(a,b){var c=this.makeEl(["label","label-"+b],"span");return c.innerHTML=a,c},msSec:1e3,msMin:6e4,msHour:36e5,msDay:864e5,timeRemaining:function(){var a=Date.now(),b=this.targetDate.valueOf()-a;return b>0?b:0},calcRemaining:function(){var a={days:0,hours:0,minutes:0,seconds:0},b=this.timeRemaining();if(0===b)return a;var c=b;if(a.days=Math.floor(c/this.msDay),c-=a.days*this.msDay,a.hours=Math.floor(c/this.msHour),c-=a.hours*this.msHour,a.minutes=Math.floor(c/this.msMin),c-=a.minutes*this.msMin,a.seconds=Math.floor(c/this.msSec),this.doPad)for(var d in a)a.hasOwnProperty(d)&&(a[d]=this.pad(a[d]));return a},pad:function(a){return a>=10?a:"0"+a},container:function(){return this.el.children[0]},el:function(a){return arguments.length?(this.el=a,this):this.el},_render:function(){var a=this.calcRemaining();this.periodEls.days.children[0].innerHTML=a.days,this.periodEls.hours.children[0].innerHTML=a.hours,this.periodEls.minutes.children[0].innerHTML=a.minutes,this.periodEls.seconds.children[0].innerHTML=a.seconds},injectCss:function(){var a="#"+this.id,b=a+" ."+this.classPrefix,c=[[a,{"box-sizing":"border-box"}],[a+" *",{"box-sizing":"inherit"}],[b+"period-container",this.periodContainerCss],[b+"count",this.periodCountCss],[b+"label",this.labelsCss]];this.zoo.insertRules(c)},isDefined:function(a){return"undefined"!=typeof a}},b.exports=e},{"./zoolander.js":107}],89:[function(a,b,c){function d(a,b){var c,d=!1,e=Object.keys(b),f=e.length,g=0;for(g;f>g&&!d;g++)c=e[g],d=a.hasOwnProperty(c);return d}function e(a){function b(a){var b=f(a);b.error||(I.push(f(a)),q())}function c(a){var b=I.indexOf(a);b>-1&&(I.splice(b,1),q())}function e(a){var b,c,d,e,g=a&&a.length>0;if(!g)return null;for(b=[],c=a.length-1;-1!==c;c--)d=a[c],e=f(d),d.error||b.push(e);return b}function i(){return I}function j(){return D}function k(a){var b,c=null,d=I&&I.length>0?I.length:0,e=0;for(e;d>e&&null===c;e++)b=I[e],c=b.time>a?b:c;return c}function l(){return B}function m(a){var b=a.length>0?a:[];I=e(b)}function n(a){D=a}function o(a){null!==B&&x(),B=a,"undefined"==typeof B||"VIDEO"!==B.tagName&&"AUDIO"!==B.tagName||(w(),B.duration>0&&q())}function p(a,b){return a.time<b.time?-1:a.time>b.time?1:0}function q(){var a,b;if(I&&0!==I.length){for(b=I.length-1;-1!==b;b--)a=I[b],a.adjustToDuration(B.duration);I.sort(p),E=k(B.currentTime)}}function r(){null!==E&&E.time<=B.currentTime&&(F=E,D||(F.trigger(B),C.notify(h.onCuepoint,[F,B])),E=k(B.currentTime)),G&&window.requestAnimationFrame(r)}function s(){E=k(B.currentTime)}function t(){G=!0,r()}function u(){G=!1}function v(){G&&"hidden"===document.visibilityState&&B.addEventListener("timeupdate",r),"hidden"!==document.visibilityState&&B.removeEventListener("timeupdate",r)}function w(){H||(H=!0,B.addEventListener("durationchange",q),B.addEventListener("seeked",s),B.addEventListener("playing",t),B.addEventListener("pause",u),B.addEventListener("ended",u),B.addEventListener("abort",u),B.addEventListener("emptied",u),B.addEventListener("error",u),B.addEventListener("stalled",u),B.addEventListener("waiting",u),document.addEventListener("visibilitychange",v))}function x(){H&&(H=!1,B.removeEventListener("durationchange",q),B.removeEventListener("seeked",s),B.removeEventListener("playing",t),B.removeEventListener("pause",u),B.removeEventListener("ended",u),B.removeEventListener("abort",u),B.removeEventListener("emptied",u),B.removeEventListener("error",u),B.removeEventListener("stalled",u),B.removeEventListener("waiting",u),B.removeEventListener("timeupdate",r),document.removeEventListener("visibilitychange",v))}function y(){x(),C.clear(),G=!1,E=null,F=null,I=null,B=null}function z(a){d(a,h)?C.subscribe(a):console.warn("CuepointEngine.subscribe() :: observer must have valid notification keys!\n	Valid notification keys = '"+Object.keys(h).join("', '")+"'\n	Observer:",a)}function A(a){var b=a.cuepoints&&a.cuepoints.length>0?a.cuepoints:[];I=e(b),o(a.media),a.observer&&z(a.observer)}var B,C=g(),D=!1,E=null,F=null,G=!1,H=!1,I=[];return A(a),{init:A,start:w,stop:x,destroy:y,getCuepoints:i,setCuepoints:m,addCuepoint:b,removeCuepoint:c,getMedia:l,setMedia:o,getIgnoreCuepoints:j,setIgnoreCuepoints:n,subscribe:z,unsubscribe:C.unsubscribe,NOTIFICATIONS:h}}a("../polyfills/request-animation-frame.js");var f=a("./cuepoint.js"),g=a("../utils/notifier.js"),h={onCuepoint:"onCuepoint"};Object.defineProperty(e,"NOTIFICATIONS",{value:h,writable:!1,enumerable:!0,configurable:!1}),b.exports=e},{"../polyfills/request-animation-frame.js":92,
"../utils/notifier.js":105,"./cuepoint.js":90}],90:[function(a,b,c){function d(a,b){var c;switch(!0){case"s"===b:c=a;break;case"%"===b:c=a/100;break;default:c=a/1e3}return c}function e(a){var b,c={},d=a.replace(/(\D{1,})([\d])/g,"$1,$2").split(","),e=0,f=d.length;for(e;f>e;e++)b=d[e].split(/(\D{1,})/),c[b[1]]=parseInt(b[0],10);return c}function f(a){var b=e(a),c={m:6e4,s:1e3,ms:1},d=Object.keys(b).reduce(function(a,d){return a+b[d]*c[d]},0);return d}function g(a){if(!a||!a.hasOwnProperty("time"))return{time:-1,error:"Cuepoint Error: cuepointData is invalid",data:a};var b,c={},e=[],g=a.time,h="string"==typeof g,i=h?g.match(/\-?\d+([%msh]+)/):[],j=i&&i.length>0?i[1]:"ms";switch(!0){case h&&"%"===j:b=parseInt(g,10);break;case!h:b=g;break;case h&&0===g.indexOf("-")||0>g:b=-f(g.substring(1)),j="ms";break;default:b=f(g),j="ms"}return c.timestamp=g,c.endOffset=0>b,c.durationDependent="%"===j||c.endOffset,c.time=d(b,j),c.name=a.hasOwnProperty("name")?a.name:"Unnamed Cuepoint",c.type=a.hasOwnProperty("type")?a.type:"cuepoint",c.data=a.hasOwnProperty("data")?a.data:{},a.hasOwnProperty("callback")&&"function"==typeof a.callback&&(c.callback=a.callback),c.trigger=function(a){return c.callback&&c.callback(c,a),e.push(Date.now()),c},c.reset=function(){e=[]},c.getHistory=function(){return e},c.adjustToDuration=function(a){var d;return"%"===j&&(d=a*(b/100),c.time=d),c.endOffset&&(d=a+b/1e3,c.time=d),c},c}b.exports=g},{}],91:[function(a,b,c){var d=a("./alphalfa/alphalfa.js"),e=a("./animaniac/animaniac.js"),f=a("./countdowner.js"),g=a("./cuepoints/cuepoint-engine.js"),h=a("./reely/reely.js"),i=a("./uatu.js"),j=a("./zoolander.js"),k={AlphalfaPlayer:d,Animaniac:e,Countdowner:f,CuepointEngine:g,Reely:h,Uatu:i,Zoolander:j};window.ad_design=k,b.exports=k},{"./alphalfa/alphalfa.js":80,"./animaniac/animaniac.js":87,"./countdowner.js":88,"./cuepoints/cuepoint-engine.js":89,"./reely/reely.js":103,"./uatu.js":104,"./zoolander.js":107}],92:[function(a,b,c){/*!
 requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel

 MIT license
*/
!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}()},{}],93:[function(a,b,c){var d={DEFAULT_SPRITESHEET:"https://m.media-amazon.com/images/G/01/IMDb/design/modules/reely/sprites/reely-ui._V503633707_.png",DEFAULT_OVERLAY_SPRITESHEET:"https://m.media-amazon.com/images/G/01/IMDb/design/modules/reely/sprites/reely-overlay._V503633712_.png"};b.exports=d},{}],94:[function(a,b,c){var d=a("./reely-scrubber.js"),e=a("./reely-css-classes.js"),f=a("./reely-el-maker.js"),g=a("./reely-events.js"),h=function(a){this.eventBus=a.eventBus,this.spriteDimensions=a.spriteDimensions,this.controlBarConfig=a.controlBarConfig,this.spritesheet=a.spritesheet,this.zoo=a.zoo,this.init()};h.prototype={FADE_DELAY_SECS:2,init:function(){this.el=f.make("div",e.CONTROL_BAR_CONTAINER),this.el.style.display="none",this.controlBar=f.make("div",[e.CONTROL_BAR,e.REPEAT_X_SPRITE+"-controlsBG"]),this.appendTableLayoutDivs(this.controlBar),this.injectControlsStyles(),this.populateControls(),this.el.appendChild(this.controlBar),this.controlBarConfig.autohide&&(this.fadeOutBind=this.fadeOut.bind(this),this.resetFadeOutDelay(),this.autohideListen()),this.broadcastInteraction(),this.listen()},populateControls:function(){this.createControlButtons(),this.scrubber=new d({eventBus:this.eventBus,spritesheet:this.spritesheet,spriteDimensions:this.spriteDimensions,zoo:this.zoo}),this.midCell.appendChild(this.scrubber.getEl())},clearFadeOutDelay:function(){clearTimeout(this.fadeOutDelay)},resetFadeOutDelay:function(){this.clearFadeOutDelay(),this.fadeOutDelay=setTimeout(this.fadeOutBind,1e3*this.FADE_DELAY_SECS)},fadeIn:function(){e.remove(this.el,e.TRANSPARENT),this.eventBus.trigger(g.FADE_IN_START)},fadeOut:function(){e.add(this.el,e.TRANSPARENT),this.eventBus.trigger(g.FADE_OUT_START)},broadcastInteraction:function(){this.el.addEventListener("mousemove",this.eventBus.triggers[g.MOUSE_MOVE])},listen:function(){this.eventBus.addEventListener(g.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(g.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.addEventListener(g.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.addEventListener(g.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.addEventListener(g.UNMUTED,this.toggleMuteUnmute,this,"muted")},autohideListen:function(){this.eventBus.addEventListener(g.MOUSE_IN,this.onMouseIn,this),this.eventBus.addEventListener(g.MOUSE_OUT,this.onMouseOut,this),this.eventBus.addEventListener(g.MOUSE_MOVE,this.onMouseMove,this)},teardown:function(){this.clearFadeOutDelay(),this.scrubber.teardown(),this.el.removeEventListener("mousemove",this.eventBus.triggers[g.MOUSE_MOVE]),this.eventBus.removeEventListener(g.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(g.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.removeEventListener(g.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.removeEventListener(g.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.removeEventListener(g.UNMUTED,this.toggleMuteUnmute,this,"muted"),this.eventBus.removeEventListener(g.MOUSE_IN,this.onMouseIn,this),this.eventBus.removeEventListener(g.MOUSE_OUT,this.onMouseOut,this),this.eventBus.removeEventListener(g.MOUSE_MOVE,this.onMouseMove,this)},onLoadedData:function(a){this.el.style.display=""},togglePlayPause:function(a){var b=this.isToggled(this.playPause),c=!b&&"play"===a||b&&"pause"===a;c&&this.toggleTwoState(this.playPause)},toggleMuteUnmute:function(a){var b=this.isToggled(this.muteUnmute),c=!b&&"muted"===a||b&&"unmuted"===a;c&&this.toggleTwoState(this.muteUnmute)},isToggled:function(a){return e.contains(a,e.TOGGLED)},toggleTwoState:function(a){this.isToggled(a)?e.remove(a,e.TOGGLED):e.add(a,e.TOGGLED)},onMouseIn:function(a){this.fadeIn()},onMouseMove:function(a){this.fadeIn(),this.resetFadeOutDelay()},onMouseOut:function(a){this.resetFadeOutDelay()},appendTableLayoutDivs:function(a){this.midCell=f.make("div",e.CONTROL_BAR_MID),this.leftCell=f.make("div",e.CONTROL_BAR_LEFT),this.rightCell=f.make("div",e.CONTROL_BAR_RIGHT),a.appendChild(this.midCell),a.appendChild(this.leftCell),a.appendChild(this.rightCell)},createControlButtons:function(){this.playPause=f.createTwoStateButton("play-pause",[{defaultIconName:"play",hoverIconName:"play-hover"},{defaultIconName:"pause",hoverIconName:"pause-hover"}]),this.muteUnmute=f.createTwoStateButton("mute-unmute",[{defaultIconName:"sound-off",hoverIconName:"sound-off-hover"},{defaultIconName:"sound-on",hoverIconName:"sound-on-hover"}]),this.playPause.addEventListener("click",this.eventBus.triggerBind(g.PLAY_PAUSE_TOGGLE)),this.leftCell.appendChild(this.playPause),this.muteUnmute.addEventListener("click",this.eventBus.triggerBind(g.MUTE_UNMUTE_TOGGLE)),this.rightCell.appendChild(this.muteUnmute)},injectControlsStyles:function(){var a=[];a=a.concat(this.getButtonStyles()),a=a.concat(this.getControlBarStyles()),this.zoo.insertRules(a)},determineButtonVisualWidth:function(){return this.spriteDimensions.spriteWidth+2*this.spriteDimensions.buttonPadding},determineContainerStyles:function(){var a=this.controlBarConfig,b={position:"absolute",display:"inline-block",height:a.height+"px",width:"100%",transition:"opacity 1s ease"};return"center"===a.anchorX&&(b.margin="0 auto",b.textAlign="center"),b[a.anchorY]=a.offsetY,b},determineBarElStyles:function(){var a=this.controlBarConfig,b={position:"relative",display:"block",height:"inherit",width:a.width,"background-color":"transparent","background-position":"0 0","background-repeat":"repeat-x"};return this.controlBarConfig.hideBG||(b["background-image"]='url("'+this.spritesheet.getSrc()+'")'),"center"===a.anchorX?b.margin="0 auto":b[a.anchorX]=a.offsetX,b},getButtonStyles:function(){return[["."+e.BUTTON_ICON,{height:this.spriteDimensions.spriteHeight+"px",width:this.spriteDimensions.spriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getControlBarStyles:function(){var a=this.determineButtonVisualWidth(),b=this.determineContainerStyles(),c=this.determineBarElStyles(),d=[["."+e.CONTROL_BAR_CONTAINER,b],["."+e.CONTROL_BAR,c],[["."+e.CONTROL_BAR_LEFT,"."+e.CONTROL_BAR_RIGHT],{display:"inline-block",height:"100%",width:a+"px"}],["."+e.CONTROL_BAR_LEFT,{"float":"left"}],["."+e.CONTROL_BAR_RIGHT,{"float":"right"}],["."+e.CONTROL_BAR_MID,{position:"absolute",left:"0",display:"block",height:"100%",width:"100%","box-sizing":"border-box","padding-left":a+"px","padding-right":a+"px"}]];return d}},b.exports=h},{"./reely-css-classes.js":95,"./reely-el-maker.js":96,"./reely-events.js":98,"./reely-scrubber.js":101}],95:[function(a,b,c){var d={CONTAINER:"reely-container",VIDEO:"reely-video",OVERLAY_CONTAINER:"reely-overlay-container",OVERLAY_SLATE:"reely-overlay-slate",CONTROL_BAR_CONTAINER:"reely-control-bar-container",CONTROL_BAR:"reely-control-bar",CONTROL_BAR_LEFT:"reely-control-bar-left",CONTROL_BAR_RIGHT:"reely-control-bar-right",CONTROL_BAR_MID:"reely-control-bar-mid",BUTTON:"reely-button",BUTTON_ICON:"reely-button-icon",BUTTON_ICON_LARGE:"reely-button-icon-large",TWO_STATE_BUTTON:"reely-two-state",TWO_STATE_DEFAULT:"reely-two-state-default",TWO_STATE_ALT:"reely-two-state-toggled",REPEAT_X_SPRITE:"reely-repeat-x-sprite",ICON_LARGE:"reely-icon-large",ICON:"reely-icon",ICON_DEFAULT:"reely-default-icon",ICON_HOVER:"reely-hover-icon",ICON_ACTIVE:"reely-toggle-active",ICON_DOWN:"reely-toggle-down",LOADING_SPINNER:"reely-loading-spinner",SCRUBBER_CONTAINER:"reely-scrubber-container",TOGGLED:"reely-toggled",UNSELECTABLE:"reely-unselectable",HIDDEN:"reely-hidden",INVISIBLE:"reely-invisible",TRANSPARENT:"reely-transparent",add:function(a,b){switch("undefined"==typeof b&&console.warn("Attempted to add() an undefined class."),this.mode()){case"modern":return a.classList.add(b);case"oldIE":return a.className+=" "+b}},contains:function(a,b){switch("undefined"==typeof b&&console.warn("Attempted to check contains() an undefined class."),this.mode()){case"modern":return a.classList.contains(b);case"oldIE":return-1!==a.className.split(" ").indexOf(b)}},remove:function(a,b){"undefined"==typeof b&&console.warn("Attempted to remove() an undefined class."),this._removeClass||(this._removeClass=this.removeModes[this.mode()]),this._removeClass(a,b)},removeModes:{modern:function(a,b){a.classList.remove(b)},oldIE:function(a,b){var c=a.className.split(" "),d=c.indexOf(b);-1!==d&&c.splice(d,1),a.className=c.join(" ")}},mode:function(){if(!this._mode){var a=document.createElement("div");this._mode="classList"in a?"modern":"oldIE",a=void 0}return this._mode}};b.exports=d},{}],96:[function(a,b,c){var d=a("./reely-css-classes.js"),e={make:function(a,b,c){var d=document.createElement(a);return d.setAttribute("class",this.arrayWrap(b).join(" ")),c&&(d.id=c),d},createIcon:function(a,b){return this._createIcon(d.ICON,a,b)},createLargeIcon:function(a,b){return this._createIcon(d.ICON_LARGE,a,b)},_createIcon:function(a,b,c){var d=this.concatClasses([a,a+"-"+b],c);return this.make("div",d)},createRepeatXSprite:function(a,b){var c=this.concatClasses([d.REPEAT_X_SPRITE,d.REPEAT_X_SPRITE+"-"+a],b);return this.make("div",c)},createSpriteEl:function(a,b){var c=a;return b&&(c=this.concatClasses(c,b)),this.make("div",c)},concatClasses:function(a,b){return b?"string"==typeof b?(a.push(b),a):a.concat(b):a},createTwoStateButton:function(a,b){var c=this.createIcon,e=d.BUTTON_ICON;return this._createTwoStateButton(a,b,e,c)},createLargeTwoStateButton:function(a,b){var c=this.createLargeIcon,e=d.BUTTON_ICON_LARGE;return this._createTwoStateButton(a,b,e,c)},_createTwoStateButton:function(a,b,c,e){var f=this.make("div",[d.TWO_STATE_BUTTON,d.TWO_STATE_BUTTON+"-"+a]),g=this.createButtonState(b[0],d.TWO_STATE_DEFAULT,c,e),h=this.createButtonState(b[1],d.TWO_STATE_ALT,c,e);return f.appendChild(g),f.appendChild(h),f},createButtonState:function(a,b,c,e){return e||(e=this.createIcon),c||(c=d.BUTTON_ICON),this._createButtonState(a,b,c,e)},_createButtonState:function(a,b,c,e){var f=[d.BUTTON,d.UNSELECTABLE];f.push(c),b&&(f=f.concat(this.arrayWrap(b)));var g=this.make("div",f),h=e.call(this,a.defaultIconName,d.ICON_DEFAULT),i=e.call(this,a.hoverIconName,d.ICON_HOVER);return g.appendChild(h),g.appendChild(i),g},arrayWrap:function(a){return"undefined"==typeof a?[]:"[object Array]"!==Object.prototype.toString.call(a)?[a]:a}};b.exports=e},{"./reely-css-classes.js":95}],97:[function(a,b,c){var d=a("./reely-events.js"),e=function(){this.init()};e.prototype={reelyEvents:[],init:function(){this.triggers={},this.listeners={},this.reelyEvents=this.getReelyEventsArray();for(var a=0;a<this.reelyEvents.length;a++){var b=this.reelyEvents[a];this.triggers[b]=this.triggerBind(b),this.listeners[b]=[]}},getReelyEventsArray:function(){var a=[];for(var b in d)d.hasOwnProperty(b)&&a.push(d[b]);return a},addEventListener:function(a,b,c){this.listeners[a]||console.warn("Attempted to addEventListener with unsupported event :: ",a);var d=Array.prototype.slice.call(arguments);d.splice(0,3);var e={callback:b,context:c,args:d};this.listeners[a].push(e)},removeEventListener:function(a,b,c){this.listeners[a]||console.warn("Attempted to removeEventListener with unsupported event :: ",a);for(var d,e=this.listeners[a].slice(),f=0;f<e.length;f++)if(d=e[f],d.callback===b&&d.context===c){e.splice(f,1);break}this.listeners[a]=e},triggerBind:function(a,b){return this.trigger.bind(this,a)},trigger:function(a){this.listeners[a]||console.warn("Attempted to trigger an unsupported event :: ",a);var b=Array.prototype.slice.call(arguments);b.splice(0,1);for(var c,d=this.listeners[a],e=[],f=0;f<d.length;f++)c=d[f],e=c.args.concat(b),c.callback.apply(c.context,e)}},b.exports=e},{"./reely-events.js":98}],98:[function(a,b,c){var d={STARTED:"started",PLAY_PAUSE_TOGGLE:"playPauseToggle",MUTE_UNMUTE_TOGGLE:"muteUnmuteToggle",SCRUBBER_BAR_CLICK:"scrubberBarClick",MOUSE_IN:"mouseIn",MOUSE_OUT:"mouseOut",MOUSE_MOVE:"mouseMove",MUTED:"muted",UNMUTED:"unmuted",VID_LOADSTART:"video:loadstart",VID_LOADEDMETADATA:"video:loadedmetadata",VID_LOADEDDATA:"video:loadeddata",VID_CANPLAY:"video:canplay",VID_CANPLAYTHROUGH:"video:canplaythrough",VID_WAITING:"video:waiting",VID_PROGRESS:"video:progress",VID_SUSPEND:"video:suspend",VID_PLAY:"video:play",VID_PLAYING:"video:playing",VID_PAUSE:"video:pause",VID_TIMEUPDATE:"video:timeupdate",VID_ENDED:"video:ended",FADE_OUT_START:"reely:fadeoutstart",FADE_IN_START:"reely:fadeinstart"};b.exports=d},{}],99:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=function(a){this.eventBus=a.eventBus,this.zoo=a.zoo,this.init()};g.prototype={PROGRESS_TICKS_TO_SHOW:5,init:function(){this.el=e.make("div",d.LOADING_SPINNER+"-outer-container"),this.innerContainer=e.make("div",d.LOADING_SPINNER+"-inner-container"),this.spinner=e.make("div",d.LOADING_SPINNER),this.innerContainer.appendChild(this.spinner),this.el.appendChild(this.innerContainer),this.injectLoadingSpinnerCSS(),this.progressTicks=0,this.listen()},listen:function(){this.eventBus.addEventListener(f.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.addEventListener(f.VID_PROGRESS,this.onProgress,this),this.eventBus.addEventListener(f.VID_SUSPEND,this.onSuspend,this),this.eventBus.addEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(f.VID_PAUSE,this.onPause,this)},teardown:function(){this.eventBus.removeEventListener(f.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.removeEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.removeEventListener(f.VID_PROGRESS,this.onProgress,this),this.eventBus.removeEventListener(f.VID_SUSPEND,this.onSuspend,this),this.eventBus.removeEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.removeEventListener(f.VID_PAUSE,this.onPause,this)},onPlay:function(){this.isPlaying=!0,this.progressTicks=0},onPause:function(){this.isPlaying=!1,this.progressTicks=0},onLoadedMetadata:function(){this.show()},onCanPlay:function(){this.hide()},onSuspend:function(){this.progressTicks=0},onProgress:function(){this.isPlaying&&(this.progressTicks++,this.progressTicks>=this.PROGRESS_TICKS_TO_SHOW&&this.show())},onTimeUpdate:function(){this.progressTicks=0,this.hide()},hide:function(){this.isHidden||(this.isHidden=!0,d.add(this.el,d.HIDDEN),d.remove(this.spinner,d.TRANSPARENT))},show:function(){this.isHidden&&(this.isHidden=!1,d.remove(this.el,d.HIDDEN),d.remove(this.spinner,d.TRANSPARENT))},injectLoadingSpinnerCSS:function(){var a="loading-spinner-spin";this.zoo.insertKeyframes(a,this.getSpinnerKeyframes());var b=[];b=b.concat(this.getSpinnerStyles()),this.zoo.insertRules(b),this.zoo.insertAnimation("."+d.LOADING_SPINNER,"animation",a+" 1.6s linear infinite")},getSpinnerKeyframes:function(){return{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(359deg)"}}},getSpinnerStyles:function(){return[["."+d.LOADING_SPINNER+"-outer-container",{position:"absolute",top:"50%",left:"50%",height:0,width:0}],["."+d.LOADING_SPINNER+"-inner-container",{display:"block",height:"64px",width:"64px",transform:"translate(-50%, -50%)"}],["."+d.LOADING_SPINNER,{display:"block","box-sizing":"border-box",height:"64px",width:"64px",background:"transparent","border-radius":"50%","border-top":"7px solid rgba(255, 255, 255, 1)","border-right":"7px solid rgba(255, 255, 255, 0.5)","border-bottom":"7px solid rgba(255, 255, 255, 0.5)","border-left":"7px solid rgba(255, 255, 255, 0.5)",transition:"opacity 1s ease-out"}]]}},b.exports=g},{"./reely-css-classes.js":95,"./reely-el-maker.js":96,"./reely-events.js":98}],100:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=a("./reely-loading-spinner.js"),h=function(a){this.eventBus=a.eventBus,this.spritesheet=a.spritesheet,this.spriteDimensions=a.spriteDimensions,this.slate=a.slate,this.zoo=a.zoo,this.loadingSpinner=new g(a),this.init()};h.prototype={init:function(){this.el=e.make("div",d.OVERLAY_CONTAINER),this.isPlaying(!1),this.isEnded(!1),this.showSlate(),this.playReplay=e.createLargeTwoStateButton("overlay-play-pause",[{defaultIconName:"overlay-play",hoverIconName:"overlay-play-hover"},{defaultIconName:"overlay-replay",hoverIconName:"overlay-replay-hover"}]),this.el.appendChild(this.playReplay),this.el.appendChild(this.loadingSpinner.el),this.hide(),this.broadcastInteraction(),this.injectOverlayStyles(),this.listen()},hide:function(){d.add(this.playReplay,d.TRANSPARENT)},show:function(){d.remove(this.playReplay,d.TRANSPARENT)},hideSlate:function(){d.remove(this.el,d.OVERLAY_SLATE)},showSlate:function(){d.add(this.el,d.OVERLAY_SLATE)},listen:function(){this.eventBus.addEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.addEventListener(f.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(f.VID_PAUSE,this.onPause,this),this.eventBus.addEventListener(f.VID_ENDED,this.onVideoEnded,this)},teardown:function(){this.loadingSpinner.teardown(),this.el.removeEventListener("click",this.eventBus.triggers[f.PLAY_PAUSE_TOGGLE]),this.el.removeEventListener("mouseenter",this.eventBus.triggers[f.MOUSE_IN]),this.el.removeEventListener("mouseleave",this.eventBus.triggers[f.MOUSE_OUT]),this.el.removeEventListener("mousemove",this.eventBus.triggers[f.MOUSE_MOVE]),this.eventBus.removeEventListener(f.VID_CANPLAY,this.onLoadedMetadata,this),this.eventBus.removeEventListener(f.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.removeEventListener(f.VID_PAUSE,this.onPause,this),this.eventBus.removeEventListener(f.VID_ENDED,this.onVideoEnded,this)},broadcastInteraction:function(){this.el.addEventListener("click",this.eventBus.triggers[f.PLAY_PAUSE_TOGGLE]),this.el.addEventListener("mouseenter",this.eventBus.triggers[f.MOUSE_IN]),this.el.addEventListener("mouseleave",this.eventBus.triggers[f.MOUSE_OUT]),this.el.addEventListener("mousemove",this.eventBus.triggers[f.MOUSE_MOVE])},onCanPlay:function(){this.isPlaying()||this.show()},onScrubberBarClick:function(){this.setToPlayIcon(),this.hideSlate()},onPlay:function(){this.setToPlayIcon(),this.isEnded(!1),this.isPlaying(!0),this.hide(),this.hideSlate()},onPause:function(){this.isPlaying(!1),this.show()},onVideoEnded:function(){this.setToReplayIcon(),this.isEnded(!0),this.show(),this.showSlate()},setToPlayIcon:function(){d.remove(this.playReplay,d.TOGGLED)},setToReplayIcon:function(){d.add(this.playReplay,d.TOGGLED)},isPlaying:function(a){return null!=a&&(this._isPlaying=a),this._isPlaying},isEnded:function(a){return null!=a&&(this._isEnded=a),this._isEnded},injectOverlayStyles:function(){var a=[];a=a.concat(this.getContainerStyles()),a=a.concat(this.getSlateStyles()),a=a.concat(this.getButtonStyles()),a=a.concat(this.getHoverOverrideStyles()),this.zoo.insertRules(a)},getContainerStyles:function(){return[["."+d.OVERLAY_CONTAINER,{position:"absolute",top:0,left:0,display:"block",height:"100%",width:"100%",cursor:"pointer","text-align":"center"}],["."+d.OVERLAY_CONTAINER+" *",{visibility:"inherit"}]]},getSlateStyles:function(){return this.slate?[["."+d.OVERLAY_SLATE,{background:"url("+this.slate+") no-repeat center center transparent","background-size":"contain"}]]:[]},getButtonStyles:function(){return[["."+d.OVERLAY_CONTAINER+" ."+d.TWO_STATE_BUTTON,{top:"50%",left:"50%"}],["."+d.OVERLAY_CONTAINER+" ."+d.BUTTON_ICON_LARGE,{transform:"translate(-50%, -50%)"}],["."+d.BUTTON_ICON_LARGE,{height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getHoverOverrideStyles:function(){var a=d;return[[["."+a.OVERLAY_CONTAINER+" ."+a.TWO_STATE_BUTTON+" ."+a.TWO_STATE_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.TWO_STATE_BUTTON+" ."+a.TWO_STATE_DEFAULT],{visibility:"inherit"}],[["."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_HOVER],{opacity:1}],[["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_HOVER],{opacity:0}],[["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]}},b.exports=h},{"./reely-css-classes.js":95,"./reely-el-maker.js":96,"./reely-events.js":98,"./reely-loading-spinner.js":99}],101:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=function(a){this.eventBus=a.eventBus,this.spritesheet=a.spritesheet,this.spriteDimensions=a.spriteDimensions,this.zoo=a.zoo,this.init()};g.prototype={init:function(){this.el=e.make("div",d.SCRUBBER_CONTAINER),this.el.addEventListener("click",this.onScrubberClick.bind(this)),this.els=this.createScrubberBarEls(),this.appendEls(),this.injectScrubberStyles(),this.listen()},getEl:function(){return this.el},appendEls:function(){this.el.appendChild(this.els.bg),this.el.appendChild(this.els.buffered),this.el.appendChild(this.els.played),this.el.appendChild(this.els.thumb)},createScrubberBarEls:function(){var a={};return a.bg=e.createRepeatXSprite("scrubber-bg"),a.played=e.createRepeatXSprite("scrubber-played-bg"),a.played.style.width=0,a.buffered=e.createRepeatXSprite("scrubber-buffered-bg"),a.buffered.style.width=0,a.thumb=e.createButtonState({defaultIconName:"scrubber-tab",hoverIconName:"scrubber-tab-hover"},d.BUTTON+"-scrubber-tab"),a},listen:function(){this.eventBus.addEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this)},teardown:function(){this.eventBus.removeEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this)},onPlay:function(a){this.lastUpdateMs=Date.now()},onTimeUpdate:function(a){var b,c=Date.now();this.lastUpdateMs&&(b=(c-this.lastUpdateMs)/1e3);var d=a.target,e=d.currentTime/d.duration;this.setScrubberBar(e,b);var f=this.determineBufferedFraction(d.buffered,d.duration);this.setBufferBar(f),this.lastUpdateMs=c},setScrubberTransition:function(a){a?(this.els.played.style.transition="width "+a+"s linear",this.els.thumb.style.transition="left "+a+"s linear"):(this.els.played.style.transition="",this.els.thumb.style.transition="")},onScrubberClick:function(a){if(!d.contains(a.target,"reely-icon")){var b="undefined"!=typeof a.offsetX?a.offsetX:a.layerX,c=b/this.el.clientWidth;this.eventBus.trigger(f.SCRUBBER_BAR_CLICK,{clickedFraction:c})}},setScrubberBar:function(a,b){this.setScrubberTransition(b||void 0);var c=100*a,d=this.el.clientWidth,e=d*a-this.els.thumb.clientWidth/2;this.els.played.style.width=c+"%",this.els.thumb.style.left=e+"px"},setBufferBar:function(a){var b=100*a;this.els.buffered.style.width=b+"%"},determineBufferedFraction:function(a,b){for(var c=0,d=0,e=0;e<a.length;e++){var f=a.end(0)-a.start(0);d+=f}return d>0&&(c=d/b),c},injectScrubberStyles:function(){var a=[];a=a.concat(this.getScrubberBarStyles()),a=a.concat(this.getScrubberThumbOverrideStyles()),this.zoo.insertRules(a)},getScrubberBarStyles:function(){return[["."+d.SCRUBBER_CONTAINER,{position:"relative",height:"100%",width:"100%","box-sizing":"border-box",overflow:"initial","padding-top":this.spriteDimensions.buttonPadding+"px","padding-bottom":this.spriteDimensions.buttonPadding+"px"}],["."+d.BUTTON+"-scrubber-tab",{position:"absolute",top:0,left:"-"+this.spriteDimensions.spriteWidth/2+"px","padding-left":0,"padding-right":0,"pointer-events":"none"}]]},getScrubberThumbOverrideStyles:function(){return[["."+d.SCRUBBER_CONTAINER+" ."+d.ICON_HOVER,{left:0}]]}},b.exports=g},{"./reely-css-classes.js":95,"./reely-el-maker.js":96,"./reely-events.js":98}],102:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-config.js"),f=function(a){this.spriteDimensions=a.spriteDimensions,this.controlBarConfig=a.controlBarConfig,this.zoo=a.zoo,this.spritesheetUrls=this.determineSpritesheetUrls(a.spritesheetUrls),this.overlaySpritesheetUrls=this.determineOverlaySpritesheetUrls(a.overlaySpritesheetUrls),this.init()};f.prototype={TEMP_FORCE_PNG_SPRITESHEET:!0,init:function(){this.doesSupportSVG=this.supportsSVG(),this.spritesheetSrc=this.determineSpritesheetMode(this.spritesheetUrls),this.overlaySpritesheetSrc=this.determineSpritesheetMode(this.overlaySpritesheetUrls),this.spritesData=this.initSpritesData(),this.injectSpritesheetCSS()},getSrc:function(){return this.spritesheetSrc},getOverlaySrc:function(){return this.overlaySpritesheetSrc},supportsSVG:function(){return"undefined"!=typeof SVGRect},determineSpritesheetMode:function(a){return!this.TEMP_FORCE_PNG_SPRITESHEET&&this.doesSupportSVG&&a.svg?a.svg:a.png},initSpritesData:function(){var a={},b=0;return b=this.addControlsBGData(a,b),b=this.addRepeatXData(a,b),b=this.addIconData(a,b),this.addLargeIconData(a),a},addControlsBGData:function(a,b){var c=this.controlBarConfig.height;return a.controlsBG={type:"repeat-x",h:c,x:0,y:b},b+c},addRepeatXData:function(a,b){for(var c,d=b,e=this.spriteDimensions.spriteHeight,f=["scrubber-bg","scrubber-played-bg","scrubber-buffered-bg"],g=0;g<f.length;g++)c=f[g],a[c]={type:"repeat-x",h:e,x:0,y:d},d+=e;return d},addIconData:function(a,b){for(var c,d,e,f=this.spriteDimensions.spriteHeight,g=this.spriteDimensions.spriteWidth,h=["scrubber-tab","scrubber-tab-hover","scrubber-tabDown","","play","play-hover","pause","pause-hover","sound-off","sound-off-hover","sound-on","sound-on-hover"],i=b,j=0;j<h.length;j++)c=h[j],d=j%2,e=d?g:0,""!==c&&(a[c]={type:"icon",w:g,h:f,x:e,y:i}),i=d?i+f:i;return i},addLargeIconData:function(a,b){for(var c,d=this.spriteDimensions.overlaySpriteWidth,e=this.spriteDimensions.overlaySpriteHeight,f=["overlay-play","overlay-play-hover","overlay-replay","overlay-replay-hover"],g=0,h=0;h<f.length;h++)c=f[h],a[c]={type:"icon-large",w:d,h:e,x:0,y:g},g+=e;return g},determineSpritesheetUrls:function(a){var b={png:e.DEFAULT_SPRITESHEET};return this._determineSpritesheetUrls(a,b)},determineOverlaySpritesheetUrls:function(a){var b={png:e.DEFAULT_OVERLAY_SPRITESHEET};return this._determineSpritesheetUrls(a,b)},_determineSpritesheetUrls:function(a,b){var c={},d=a&&Object.keys(a).length&&a.png;return d?c.png=a.png:c=b,c},injectSpritesheetCSS:function(){var a=[];a=a.concat(this.getSpriteStyles()),a=a.concat(this.getOverlaySpriteStyles()),a=a.concat(this.getIndividualSpriteStyles()),this.zoo.insertRules(a)},getSpriteStyles:function(){return[[["."+d.ICON,"."+d.REPEAT_X_SPRITE],{height:this.spriteDimensions.spriteHeight+"px",display:"inline-block","background-image":"url("+this.getSrc()+")","background-color":"transparent"}]]},getOverlaySpriteStyles:function(){return[["."+d.ICON_LARGE,{display:"inline-block",height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px","background-image":"url("+this.getOverlaySrc()+")","background-color":"transparent"}]]},getIndividualSpriteStyles:function(){var a,b,c,d=[],e={icon:this.getIconCSS,"repeat-x":this.getRepeatXSpriteCSS,"icon-large":this.getIconLargeCSS};for(var f in this.spritesData)this.spritesData.hasOwnProperty(f)&&(a=this.spritesData[f],b=e[a.type],c=b.call(this,f,a),d.push(c));return d},getIconCSS:function(a,b){var c=this.spriteDimensions;return["."+d.ICON+"-"+a,{width:this.spriteDimensions.spriteWidth+"px","background-position":"-"+b.x+"px -"+b.y+"px","background-repeat":"no-repeat","background-size":2*c.spriteWidth+"px "+10.5*c.spriteHeight+"px"}]},getRepeatXSpriteCSS:function(a,b){var c=this.spriteDimensions;return["."+d.REPEAT_X_SPRITE+"-"+a,{position:"absolute",width:"100%","max-width":"100%","background-position":"0 -"+b.y+"px","background-repeat":"repeat-x","background-size":2*c.spriteWidth+"px "+10.5*c.spriteHeight+"px"}]},getIconLargeCSS:function(a,b){return["."+d.ICON_LARGE+"-"+a,{"background-position":"0 -"+b.y+"px","background-repeat":"no-repeat"}]}},b.exports=f},{"./reely-config.js":93,"./reely-css-classes.js":95}],103:[function(a,b,c){var d=a("./reely-event-bus.js"),e=a("./reely-controls.js"),f=a("./reely-overlay.js"),g=a("./reely-spritesheet.js"),h=a("../zoolander.js"),i=a("./reely-css-classes.js"),j=a("./reely-el-maker.js"),k=a("./reely-events.js"),l=function(a){this.injectEl=a.injectEl,this.src=a.src,this.slate=a.slate||"",this.autoplay=a.autoplay||!1,this.autosound=a.autosound||!1,this.playsInline=a.playsInline||!0,this.spritesheetUrls=a.spritesheets||{},this.overlaySpritesheetUrls=a.overlaySpritesheets||{},this.spriteDimensions=this.determineSpriteDimensionsConfig(a.spritesheets);var b=a.controlBar||{};this.controlBarConfig=this.determineControlBarConfig(b),a.zoolander&&(this.zoo=a.zoolander),this.init()};l.prototype={doDebug:!1,init:function(){this.el=j.make("div",i.CONTAINER),this.initZoolander(),this.injectPlayerStyles(),this.hide(),this.initChildren(),this.videoStarted=!1,this.videoEl=this.createVideoEl(),this.broadcast(),this.listen(),this.el.appendChild(this.videoEl),this.el.appendChild(this.overlay.el),this.el.appendChild(this.controls.el),this.injectEl.appendChild(this.el)},initZoolander:function(){if(!this.zoo){var a=this.injectEl.id;if(!a){var b=Date.now()+1e3*Math.floor(Math.random());this.injectEl.id=a="reely-container-parent-"+b}this.zoo=new h({id:a,prefixId:a})}},initChildren:function(){this.eventBus=new d,this.spritesheet=new g({spritesheetUrls:this.spritesheetUrls,overlaySpritesheetUrls:this.overlaySpritesheetUrls,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo});var a={eventBus:this.eventBus,spritesheet:this.spritesheet,slate:this.slate,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo};this.overlay=new f(a),this.controls=new e(a)},play:function(){this.isPlaying()||this.eventBus.trigger(k.PLAY_PAUSE_TOGGLE)},pause:function(){this.isPlaying()&&this.eventBus.trigger(k.PLAY_PAUSE_TOGGLE)},isPlaying:function(){return!this.videoEl.paused},reset:function(){this.videoEl.currentTime=0,this.pause()},unmute:function(){this.isMuted()&&(this.videoEl.muted=!1,this.eventBus.trigger(k.UNMUTED))},mute:function(){this.isMuted()||(this.videoEl.muted=!0,this.eventBus.trigger(k.MUTED))},isMuted:function(){return this.videoEl.muted},hide:function(){i.add(this.el,i.HIDDEN)},show:function(){i.remove(this.el,i.HIDDEN)},getEventBus:function(){return this.eventBus},broadcast:function(){this.passVideoEvents()},passVideoEvents:function(){this.doDebug&&this.passDebugEventLog(),this.videoEl.addEventListener("loadstart",this.eventBus.triggers[k.VID_LOADSTART]),this.videoEl.addEventListener("loadedmetadata",this.eventBus.triggers[k.VID_LOADEDMETADATA]),this.videoEl.addEventListener("loadeddata",this.eventBus.triggers[k.VID_LOADEDDATA]),this.videoEl.addEventListener("canplay",this.eventBus.triggers[k.VID_CANPLAY]),this.videoEl.addEventListener("canplaythrough",this.eventBus.triggers[k.VID_CANPLAYTHROUGH]),this.videoEl.addEventListener("waiting",this.eventBus.triggers[k.VID_WAITING]),this.videoEl.addEventListener("progress",this.eventBus.triggers[k.VID_PROGRESS]),this.videoEl.addEventListener("suspend",this.eventBus.triggers[k.VID_SUSPEND]),this.videoEl.addEventListener("play",this.eventBus.triggers[k.VID_PLAY]),this.videoEl.addEventListener("pause",this.eventBus.triggers[k.VID_PAUSE]),
this.videoEl.addEventListener("timeupdate",this.eventBus.triggers[k.VID_TIMEUPDATE]),this.videoEl.addEventListener("ended",this.eventBus.triggers[k.VID_ENDED])},passDebugEventLog:function(){for(var a=[],b=0;b<a.length;b++)this.videoEl.addEventListener(a[b],this.debugLog)},debugLog:function(a){window&&window.console&&window.console.log&&window.console.log("Media Event :: type :: ",a.type)},listen:function(){this.eventBus.addEventListener(k.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(k.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(k.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(k.VID_ENDED,this.onVideoEnded,this),this.eventBus.addEventListener(k.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.addEventListener(k.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.addEventListener(k.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this)},teardown:function(){this.pause(),this.mute(),this.videoEl.removeEventListener("loadstart",this.eventBus.triggers[k.VID_LOADSTART]),this.videoEl.removeEventListener("loadedmetadata",this.eventBus.triggers[k.VID_LOADEDMETADATA]),this.videoEl.removeEventListener("loadeddata",this.eventBus.triggers[k.VID_LOADEDDATA]),this.videoEl.removeEventListener("canplay",this.eventBus.triggers[k.VID_CANPLAY]),this.videoEl.removeEventListener("canplaythrough",this.eventBus.triggers[k.VID_CANPLAYTHROUGH]),this.videoEl.removeEventListener("waiting",this.eventBus.triggers[k.VID_WAITING]),this.videoEl.removeEventListener("progress",this.eventBus.triggers[k.VID_PROGRESS]),this.videoEl.removeEventListener("suspend",this.eventBus.triggers[k.VID_SUSPEND]),this.videoEl.removeEventListener("play",this.eventBus.triggers[k.VID_PLAY]),this.videoEl.removeEventListener("pause",this.eventBus.triggers[k.VID_PAUSE]),this.videoEl.removeEventListener("timeupdate",this.eventBus.triggers[k.VID_TIMEUPDATE]),this.videoEl.removeEventListener("ended",this.eventBus.triggers[k.VID_ENDED]),this.videoEl.removeEventListener("click",this.eventBus.triggers[k.PLAY_PAUSE_TOGGLE]),this.eventBus.removeEventListener(k.STARTED,this.onPlay,this),this.eventBus.removeEventListener(k.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.removeEventListener(k.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(k.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.removeEventListener(k.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.removeEventListener(k.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.zoo.teardown(),this.overlay.teardown(),this.controls.teardown(),this.removeNodes()},removeNodes:function(){this.injectEl.removeChild(this.el),this.videoEl=null,this.overlay.el=null,this.controls.el=null,this.el=null},onPlay:function(){this.videoStarted||(this.videoStarted=!0,this.eventBus.triggers[k.STARTED](),this.eventBus.removeEventListener(k.STARTED,this.onPlay,this))},onVideoEnded:function(){this.pause()},onPlayPauseClick:function(a){this.videoEl.paused?this.videoEl.play():this.videoEl.pause()},onMuteUnmuteClick:function(a){this.isMuted()?this.unmute():this.mute()},onScrubberBarClick:function(a){var b=a.clickedFraction;this.videoEl.currentTime=this.videoEl.duration*b},onLoadedMetadata:function(a){this.needsAspectInjection()&&this.injectAspectStyles()},onLoadedData:function(a){this.show(),this.autoplay&&this.videoEl.play()},createVideoEl:function(){var a=j.make("video",i.VIDEO);a.volume=1,a.preload=!0,a.poster=this.slate,this.playsInline&&a.setAttribute("webkit-playsinline","");var b=this.autosound;return a.muted=!b,b&&this.eventBus.trigger(k.UNMUTED),this.addSources(a),a},addSources:function(a){var b=/\.([a-z0-9]{2,4})$/.exec(this.src);if(b){var c=this.createSource(this.src,b[1]);a.appendChild(c)}else{var d=this.createSource(this.src,"mp4"),e=this.createSource(this.src,"webm");a.appendChild(d),a.appendChild(e)}var f=document.createElement("p");f.innerHTML="Sorry, your browser does not support HTML5 video.",a.appendChild(f)},createSource:function(a,b){var c=document.createElement("source");return c.src=new RegExp("\\."+b+"$").test(a)?a:a+"."+b,c.type="video/"+b,c},determineControlBarConfig:function(a){var b=this.controlBarDefaults(),c=a;if(!c)return b;var d=b;null==c.autohide&&null!=c.autoHide&&(c.autohide=c.autoHide,delete c.autoHide);for(var e,f=["width","autohide","anchorX","offsetX","anchorY","offsetY","hideBG"],g=0;g<f.length;g++)e=f[g],null!=c[e]&&(d[e]=this.addPxIfNumber(c[e]));return d},controlBarDefaults:function(){return{height:1.5*this.spriteDimensions.spriteHeight,autohide:!0,anchorX:"center",offsetX:0,anchorY:"bottom",offsetY:0,width:"100%",hideBG:!1}},addPxIfNumber:function(a){return"number"==typeof a?a+"px":a},determineSpriteDimensionsConfig:function(a){var b=this.spriteDimensionsDefaults();if(!a||!a.buttonSize)return b;var c=a.buttonSize,d={buttonPadding:.25*c,spriteHeight:c,spriteWidth:c,overlaySpriteHeight:100,overlaySpriteWidth:100};return d},spriteDimensionsDefaults:function(){return{buttonPadding:5,spriteHeight:20,spriteWidth:20,overlaySpriteHeight:100,overlaySpriteWidth:100}},injectPlayerStyles:function(){var a=[];a=a.concat(this.getUtilityStyles()),a=a.concat(this.getPlayerStyles()),a=a.concat(this.getIconStyles()),a=a.concat(this.getButtonStyles()),a=a.concat(this.getTwoStateStyles()),this.zoo.insertRules(a)},getUtilityStyles:function(){return[["."+i.UNSELECTABLE,{"user-select":"none"}],["."+i.HIDDEN,{display:"none"}],["."+i.INVISIBLE,{visibility:"hidden"}],["."+i.TRANSPARENT,{opacity:0}]]},getPlayerStyles:function(){var a={position:"relative","z-index":1,display:"block",width:"100%",height:"100%",margin:"0 auto","background-color":"black",overflow:"visible"},b={position:"absolute","z-index":-1,top:0,left:0,height:"100%",width:"100%",cursor:"pointer"};return[["."+i.CONTAINER,a],["."+i.VIDEO,b]]},getIconStyles:function(){return[[["."+i.ICON,"."+i.ICON_HOVER],{position:"absolute"}],["."+i.ICON_HOVER,{top:this.spriteDimensions.buttonPadding+"px",left:this.spriteDimensions.buttonPadding+"px"}]]},getButtonStyles:function(){return[["."+i.BUTTON,{cursor:"pointer"}],[["."+i.BUTTON+" ."+i.ICON_DEFAULT,"."+i.BUTTON+":hover ."+i.ICON_HOVER],{opacity:1}],[["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,"."+i.BUTTON+" ."+i.ICON_HOVER],{opacity:0}],[["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,"."+i.BUTTON+" ."+i.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]},getTwoStateStyles:function(){return[[["."+i.TWO_STATE_BUTTON,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_ALT],{position:"absolute"}],["."+i.TWO_STATE_BUTTON,{display:"inline-block"}],[["."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+"."+i.TOGGLED+" ."+i.TWO_STATE_ALT],{opacity:1,visibility:"visible"}],[["."+i.TWO_STATE_BUTTON+"."+i.TOGGLED+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_ALT],{opacity:0,visibility:"hidden"}]]},needsAspectInjection:function(){return 0===this.el.parentNode.clientHeight},injectAspectStyles:function(){var a=this.determineLoadedVideoDimensions(),b=(a.height/a.width*100).toFixed(4);this.aspectRule=this.zoo.insertRule("."+i.CONTAINER,{"padding-top":b+"%"})},determineLoadedVideoDimensions:function(){var a={width:this.videoEl.videoWidth,height:this.videoEl.videoHeight};return a}},b.exports=l},{"../zoolander.js":107,"./reely-controls.js":94,"./reely-css-classes.js":95,"./reely-el-maker.js":96,"./reely-event-bus.js":97,"./reely-events.js":98,"./reely-overlay.js":100,"./reely-spritesheet.js":102}],104:[function(a,b,c){function d(){function a(a){return isNaN(a)?t.length?t.shift():(console&&console.warn&&console.warn("WARNING: out of tracking actions!"),""):"adCustomAction"+(1!==a?a:"")}function b(b){var c;return isNaN(b)?o>=r?(c="tabClick"+(1!==r?r:""),r++,c):a():c="tabClick"+(1!==b?b:"")}function c(b){var c;return isNaN(b)?Array.isArray(b)&&5===b.length?{"media/start":isNaN(b[0])?b[0]:a(b[0]),"media/firstQuartile":isNaN(b[1])?b[1]:a(b[1]),"media/midpoint":isNaN(b[2])?b[2]:a(b[2]),"media/thirdQuartile":isNaN(b[3])?b[3]:a(b[3]),"media/complete":isNaN(b[4])?b[4]:a(b[4])}:n>=q?(c=1!==q?q:"",q++,{"media/start":"videoStart"+c,"media/firstQuartile":"videoFirstQuartile"+c,"media/midpoint":"videoMidpoint"+c,"media/thirdQuartile":"videoThirdQuartile"+c,"media/complete":"videoComplete"+c}):{"media/start":a(),"media/firstQuartile":a(),"media/midpoint":a(),"media/thirdQuartile":a(),"media/complete":a()}:(c=1!==b?b:"",{"media/start":"videoStart"+c,"media/firstQuartile":"videoFirstQuartile"+c,"media/midpoint":"videoMidpoint"+c,"media/thirdQuartile":"videoThirdQuartile"+c,"media/complete":"videoComplete"+c})}function d(a,b){var e,f,g,h,i=a.type,j={},k=!0,l=!0,m=v[i];if(a.video&&a.video.loop&&(l=!1),l){if(a.actions)for(g in w)void 0!==a.actions[g]&&a.actions[g].length&&(j[w[g].string]=w[g].tracker(),k=!1);if(m)for(g in m)if("function"==typeof m[g])j[g]=m[g](),k=!1;else if("isMedia"===g&&m[g]===!0){var n=c();for(h in n)j[h]=n[h];k=!1}k===!1&&(a.description&&(j.label=a.description),b[a.name]=j)}if(a.children)for(e=0,f=a.children.length;f>e;e++)d(a.children[e],b)}function f(e){var f,h,i,j,k={};if(e.trackingConfigs)for(f=0,h=e.trackingConfigs.length;h>f;f++)if(i=e.trackingConfigs[f],i.componentName&&i.data&&i.data.trackingNumber&&i.trackingType)switch(i.trackingType){case"tab":g(k,i.componentName,{"click/click":b(i.data.trackingNumber)});break;case"video":g(k,i.componentName,c(i.data.trackingNumber));break;case"custom":g(k,i.componentName,{"click/click":a(i.data.trackingNumber)});break;default:g(k,i.componentName,{"click/click":i.trackingType})}else i.componentName&&i.trackingType&&g(k,i.componentName,{"click/click":i.trackingType});else for(k.global=c(1),j=e.children,f=0,h=j.length;h>f;f++)d(j[f],k);m[e.name]=k}function g(a,b,c){var d;if(a[b])for(d in c)a[b][d]?a[b][d]=[].concat(a[b][d],c[d]):a[b][d]=c[d];else a[b]=c}function h(){var a,b,c,d="";for(a in m)for(b in m[a])for(c in m[a][b])"label"!==c&&(d+=a+": "+(m[a][b].label?'"'+m[a][b].label+'"':b)+" "+c+" = "+m[a][b][c]+"\n");return d}function i(a){var b,c,d,e,f=a.eventType+"/"+(a.data&&a.data.eventSubType?a.data.eventSubType:""),g=m[a.unitName],h=[];if(g&&g[a.componentName])if(g[a.componentName][f]&&(h=h.concat(g[a.componentName][f])),h.length>0){for(d=0;d<h.length;d++){for(c=0,e=x.length;e>c;c++)x[c](h[d],a,!1);y&&console.log("tracking "+h[d]+". "+a.componentName+" in "+a.unitName+" emitted "+f,a)}if(g&&g.global&&g.global[f]&&(b=g.global[f])){for(c=0,e=x.length;e>c;c++)x[c](b,a,!0);y&&console.log("tracking "+b+" as a global event. "+a.componentName+" in "+a.unitName+" emitted "+f,a)}}else y&&console.warn("tracking attempted, but couldn't find the event in the map. ",a);else y&&console.warn("attempt to track event on unmapped component: "+a.componentName+":"+a.eventType+"/"+a.data.eventSubType,a)}function j(a){"function"==typeof a&&x.push(a)}function k(a){y=!!a}function l(){return m}for(var m={},n=5,o=10,p=1499,q=2,r=1,s=1e3,t=[];p>=s;s++){var u="adCustomAction"+s;e[u]||t.push(u)}var v,w,x=[],y=!1;return v={alphalfa:{isMedia:!0},animaniac:{},gallery:{"click/clickPrev":b,"click/clickNext":b,"intent/swipeLeft":a,"intent/swipeRight":a},graphic:{},"minimal-video":{isMedia:!0},panel:{},reely:{isMedia:!0},rotator:{"intent/navigateRotator":a},rotatorbutton:{"click/click":b},"slider-rotator":{"click/clickPrev":b,"click/clickNext":b,"intent/swipeLeft":a,"intent/swipeRight":a}},w={click:{tracker:b,string:"click/click"},hoverIn:{tracker:a,string:"intent/hoverIn"},hoverOut:{tracker:a,string:"intent/hoverOut"}},{trackingConsumer:i,addToTrackingMap:f,getReadableTrackingMap:h,getTrackingMap:l,addConsumerCallback:j,setDebug:k}}var e={adCustomAction1001:!0,adCustomAction1002:!0,adCustomAction1003:!0,adCustomAction1004:!0,adCustomAction1005:!0,adCustomAction1006:!0,adCustomAction1007:!0,adCustomAction1008:!0,adCustomAction1009:!0,adCustomAction1031:!0,adCustomAction1032:!0,adCustomAction1033:!0,adCustomAction1034:!0,adCustomAction1035:!0,adCustomAction1036:!0,adCustomAction1037:!0,adCustomAction1038:!0,adCustomAction1039:!0,adCustomAction1040:!0,adCustomAction1041:!0,adCustomAction1042:!0,adCustomAction1043:!0,adCustomAction1044:!0,adCustomAction1045:!0,adCustomAction1046:!0,adCustomAction1047:!0,adCustomAction1048:!0,adCustomAction1049:!0,adCustomAction1050:!0,adCustomAction1101:!0,adCustomAction1102:!0,adCustomAction1103:!0,adCustomAction1104:!0,adCustomAction1105:!0,adCustomAction1106:!0,adCustomAction1107:!0,adCustomAction1108:!0,adCustomAction1109:!0,adCustomAction1110:!0,adCustomAction1111:!0,adCustomAction1112:!0,adCustomAction1113:!0,adCustomAction1114:!0,adCustomAction1115:!0,adCustomAction1116:!0,adCustomAction1117:!0,adCustomAction1118:!0,adCustomAction1119:!0,adCustomAction1120:!0,adCustomAction1201:!0,adCustomAction1202:!0,adCustomAction1203:!0,adCustomAction1204:!0,adCustomAction1205:!0,adCustomAction1206:!0,adCustomAction1207:!0,adCustomAction1208:!0,adCustomAction1209:!0,adCustomAction1210:!0,adCustomAction1211:!0,adCustomAction1212:!0,adCustomAction1213:!0,adCustomAction1214:!0,adCustomAction1215:!0,adCustomAction1216:!0,adCustomAction1217:!0,adCustomAction1218:!0,adCustomAction1219:!0,adCustomAction1220:!0,adCustomAction1301:!0,adCustomAction1302:!0,adCustomAction1303:!0,adCustomAction1304:!0,adCustomAction1305:!0,adCustomAction1306:!0,adCustomAction1307:!0,adCustomAction1308:!0,adCustomAction1309:!0,adCustomAction1310:!0,adCustomAction1311:!0,adCustomAction1312:!0,adCustomAction1313:!0,adCustomAction1314:!0,adCustomAction1315:!0,adCustomAction1316:!0,adCustomAction1317:!0,adCustomAction1318:!0,adCustomAction1319:!0,adCustomAction1320:!0,adCustomAction1321:!0,adCustomAction1322:!0,adCustomAction1323:!0,adCustomAction1324:!0,adCustomAction1325:!0,adCustomAction1326:!0,adCustomAction1327:!0,adCustomAction1328:!0,adCustomAction1329:!0,adCustomAction1330:!0,adCustomAction1331:!0,adCustomAction1332:!0,adCustomAction1333:!0,adCustomAction1334:!0,adCustomAction1335:!0,adCustomAction1336:!0,adCustomAction1337:!0,adCustomAction1338:!0,adCustomAction1339:!0,adCustomAction1340:!0,adCustomAction1341:!0,adCustomAction1342:!0,adCustomAction1343:!0,adCustomAction1344:!0,adCustomAction1345:!0};b.exports=d},{}],105:[function(a,b,c){function d(a,b){return a.hasOwnProperty(b)&&"function"==typeof a[b]&&"function"==typeof a[b].apply}function e(a){var b;switch(!0){case"object"==typeof a&&a.hasOwnProperty("length"):b=a;break;case"object"==typeof a&&null===a:b=[a];break;default:b=[]}return b}function f(){var a=[];return{notifyObserver:function(b,c,f){var g=a.indexOf(b),h=e(f);g>-1&&d(a[g],c)&&a[g][c].apply(a[g],h)},notify:function(b,c){var f=a.length,g=0,h=e(c);for(g;f>g;g++)d(a[g],b)&&a[g][b].apply(a[g],h)},subscribe:function(b){a.push(b)},unsubscribe:function(b){var c=a.indexOf(b);c>-1&&a.splice(c,1)},clear:function(){a=[]}}}b.exports=f},{}],106:[function(a,b,c){var d=function(){var a="-webkit",b="-moz",c="-ms",d="-o",e={"box-shadow":[a],transform:[a,c,b,d],perspective:[a,c],"box-sizing":[a,c,b],"background-size":[a],"user-select":[a,b,c],animation:[a,b,d],transition:[a,b,d],filter:[a,b,c,d]},f=[];for(var g in e)e.hasOwnProperty(g)&&f.push(g);return{needsFixer:function(a){return-1!==f.indexOf(a)},prefixedProps:function(a){var b=[a];if(!this.needsFixer(a))return b;for(var c,d=e[a],f=0;f<d.length;f++)c=d[f]+"-"+a,b.push(c);return b}}}();b.exports=d},{}],107:[function(a,b,c){var d=a("./zoofixer.js"),e=function(a,b,c){this.index=a,this.selector=b,this.styleText=c},f=function(a){this.doc=this._determineDocument(a),this.styleElId=this._determineStyleElId(a),this.styleEl=this._createStyleEl(this.styleElId),this.prefixId=this._determinePrefixId(a),this.doc.head.appendChild(this.styleEl),this.ss=this.styleEl.sheet,this.isFrozen=!1,this._useInsertRule="insertRule"in this.ss,this._rulesKey=this._determineRulesKey(),this._animPrefix=this._determineAnimationPrefix(),this.NULLSELECTOR=".NULLRULE"+this.styleElId};f.prototype={rules:function(){return this.ss[this._rulesKey]},teardown:function(){this.doc=null,this.ss=null,this.styleEl=null},freeze:function(){this.isFrozen=!0},unfreeze:function(){this.isFrozen=!1},insertRule:function(a,b){if(!this.isFrozen){if(!a||!b)return void console.warn("Bad selectors and/or stylesObj provided to Zoolander.");var c=this._determineSelectors(a),d=this._determineStylesText(b);return this._insertRule(c,d)}},insertRules:function(a){if(!this.isFrozen){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d[0],f=d[1],g=this.insertRule(e,f);b.push(g)}return b}},deleteRule:function(a){"undefined"==typeof a||this.isFrozen||(this.ss.deleteRule(a.index),this._attemptInsert(this.NULLSELECTOR,"",a.index))},insertKeyframes:function(a,b){var c="@"+this._animPrefix+"keyframes "+a,d=this._determineKeyframesStyleText(b);return this._insertRule(c,d,!0)},insertAnimation:function(a,b,c){var d=this._determineSelectors(a),e=this._animPrefix+b+": "+c;return this._insertRule(d,e)},_insertRule:function(a,b,c){var d=this.rules().length;try{this._attemptInsert(a,b,d,c)}catch(f){return void console.warn("Zoolander failed to insertRule :: "+f,a,"{",b,"}")}var g=new e(d,a,b);return g},_attemptInsert:function(a,b,c,d){this._useInsertRule?this.ss.insertRule(a+" {"+b+"}",c):this.ss.addRule(a,b,c)},_createStyleEl:function(a){var b="imdb_ad_design_injected_"+a,c=this.doc.getElementById(b);return c?c:(c=this.doc.createElement("style"),c.type="text/css",c.id=b,c.appendChild(this.doc.createTextNode("")),c)},_determineStyleElId:function(a){if(a&&a.id)return a.id;var b=Date.now()+Math.floor(10*Math.random());return b},_determineDocument:function(a){return a&&a.document?a.document:document},_determinePrefixId:function(a){var b=a&&a.prefixId?a.prefixId:"";if(b){var c="#"===b.charAt(0)?b:"#"+b;return c=" "===c.charAt(c.length-1)?c:c+" "}return""},_isArr:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_determineSelectors:function(a){var b,c,d="",e=this.prefixId,f="string"==typeof a&&-1!==a.indexOf(",");return f?b=a.split(","):this._isArr(a)?b=a:c=a,d=b?this._concatSelectors(b,e):e+" "+c},_concatSelectors:function(a,b){for(var c="",d=0;d<a.length;d++){var e=d===a.length-1;c+=b+" "+a[d],e||(c+=", ")}return c},_determineAnimationPrefix:function(){for(var a=["webkit","Moz","ms"],b=this.doc.createElement("div"),c="",d=0;d<a.length;d++)if(void 0!==b.style[a[d]+"AnimationName"]){c="-"+a[d].toLowerCase()+"-";break}return c},_determineStylesText:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=this._buildStyleDeclaration(c,a[c]));return b},_buildStyleDeclaration:function(a,b){var c=d.needsFixer(a);if(c){for(var e="",f=d.prefixedProps(a),g=0;g<f.length;g++)e+=f[g]+": "+b+"; ";return e}return a+": "+b+"; "},_determineKeyframesStyleText:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=this._determineStylesText(a[c]);b+=this._buildKeyframeStylesText(c,d)}return b},_buildKeyframeStylesText:function(a,b){return a+" { "+b+" } "},_determineRulesKey:function(){return"cssRules"in this.ss?"cssRules":"rules"}},f.prototype.constructor=f,b.exports=f},{"./zoofixer.js":106}],108:[function(a,b,c){!function(a,d){function e(a){var b=V(0),c=a.trim().slice(b.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return c?{key:c[1],pos:c[2],val:b+c[3]}:{val:a}}function f(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function g(a,b,c){p(a,"each");var d,g=t(a),h=a.outerHTML,i=!!Z[g],k=Z[g]||{tmpl:h},l=a.parentNode,m=document.createComment("riot placeholder"),n=[],o=q(a);l.insertBefore(m,a),c=e(c),b.one("premount",function(){l.stub&&(l=b.root),a.parentNode.removeChild(a)}).on("update",function(){var e=W(c.val,b);T(e)||(d=e?JSON.stringify(e):"",e=e?Object.keys(e).map(function(a){return f(c,a,e[a])}):[]);for(var h=document.createDocumentFragment(),p=n.length,q=e.length;p>q;)n[--p].unmount(),n.splice(p,1);for(p=0;q>p;++p){var r=!d&&c.key?f(c,e[p],p):e[p];n[p]?n[p].update(r):((n[p]=new j(k,{parent:b,isLoop:!0,hasImpl:i,root:Q.test(g)?l:a.cloneNode(),item:r},a.innerHTML)).mount(),h.appendChild(n[p].root)),n[p]._item=r}l.insertBefore(h,m),o&&(b.tags[g]=n)}).one("updated",function(){var a=Object.keys(b);w(l,function(c){1!=c.nodeType||c.isLoop||c._looped||(c._visited=!1,c._looped=!0,E(c,b,a))})})}function h(a,b,c){w(a,function(a){if(1==a.nodeType){a.isLoop=a.isLoop||a.parentNode&&a.parentNode.isLoop||a.getAttribute("each")?1:0;var d=q(a);d&&!a.isLoop&&c.push(r(d,a,b)),a.isLoop||E(a,b,[])}})}function i(a,b,c){function d(a,b,d){if(b.indexOf(V(0))>=0){var e={dom:a,expr:b};c.push(u(e,d))}}w(a,function(a){var c=a.nodeType;if(3==c&&"STYLE"!=a.parentNode.tagName&&d(a,a.nodeValue),1==c){var e=a.getAttribute("each");return e?(g(a,b,e),!1):(n(a.attributes,function(b){var c=b.name,e=c.split("__")[1];return d(a,b.value,{attr:e||c,bool:e}),e?(p(a,c),!1):void 0}),q(a)?!1:void 0)}})}function j(a,b,c){function e(){var a=t&&r?k:q||k;n(C.attributes,function(b){l[b.name]=W(b.value,a)}),n(Object.keys(G),function(b){l[b]=W(G[b],a)})}function f(a){for(var b in w)typeof k[b]!==O&&(k[b]=a[b])}function g(){k.parent&&r&&n(Object.keys(k.parent),function(a){var b=!~R.indexOf(a)&&~H.indexOf(a);(typeof k[a]===O||b)&&(b||H.push(a),k[a]=k.parent[a])})}function j(a){if(n(B,function(b){b[a?"mount":"unmount"]()}),q){var b=a?"on":"off";r?q[b]("unmount",k.unmount):q[b]("update",k.update)[b]("unmount",k.unmount)}}var k=I.observable(this),l=D(b.opts)||{},p=X(a.tmpl),q=b.parent,r=b.isLoop,t=b.hasImpl,w=v(b.item),z=[],B=[],C=b.root,E=a.fn,F=C.tagName.toLowerCase(),G={},H=[];E&&C._tag&&C._tag.unmount(!0),this.isMounted=!1,C.isLoop=r,C._tag=this,this._id=J++,u(this,{parent:q,root:C,opts:l,tags:{}},w),n(C.attributes,function(a){var b=a.value;V(/{.*}/).test(b)&&(G[a.name]=b)}),p.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(F)&&(p.innerHTML=A(p.innerHTML,c)),this.update=function(a){a=v(a),g(),a&&typeof w===N&&(f(a),w=a),u(k,a),e(),k.trigger("update",a),m(z,k),k.trigger("updated")},this.mixin=function(){n(arguments,function(a){a=typeof a===M?I.mixin(a):a,n(Object.keys(a),function(b){"init"!=b&&(k[b]=o(a[b])?a[b].bind(k):a[b])}),a.init&&a.init.bind(k)()})},this.mount=function(){if(e(),E&&E.call(k,l),i(p,k,z),j(!0),(a.attrs||t)&&(x(a.attrs,function(a,b){C.setAttribute(a,b)}),i(k.root,k,z)),(!k.parent||r)&&k.update(w),k.trigger("premount"),r&&!t)k.root=C=p.firstChild;else{for(;p.firstChild;)C.appendChild(p.firstChild);C.stub&&(k.root=C=q.root)}!k.parent||k.parent.isMounted?(k.isMounted=!0,k.trigger("mount")):k.parent.one("mount",function(){y(k.root)||(k.parent.isMounted=k.isMounted=!0,k.trigger("mount"))})},this.unmount=function(a){var b,c=C,e=c.parentNode;if(e){if(q)b=s(q),T(b.tags[F])?n(b.tags[F],function(a,c){a._id==k._id&&b.tags[F].splice(c,1)}):b.tags[F]=d;else for(;c.firstChild;)c.removeChild(c.firstChild);a?e.removeAttribute("riot-tag"):e.removeChild(c)}k.trigger("unmount"),j(),k.off("*"),C._tag=null},h(p,this,B)}function k(b,c,d,e){d[b]=function(b){var f,g=e._item,h=e.parent;if(!g)for(;h&&!g;)g=h._item,h=h.parent;b=b||a.event;try{b.currentTarget=d,b.target||(b.target=b.srcElement),b.which||(b.which=b.charCode||b.keyCode)}catch(i){}b.item=g,c.call(e,b)===!0||/radio|check/.test(d.type)||(b.preventDefault&&b.preventDefault(),b.returnValue=!1),b.preventUpdate||(f=g?s(h):e,f.update())}}function l(a,b,c){a&&(a.insertBefore(c,b),a.removeChild(b))}function m(a,b){n(a,function(a,c){var d=a.dom,e=a.attr,f=W(a.expr,b),g=a.dom.parentNode;if(a.bool?f=f?e:!1:null==f&&(f=""),g&&"TEXTAREA"==g.tagName&&(f=(""+f).replace(/riot-/g,"")),a.value!==f){if(a.value=f,!e)return void(d.nodeValue=""+f);if(p(d,e),o(f))k(e,f,d,b);else if("if"==e){var h=a.stub,i=function(){l(h.parentNode,h,d)},j=function(){l(d.parentNode,d,h)};f?h&&(i(),d.inStub=!1,y(d)||w(d,function(a){a._tag&&!a._tag.isMounted&&(a._tag.isMounted=!!a._tag.trigger("mount"))})):(h=a.stub=h||document.createTextNode(""),d.parentNode?j():(b.parent||b).one("updated",j),d.inStub=!0)}else if(/^(show|hide)$/.test(e))"hide"==e&&(f=!f),d.style.display=f?"":"none";else if("value"==e)d.value=f;else if(F(e,K)&&e!=L)f&&d.setAttribute(e.slice(K.length),f);else{if(a.bool&&(d[e]=f,!f))return;typeof f!==N&&d.setAttribute(e,f)}}})}function n(a,b){for(var c,d=0,e=(a||[]).length;e>d;d++)c=a[d],null!=c&&b(c,d)===!1&&d--;return a}function o(a){return typeof a===P||!1}function p(a,b){a.removeAttribute(b)}function q(a){return a.tagName&&Z[a.getAttribute(L)||a.tagName.toLowerCase()]}function r(a,b,c){var d,e=new j(a,{root:b,parent:c},b.innerHTML),f=t(b),g=s(c);return e.parent=g,d=g.tags[f],d?(T(d)||(g.tags[f]=[d]),~g.tags[f].indexOf(e)||g.tags[f].push(e)):g.tags[f]=e,b.innerHTML="",e}function s(a){for(var b=a;!q(b.root)&&b.parent;)b=b.parent;return b}function t(a){var b=q(a),c=a.getAttribute("name"),d=c&&c.indexOf(V(0))<0?c:b?b.name:a.tagName.toLowerCase();return d}function u(a){for(var b,c=arguments,d=1;d<c.length;++d)if(b=c[d])for(var e in b)a[e]=b[e];return a}function v(a){if(!(a instanceof j||a&&typeof a.trigger==P))return a;var b={};for(var c in a)~R.indexOf(c)||(b[c]=a[c]);return b}function w(a,b){if(a){if(b(a)===!1)return;for(a=a.firstChild;a;)w(a,b),a=a.nextSibling}}function x(a,b){for(var c,d=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;c=d.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function y(a){for(;a;){if(a.inStub)return!0;a=a.parentNode}return!1}function z(a){return document.createElement(a)}function A(a,b){return a.replace(/<(yield)\/?>(<\/\1>)?/gi,b||"")}function B(a,b){return(b||document).querySelectorAll(a)}function C(a,b){return(b||document).querySelector(a)}function D(a){function b(){}return b.prototype=a,new b}function E(a,b,c){if(!a._visited){var d,e=a.getAttribute("id")||a.getAttribute("name");e&&(c.indexOf(e)<0&&(d=b[e],d?T(d)?d.push(a):b[e]=[d,a]:b[e]=a),a._visited=!0)}}function F(a,b){return a.slice(0,b.length)===b}function G(a){if(!I.render){U||(U=z("style"),U.setAttribute("type","text/css"));var b=document.head||document.getElementsByTagName("head")[0];if(U.styleSheet?U.styleSheet.cssText+=a:U.innerHTML+=a,!U._rendered)if(U.styleSheet)document.body.appendChild(U);else{var c=C("style[type=riot]");c?(c.parentNode.insertBefore(U,c),c.parentNode.removeChild(c)):b.appendChild(U)}U._rendered=!0}}function H(a,b,c){var d=Z[b],e=a._innerHTML=a._innerHTML||a.innerHTML;return a.innerHTML="",d&&a&&(d=new j(d,{root:a,opts:c},e)),d&&d.mount?(d.mount(),Y.push(d),d.on("unmount",function(){Y.splice(Y.indexOf(d),1)})):void 0}var I={version:"v2.2.4",settings:{}},J=0,K="riot-",L=K+"tag",M="string",N="object",O="undefined",P="function",Q=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,R=["_item","_id","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],S=0|(a&&a.document||{}).documentMode,T=Array.isArray;I.observable=function(a){a=a||{};var b={},c=0;return a.on=function(d,e){return o(e)&&(typeof e.id===O&&(e._id=c++),d.replace(/\S+/g,function(a,c){(b[a]=b[a]||[]).push(e),e.typed=c>0})),a},a.off=function(c,d){return"*"==c?b={}:c.replace(/\S+/g,function(a){if(d)for(var c,e=b[a],f=0;c=e&&e[f];++f)c._id==d._id&&e.splice(f--,1);else b[a]=[]}),a},a.one=function(b,c){function d(){a.off(b,d),c.apply(a,arguments)}return a.on(b,d)},a.trigger=function(c){for(var d,e=[].slice.call(arguments,1),f=b[c]||[],g=0;d=f[g];++g)d.busy||(d.busy=1,d.apply(a,d.typed?[c].concat(e):e),f[g]!==d&&g--,d.busy=0);return b.all&&"all"!=c&&a.trigger.apply(a,["all",c].concat(e)),a},a},I.mixin=function(){var a={};return function(b,c){return c?void(a[b]=c):a[b]}}(),function(a,b,c){function d(){return h.href.split("#")[1]||""}function e(a){return a.split("/")}function f(a){a.type&&(a=d()),a!=g&&(i.trigger.apply(null,["H"].concat(e(a))),g=a)}if(c){var g,h=c.location,i=a.observable(),j=!1,k=a.route=function(a){a[0]?(h.hash=a,f(a)):i.on("H",a)};k.exec=function(a){a.apply(null,e(d()))},k.parser=function(a){e=a},k.stop=function(){j&&(c.removeEventListener?c.removeEventListener(b,f,!1):c.detachEvent("on"+b,f),i.off("*"),j=!1)},k.start=function(){j||(c.addEventListener?c.addEventListener(b,f,!1):c.attachEvent("on"+b,f),j=!0)},k.start()}}(I,"hashchange",a);var U,V=function(a){var b,c,d,e=/[{}]/g;return function(f){var g=I.settings.brackets||a;return b!==g&&(b=g,d=g.split(" "),c=d.map(function(a){return a.replace(/(?=.)/g,"\\")})),f instanceof RegExp?g===a?f:new RegExp(f.source.replace(e,function(a){return c[~~("}"===a)]}),f.global?"g":""):d[f]}}("{ }"),W=function(){function b(a,b){return a.indexOf(V(0))<0?(a=a.replace(/\n|\r\n?/g,"\n"),function(){return a}):(a=a.replace(V(/\\{/g),"").replace(V(/\\}/g),""),b=e(a,f(a,V(/{/),V(/}/))),a=2!==b.length||b[0]?"["+b.map(function(a,b){return b%2?c(a,!0):'"'+a.replace(/\n|\r\n?/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':c(b[1]),new Function("d","return "+a.replace(/\uFFF0/g,V(0)).replace(/\uFFF1/g,V(1))+";"))}function c(a,b){return a=a.replace(/\n|\r\n?/g," ").replace(V(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(a)?"["+f(a,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(a){return a.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(a,b,c){return c.replace(/[^&|=!><]+/g,d)+'?"'+b+'":"",'})}).join("")+'].join(" ").trim()':d(a,b)}function d(a,b){return a=a.trim(),a?"(function(v){try{v="+a.replace(i,function(a,b,c){return c?'(("'+c+h+c+")":a})+"}catch(e){}return "+(b===!0?'!v&&v!==0?"":v':"v")+"}).call(d)":""}function e(a,b){var c=[];return b.map(function(b,d){d=a.indexOf(b),c.push(a.slice(0,d),b),a=a.slice(d+b.length)}),a&&c.push(a),c}function f(a,b,c){var d,e=0,f=[],g=new RegExp("("+b.source+")|("+c.source+")","g");return a.replace(g,function(b,c,g,h){!e&&c&&(d=h),e+=c?1:-1,e||null==g||f.push(a.slice(d,h+g.length))}),f}var g={},h='"in d?d:'+(a?"window).":"global)."),i=/(['"\/])(?:[^\\]*?|\\.|.)*?\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function\s*\()|([A-Za-z_$]\w*)/g;return function(a,c){return a&&(g[a]||(g[a]=b(a)))(c)}}(),X=function(a){function b(b){var f=b&&b.match(/^\s*<([-\w]+)/),g=f&&f[1].toLowerCase(),h=d[g]||e,i=z(h);return i.stub=!0,a&&g&&(f=g.match(Q))?c(i,b,g,!!f[1]):i.innerHTML=b,i}function c(a,b,c,d){var f,g=z(e),h=d?"select>":"table>";g.innerHTML="<"+h+b+"</"+h,f=g.getElementsByTagName(c)[0],f&&a.appendChild(f)}var d={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},e="div";return a=a&&10>a,b}(S),Y=[],Z={};I.tag=function(a,b,c,d,e){return o(d)&&(e=d,/^[\w\-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(o(c)?e=c:G(c)),Z[a]={name:a,tmpl:b,attrs:d,fn:e},a},I.mount=function(a,b,c){function d(a){var b="";return n(a,function(a){b+=", *["+L+'="'+a.trim()+'"]'}),b}function e(){var a=Object.keys(Z);return a+d(a)}function f(a){var d;if(a.tagName){!b||(d=a.getAttribute(L))&&d==b||a.setAttribute(L,b);var e=H(a,b||a.getAttribute(L)||a.tagName.toLowerCase(),c);e&&i.push(e)}else a.length&&n(a,f)}var g,h,i=[];if(typeof b===N&&(c=b,b=0),typeof a===M?("*"===a?a=h=e():a+=d(a.split(",")),g=B(a)):g=a,"*"===b){if(b=h||e(),g.tagName)g=B(b,g);else{var j=[];n(g,function(a){j.push(B(b,a))}),g=j}b=0}return g.tagName?f(g):n(g,f),i},I.update=function(){return n(Y,function(a){a.update()})},I.mountTo=I.mount,I.util={brackets:V,tmpl:W},typeof c===N?b.exports=I:"function"==typeof define&&define.amd?define(function(){return a.riot=I}):a.riot=I}("undefined"!=typeof window?window:void 0)},{}],109:[function(a,b,c){a("./tarnhelm")},{"./tarnhelm":78}]},{},[109])},{}],47:[function(a,b,c){(function(a){(function(){function d(a,b){if(a!==b){var c=null===a,d=a===z,e=a===a,f=null===b,g=b===z,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function e(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function f(a,b,c){if(b!==b)return q(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function g(a){return"function"==typeof a||!1}function h(a){return null==a?"":a+""}function i(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function j(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}
function k(a,b){return d(a.criteria,b.criteria)||a.index-b.index}function l(a,b,c){for(var e=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++e<h;){var j=d(f[e],g[e]);if(j){if(e>=i)return j;var k=c[e];return j*("asc"===k||k===!0?1:-1)}}return a.index-b.index}function m(a){return Sa[a]}function n(a){return Ta[a]}function o(a,b,c){return b?a=Wa[a]:c&&(a=Xa[a]),"\\"+a}function p(a){return"\\"+Xa[a]}function q(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function r(a){return!!a&&"object"==typeof a}function s(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function t(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=S,f[++e]=c);return f}function u(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function v(a){for(var b=-1,c=a.length;++b<c&&s(a.charCodeAt(b)););return b}function w(a){for(var b=a.length;b--&&s(a.charCodeAt(b)););return b}function x(a){return Ua[a]}function y(a){function b(a){if(r(a)&&!Ch(a)&&!(a instanceof Z)){if(a instanceof s)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new s(a)}function c(){}function s(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Z(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function ba(){var a=new Z(this.__wrapped__);return a.__actions__=ab(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ab(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ab(this.__views__),a}function da(){if(this.__filtered__){var a=new Z(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||O>e||e==i&&n==i)return cc(d&&c?a.reverse():a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Q)q=u;else if(!u){if(t==P)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?z:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function ab(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function bb(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===z?b:a}function pb(a,b,c,d){return a!==z&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==z||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:z:h[c]=d?z:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===z?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===z?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==z)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return ab(a,h)}else{var j=cg.call(a),k=j==Y;if(j!=_&&j!=T&&(!k||e))return Ra[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?bb:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(R);return lg(function(){a.apply(z,c)},b)}function xb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,g=Qc(),h=g==f,i=h&&b.length>=O?oc(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++e<c;){var k=a[e];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else g(b,k,0)<0&&d.push(k)}return d}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===z||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];r(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==z&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:z}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!r(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=U,k=U;h||(j=cg.call(a),j==T?j=_:j!=_&&(h=Qe(a))),i||(k=cg.call(b),k==T?k=_:k!=_&&(i=Qe(b)));var l=j==_,m=k==_,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===z&&!(h in a))return!1}else{var k=c?c(i,j,h):z;if(!(k===z?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==z||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),!(!c&&d||g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==z||g in f:Jb(b,f[g],z,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?z:Nh(b);return bb(g||b,function(h,i){if(g&&(i=h,h=b[i]),r(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):z,l=k===z;l&&(k=h),k===z&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):z,l=k===z;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?ab(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?z:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===z||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return l(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var c=-1,d=Qc(),e=a.length,g=d==f,h=g&&e>=O,i=h?oc():null,j=[];i?(d=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof Z&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===z;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==z,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===z)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:z,g=e>2?c[2]:z,h=e>1?c[e-1]:z;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:z,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?z:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==cb&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=z);var f=Kc(c,a,z,z,z,z,z,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(z,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=z),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,b){return function(c,d,f){if(d=Oc(d,f,3),Ch(c)){var g=e(c,d,b);return g>-1?c[g]:z}return Cb(c,d,a)}}function vc(a){return function(b,c,d){return b&&b.length?(c=Oc(c,d,3),e(b,c,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Of(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Xf(R);!b&&s.prototype.thru&&"wrapper"==Pc(g)&&(b=new s([],!0))}for(d=b?-1:c;++d<c;){g=f[d];var h=Pc(g),i="wrapper"==h?Og(g):z;b=i&&ad(i[0])&&i[1]==(I|E|G|J)&&!i[4].length&&1==i[9]?b[Pc(i[0])].apply(b,i[3]):1==g.length&&ad(g)?b[h]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=O)return b.plant(d).value();for(var e=0,g=c?f[e].apply(this,a):d;++e<c;)g=f[e].call(this,g);return g}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===z&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return("function"!=typeof c||d!==z)&&(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return("function"!=typeof c||d!==z)&&(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=h(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=t(d,b.placeholder);return Kc(c,a,z,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===z&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,u=s,v=Of(s);u--;)v[u]=arguments[u];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||q){var w=k.placeholder,x=t(v,w);if(s-=x.length,j>s){var y=h?ab(h):z,A=vg(j-s,0),D=o?x:z,E=o?z:x,F=o?v:z,I=o?z:v;b|=o?G:H,b&=~(o?H:G),p||(b&=~(B|C));var J=[a,b,c,F,D,I,E,y,i,A],K=Fc.apply(z,J);return ad(a)&&Qg(K,J),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==cb&&this instanceof k&&(M=r||qc(a)),M.apply(L,v)}var l=b&I,m=b&B,n=b&C,o=b&E,p=b&D,q=b&F,r=n?z:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==cb&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&B,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===z?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&C;if(!i&&"function"!=typeof a)throw new Xf(R);var j=d?d.length:0;if(j||(b&=~(G|H),d=e=z),j-=e?e.length:0,b&H){var k=d,l=e;d=e=z}var m=i?z:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==B)var o=nc(n[0],n[2]);else o=b!=G&&b!=(B|G)||n[4].length?Fc.apply(z,n):Hc.apply(z,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):z;if(m!==z){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case V:case W:return+a==+b;case X:return a.name==b.name&&a.message==b.message;case $:return a!=+a?b!=+b:a==+b;case aa:case ca:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):z;if(!(q===z?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,c,d){var e=b.callback||zf;return e=e===zf?ub:e,d?e(a,c,d):e}function Pc(a){for(var b=a.name,c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,c,d){var e=b.indexOf||xd;return e=e===xd?f:e,a?e(a,c,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?z:a[b];return Ke(c)?c:z}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ea:return gc(a);case V:case W:return new d(+a);case fa:case ga:case ha:case ia:case ja:case ka:case la:case ma:case na:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case $:case ca:return new d(a);case aa:var f=new d(a.source,Ga.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?z:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ja.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&za.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!ya.test(a);return d||null!=b&&a in kd(b)}function ad(a){var c=Pc(a);if(!(c in Z.prototype))return!1;var d=b[c];if(a===d)return!0;var e=Og(d);return!!e&&a===e[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=I>e,g=d==I&&c==E||d==I&&c==J&&a[7].length<=b[8]||d==(I|J)&&c==E;if(!f&&!g)return a;d&B&&(a[2]=b[2],e|=c&B?0:D);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):ab(h),a[4]=i?t(a[3],S):ab(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):ab(h),a[6]=i?t(a[5],S):ab(b[6])),h=b[7],h&&(a[7]=ab(h)),d&I&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===z?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=ab(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:z}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return h(a).replace(Aa,function(a,c,d,e){b.push(d?e.replace(Ea,"$1"):c||a)}),b}function md(a){return a instanceof Z?a.clone():new s(a.__wrapped__,a.__chain__,ab(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:z}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?vg(d+c,0):c;else if(c){var e=dc(a,b);return d>e&&(b===b?b===a[e]:a[e]!==a[e])?e:-1}return f(a,b,c||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:z}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return q(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=$c(a,b,d)?z:b,b=!1);var g=Oc();return(null!=c||g!==ub)&&(c=g(c,d,3)),b&&Qc()==f?u(a,c):_b(a,c)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,z,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var c=b(a);return c.__chain__=!0,c}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new s(this.value(),this.__chain__)}function Td(a){for(var b,d=this;d instanceof c;){var e=md(d);b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return c&&c.__dir__<0?a:a.reverse()};if(a instanceof Z){var c=a;return this.__actions__.length&&(c=new Z(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:z}),new s(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=z),("function"!=typeof b||c!==z)&&(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:z}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=z),("function"!=typeof b||c!==z)&&(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=z);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,k)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=z),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(R);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=z),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,I,z,z,z,z,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(R);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=z),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=z}function e(b,c){c&&gg(c),j=n=o=z,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=z))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=z),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(R);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(R);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(R);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(R);return b=vg(b===z?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(R);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(R);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,G,z,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,1)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,1)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return r(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||r(a)&&cg.call(a)==V}function Ae(a){return r(a)&&cg.call(a)==W}function Be(a){return!!a&&1===a.nodeType&&r(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||r(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):z;var e=c?c(a,b):z;return e===z?Jb(a,b,c):!!e}function Ee(a){return r(a)&&"string"==typeof a.message&&cg.call(a)==X}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==Y}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):z,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):r(a)&&Ia.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||r(a)&&cg.call(a)==$}function Ne(a){var b;if(!r(a)||cg.call(a)!=_||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===z||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==aa}function Pe(a){return"string"==typeof a||r(a)&&cg.call(a)==ca}function Qe(a){return r(a)&&bd(a.length)&&!!Qa[cg.call(a)]}function Re(a){return a===z}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?ab(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=z),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?z:Ib(a,ld(b),b+"");return d===z?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=z);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?z:a[b];return d===z&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?z:a[zd(b)]),d=d===z?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:z)}else c={};return(e?bb:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===z?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=z);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=h(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=h(a),a&&a.replace(Ka,m).replace(Da,"")}function lf(a,b,c){a=h(a),b+="";var d=a.length;return c=c===z?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=h(a),a&&ua.test(a)?a.replace(sa,n):a}function nf(a){return a=h(a),a&&Ca.test(a)?a.replace(Ba,o):a||"(?:)"}function of(a,b,c){a=h(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var e=(b-d)/2,f=rg(e),g=pg(e);return c=Gc("",g,c),c.slice(0,f)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ha.test(a)?16:10))}function qf(a,b){var c="";if(a=h(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c;
}function rf(a,b,c){return a=h(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,c,d){var e=b.templateSettings;d&&$c(a,c,d)&&(c=d=z),a=h(a),c=qb(rb({},d||c),e,pb);var f,g,i=qb(rb({},c.imports),e.imports,pb),j=Nh(i),k=ac(i,j),l=0,m=c.interpolate||La,n="__p += '",o=Vf((c.escape||La).source+"|"+m.source+"|"+(m===xa?Fa:La).source+"|"+(c.evaluate||La).source+"|$","g"),q="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Pa+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Ma,p),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var r=c.variable;r||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(oa,""):n).replace(pa,"$1").replace(qa,"$1;"),n="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Yh(function(){return Rf(j,q+"return "+n).apply(z,k)});if(s.source=n,Ee(s))throw s;return s}function tf(a,b,c){var d=a;return(a=h(a))?(c?$c(d,b,c):null==b)?a.slice(v(a),w(a)+1):(b+="",a.slice(i(a,b),j(a,b)+1)):a}function uf(a,b,c){var d=a;return a=h(a),a?(c?$c(d,b,c):null==b)?a.slice(v(a)):a.slice(i(a,b+"")):a}function vf(a,b,c){var d=a;return a=h(a),a?(c?$c(d,b,c):null==b)?a.slice(0,w(a)+1):a.slice(0,j(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=z);var d=K,e=L;if(null!=b)if(He(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?h(b.omission):e}else d=+b||0;if(a=h(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var i=a.slice(0,g);if(null==f)return i+e;if(Oe(f)){if(a.slice(g).search(f)){var j,k,l=a.slice(0,g);for(f.global||(f=Vf(f.source,(Ga.exec(f)||"")+"g")),f.lastIndex=0;j=f.exec(l);)k=j.index;i=i.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=i.lastIndexOf(f);m>-1&&(i=i.slice(0,m))}return i+e}function xf(a){return a=h(a),a&&ta.test(a)?a.replace(ra,x):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=z),a=h(a),a.match(b||Na)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=z),r(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):z,f=e&&e.length?Hb(b,e):z;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=ab(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return cb._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=z),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return h(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=z),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}a=a?db.defaults(cb.Object(),a,db.pick(cb,Oa)):cb;var Of=a.Array,Pf=a.Date,Qf=a.Error,Rf=a.Function,Sf=a.Math,Tf=a.Number,Uf=a.Object,Vf=a.RegExp,Wf=a.String,Xf=a.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=cb._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=a.ArrayBuffer,gg=a.clearTimeout,hg=a.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(a,"Set"),lg=a.setTimeout,mg=Yf.splice,ng=a.Uint8Array,og=Sc(a,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=a.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=a.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};b.support={};b.templateSettings={escape:va,evaluate:wa,interpolate:xa,variable:"",imports:{_:b}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=z}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=N-(e-b);if(b=e,f>0){if(++a>=M)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return r(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,c=b,d=Of(l),e=Qc(),g=e==f,h=[];c--;){var i=a[c]=Yc(i=a[c])?i:[];d[c]=g&&i.length>=120?oc(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(h,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(a,b){b=Db(b);var c=sb(a,b);return Tb(a,b.sort(d)),c}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:z,d=b>1?a[b-1]:z;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):z,d=z),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return _a(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(bb,Jg),gh=yc(eb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:z;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=B;if(c.length){var e=t(c,ph.placeholder);d|=G}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],B,a)}return a}),rh=qe(function(a,b,c){var d=B|C;if(c.length){var e=t(c,rh.placeholder);d|=G}return Kc(b,d,a,c,e)}),sh=rc(E),th=rc(F),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,g))throw new Xf(R);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(G),Ah=Dc(H),Bh=qe(function(a,b){return Kc(a,J,z,z,z,Db(b))}),Ch=sg||function(a){return r(a)&&bd(a.length)&&cg.call(a)==U},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?z:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(z,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return b.prototype=c.prototype,s.prototype=Ig(c.prototype),s.prototype.constructor=s,Z.prototype=Ig(c.prototype),Z.prototype.constructor=Z,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,b.after=je,b.ary=ke,b.assign=Eh,b.at=bh,b.before=le,b.bind=ph,b.bindAll=qh,b.bindKey=rh,b.callback=zf,b.chain=Od,b.chunk=nd,b.compact=od,b.constant=Af,b.countBy=ch,b.create=We,b.curry=sh,b.curryRight=th,b.debounce=me,b.defaults=Fh,b.defaultsDeep=Gh,b.defer=uh,b.delay=vh,b.difference=Rg,b.drop=pd,b.dropRight=qd,b.dropRightWhile=rd,b.dropWhile=sd,b.fill=td,b.filter=Yd,b.flatten=vd,b.flattenDeep=wd,b.flow=wh,b.flowRight=xh,b.forEach=fh,b.forEachRight=gh,b.forIn=Jh,b.forInRight=Kh,b.forOwn=Lh,b.forOwnRight=Mh,b.functions=Xe,b.groupBy=hh,b.indexBy=ih,b.initial=yd,b.intersection=Ug,b.invert=$e,b.invoke=jh,b.keys=Nh,b.keysIn=_e,b.map=_d,b.mapKeys=Oh,b.mapValues=Ph,b.matches=Cf,b.matchesProperty=Df,b.memoize=ne,b.merge=Dh,b.method=Zh,b.methodOf=$h,b.mixin=Ef,b.modArgs=yh,b.negate=oe,b.omit=Qh,b.once=pe,b.pairs=af,b.partial=zh,b.partialRight=Ah,b.partition=kh,b.pick=Rh,b.pluck=ae,b.property=Hf,b.propertyOf=If,b.pull=Bd,b.pullAt=Vg,b.range=Jf,b.rearg=Bh,b.reject=be,b.remove=Cd,b.rest=Dd,b.restParam=qe,b.set=cf,b.shuffle=de,b.slice=Ed,b.sortBy=ge,b.sortByAll=nh,b.sortByOrder=he,b.spread=re,b.take=Fd,b.takeRight=Gd,b.takeRightWhile=Hd,b.takeWhile=Id,b.tap=Pd,b.throttle=se,b.thru=Qd,b.times=Kf,b.toArray=Ue,b.toPlainObject=Ve,b.transform=df,b.union=Yg,b.uniq=Jd,b.unzip=Kd,b.unzipWith=Ld,b.values=ef,b.valuesIn=ff,b.where=ie,b.without=Zg,b.wrap=te,b.xor=Md,b.zip=$g,b.zipObject=Nd,b.zipWith=_g,b.backflow=xh,b.collect=_d,b.compose=xh,b.each=fh,b.eachRight=gh,b.extend=Eh,b.iteratee=zf,b.methods=Xe,b.object=Nd,b.select=Yd,b.tail=Dd,b.unique=Jd,Ef(b,b),b.add=Mf,b.attempt=Yh,b.camelCase=Sh,b.capitalize=jf,b.ceil=_h,b.clone=ue,b.cloneDeep=ve,b.deburr=kf,b.endsWith=lf,b.escape=mf,b.escapeRegExp=nf,b.every=Xd,b.find=dh,b.findIndex=Sg,b.findKey=Hh,b.findLast=eh,b.findLastIndex=Tg,b.findLastKey=Ih,b.findWhere=Zd,b.first=ud,b.floor=ai,b.get=Ye,b.gt=we,b.gte=xe,b.has=Ze,b.identity=Bf,b.includes=$d,b.indexOf=xd,b.inRange=gf,b.isArguments=ye,b.isArray=Ch,b.isBoolean=ze,b.isDate=Ae,b.isElement=Be,b.isEmpty=Ce,b.isEqual=De,b.isError=Ee,b.isFinite=Fe,b.isFunction=Ge,b.isMatch=Ie,b.isNaN=Je,b.isNative=Ke,b.isNull=Le,b.isNumber=Me,b.isObject=He,b.isPlainObject=Ne,b.isRegExp=Oe,b.isString=Pe,b.isTypedArray=Qe,b.isUndefined=Re,b.kebabCase=Th,b.last=zd,b.lastIndexOf=Ad,b.lt=Se,b.lte=Te,b.max=bi,b.min=ci,b.noConflict=Ff,b.noop=Gf,b.now=oh,b.pad=of,b.padLeft=Uh,b.padRight=Vh,b.parseInt=pf,b.random=hf,b.reduce=lh,b.reduceRight=mh,b.repeat=qf,b.result=bf,b.round=di,b.runInContext=y,b.size=ee,b.snakeCase=Wh,b.some=fe,b.sortedIndex=Wg,b.sortedLastIndex=Xg,b.startCase=Xh,b.startsWith=rf,b.sum=Nf,b.template=sf,b.trim=tf,b.trimLeft=uf,b.trimRight=vf,b.trunc=wf,b.unescape=xf,b.uniqueId=Lf,b.words=yf,b.all=Xd,b.any=fe,b.contains=$d,b.eq=De,b.detect=dh,b.foldl=lh,b.foldr=mh,b.head=ud,b.include=$d,b.inject=lh,Ef(b,function(){var a={};return Fb(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.sample=ce,b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},b.VERSION=A,bb(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),bb(["drop","take"],function(a,b){Z.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Z(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},Z.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=Q;Z.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),bb(["first","last"],function(a,b){var c="take"+(b?"Right":"");Z.prototype[a]=function(){return this[c](1).value()[0]}}),bb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Z.prototype[a]=function(){return this.__filtered__?new Z(this):this[c](1)}}),bb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;Z.prototype[a]=function(a){return this[c](d(a))}}),Z.prototype.compact=function(){return this.filter(Bf)},Z.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},Z.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new Z(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==z&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Z.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Z.prototype.toArray=function(){return this.take(Bg)},Fb(Z.prototype,function(a,c){var d=/^(?:filter|map|reject)|While$/.test(c),e=/^(?:first|last)$/.test(c),f=b[e?"take"+("last"==c?"Right":""):c];f&&(b.prototype[c]=function(){var b=e?[1]:arguments,c=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Z,j=b[0],k=i||Ch(g);k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=function(a){return e&&c?f(a,1)[0]:f.apply(z,jb([a],b))},m={func:Qd,args:[l],thisArg:z},n=i&&!h;if(e&&!c)return n?(g=g.clone(),g.__actions__.push(m),a.call(g)):f.call(z,this.value())[0];if(!e&&k){g=n?g:new Z(this);var o=a.apply(g,b);return o.__actions__.push(m),new s(o,c)}return this.thru(l)})}),bb(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}}),Fb(Z.prototype,function(a,c){var d=b[c];if(d){var e=d.name,f=Hg[e]||(Hg[e]=[]);f.push({name:c,func:d})}}),Hg[Fc(z,C).name]=[{name:"wrapper",func:z}],Z.prototype.clone=ba,Z.prototype.reverse=da,Z.prototype.value=Sa,b.prototype.chain=Rd,b.prototype.commit=Sd,b.prototype.concat=ah,b.prototype.plant=Td,b.prototype.reverse=Ud,b.prototype.toString=Vd,b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=Wd,b.prototype.collect=b.prototype.map,b.prototype.head=b.prototype.first,b.prototype.select=b.prototype.filter,b.prototype.tail=b.prototype.rest,b}var z,A="3.10.1",B=1,C=2,D=4,E=8,F=16,G=32,H=64,I=128,J=256,K=30,L="...",M=150,N=16,O=200,P=1,Q=2,R="Expected a function",S="__lodash_placeholder__",T="[object Arguments]",U="[object Array]",V="[object Boolean]",W="[object Date]",X="[object Error]",Y="[object Function]",Z="[object Map]",$="[object Number]",_="[object Object]",aa="[object RegExp]",ba="[object Set]",ca="[object String]",da="[object WeakMap]",ea="[object ArrayBuffer]",fa="[object Float32Array]",ga="[object Float64Array]",ha="[object Int8Array]",ia="[object Int16Array]",ja="[object Int32Array]",ka="[object Uint8Array]",la="[object Uint8ClampedArray]",ma="[object Uint16Array]",na="[object Uint32Array]",oa=/\b__p \+= '';/g,pa=/\b(__p \+=) '' \+/g,qa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ra=/&(?:amp|lt|gt|quot|#39|#96);/g,sa=/[&<>"'`]/g,ta=RegExp(ra.source),ua=RegExp(sa.source),va=/<%-([\s\S]+?)%>/g,wa=/<%([\s\S]+?)%>/g,xa=/<%=([\s\S]+?)%>/g,ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,za=/^\w*$/,Aa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ba=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ca=RegExp(Ba.source),Da=/[\u0300-\u036f\ufe20-\ufe23]/g,Ea=/\\(\\)?/g,Fa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ga=/\w*$/,Ha=/^0[xX]/,Ia=/^\[object .+?Constructor\]$/,Ja=/^\d+$/,Ka=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,La=/($^)/,Ma=/['\n\r\u2028\u2029\\]/g,Na=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Oa=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Pa=-1,Qa={};Qa[fa]=Qa[ga]=Qa[ha]=Qa[ia]=Qa[ja]=Qa[ka]=Qa[la]=Qa[ma]=Qa[na]=!0,Qa[T]=Qa[U]=Qa[ea]=Qa[V]=Qa[W]=Qa[X]=Qa[Y]=Qa[Z]=Qa[$]=Qa[_]=Qa[aa]=Qa[ba]=Qa[ca]=Qa[da]=!1;var Ra={};Ra[T]=Ra[U]=Ra[ea]=Ra[V]=Ra[W]=Ra[fa]=Ra[ga]=Ra[ha]=Ra[ia]=Ra[ja]=Ra[$]=Ra[_]=Ra[aa]=Ra[ca]=Ra[ka]=Ra[la]=Ra[ma]=Ra[na]=!0,Ra[X]=Ra[Y]=Ra[Z]=Ra[ba]=Ra[da]=!1;var Sa={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ua={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Va={"function":!0,object:!0},Wa={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ya=Va[typeof c]&&c&&!c.nodeType&&c,Za=Va[typeof b]&&b&&!b.nodeType&&b,$a=Ya&&Za&&"object"==typeof a&&a&&a.Object&&a,_a=Va[typeof self]&&self&&self.Object&&self,ab=Va[typeof window]&&window&&window.Object&&window,bb=Za&&Za.exports===Ya&&Ya,cb=$a||ab!==(this&&this.window)&&ab||_a||this,db=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(cb._=db,define(function(){return db})):Ya&&Za?bb?(Za.exports=db)._=db:Ya._=db:cb._=db}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(a,b,c){"use strict";function d(a,b){var c=Object.keys(b).map(function(a){return parseInt(a,10)}).filter(function(b){return b>a}).sort(function(a,b){return a-b});return c.length>0?c[0]:0}Object.defineProperty(c,"__esModule",{value:!0});var e=a(49),f=375,g=function(a,b,c,e){var f=a.split(","),g=new Map;return f.filter(function(a){return a in b}).map(function(a){if(a in b){var f=b[a],g=d(c,f);if(e){var h=d(e,f);if(h===g||f[""+g]===f[""+h])return null}return[a,g>0?f[g.toString()]:0]}}).filter(function(a){return null!==a}).forEach(function(a){return g.set(a[0],a[1])}),g};c.constructCurrentSlotSizeMap=g;var h=function(a,b,c,d,h){if(!e.isDefined(a)||""===a||!e.isDefined(b)||""===b||!e.isDefined(c)||0===Object.keys(c).length)return"";var j=e.isDefined(window)?window.innerWidth:f,k=g(b,c,j,d),l="";return k.forEach(function(a,b){i(b,h,j)||(l+=b+"="+a+",")}),l=l.replace(new RegExp(",$"),""),l=encodeURIComponent(l),l=l.length>0?"&slotSizeMap="+l:"",l.length>0?""+a+l:""};c.constructClientSideUrl=h,c.getLastBreakPoint=d;var i=function(a,b,c){if(!(b&&a&&a in b&&c))return!1;var d=Object.keys(b[a]).map(function(a){return parseInt(a,10)}).sort(),f=e.find(d,function(c){return!b[a][c]})||0,g=e.find(d,function(c){return b[a][c]})||0;return c>f&&g>=c};c.isResponsiveDisabled=i},{49:49}],49:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.find=function(a,b){for(var c=0,d=a;c<d.length;c++){var e=d[c],f=b(e);if(f)return e}},c.isDefined=function(a){return"undefined"!=typeof a}},{}],50:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a(49);c.isDefined=d.isDefined;var e=a(48);c.constructClientSideUrl=e.constructClientSideUrl},{48:48,49:49}],51:[function(a,b,c){"use strict";function d(a){document.location.hash.match("debug=1")&&"undefined"!=typeof a&&console.error(a)}function e(a,b){if("consoleLog"in window&&"generic"in window&&"ad_utils"in window&&"custom"in window&&"monitoring"in window.generic&&"document_is_ready"in window.generic)try{a.call(this)}catch(c){"undefined"!=typeof b&&(c.message=b+" "+c.message),window.ueLogError&&(c.attribution="Advertising",c.logLevel="ERROR",window.ueLogError(c)),d(c.message)}else d(b)}c.__esModule=!0,c["default"]=e,b.exports=c["default"]},{}],52:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(51),f=d(e);!function(){function a(){window.jQuery&&(clearTimeout(b),window.jQuery(function(){window.generic.document_is_ready()}),window.generic.monitoring.stop_timing("page_load","",!0),window.generic.monitoring.all_events_started())}var b=setInterval(function(){return f["default"](a,"No monitoring or document_is_ready object in generic")},50)}()},{51:51}]},{},[15]);